{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\client\\\\src\\\\Containers\\\\home\\\\Home_Options\\\\addReport.js\";\nimport React, { useEffect, useMemo, useState, useContext, useCallback } from 'react';\nimport { UpdateLoggedin } from '../../isLoggedin/action';\nimport styled from 'styled-components';\nimport { Link, Route } from 'react-router-dom';\nimport { Context } from '../../../Context/Context';\nimport { UserInputs } from './addPerson';\nimport Generator from 'generate-password';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport { Regions } from '../../../Regions/regions';\nimport Circle from '../../../UI/Circle';\nimport Modal from '../../../UI/sentModal';\nimport Stage from '../../../UI/backStage';\nimport { Checkbox, TextField, Tab, Tabs, Paper, InputLabel, MenuItem, Selec } from '@material-ui/core';\nimport { makeAddReportRequest } from '../../../request/requset';\nconst MainWrapper = styled.form`\ndisplay:flex;\nbackground:white;\nwidth:70%;\nmargin:0 auto;\nalign-items:center;\njustify-content:center;\nmargin-top:2%;\npadding:30px;\n@media (max-width: 1030px) {\n  padding:10px;\n}\nborder-radius:3px;\nflex-flow:column;\n`;\nconst InnerItems = styled.div`\ndisplay:flex;\njustify-content:flex-end;\nwidth:100%;\nmargin-bottom:20px;\npadding:20px 0 5px 0;\ncolor:#30475e;\n`;\nconst SubmitButton = styled.button`\noutline:none; \nbackground:#00bdaa;\nborder:none;\ncolor:white;\npadding:10px 20px ;\n&:hover{\n    cursor:pointer;\n}\n`;\nconst ReportContainer = styled.form`\n  width:100%;\n  display:flex;\n  justify-content:center;\n  align-items:stretch;\n  margin-top:20px;\n  @media (max-width: 1030px) {\n   flex-direction:column;\n   align-items:center;\n  }\n`;\nconst ReportDescripton = styled.textarea`\nflex:0.7; \nresize:none;\npadding:10px;\nborder:none;\noutline:none;\nbox-shadow:0 0 2px black;\n@media (max-width: 1030px) {\n  width:75%;\n  margin-top:20px;\n}\n`;\nconst ReportTextFields = styled.div`\nflex:1;\ndisplay:flex;\njustify-content:center;\nflex-direction:column;\nalign-items:center;\n@media (max-width: 1030px) {\n    width:100%\n }\n`;\nconst initialReportStates = {\n  schoolName: '',\n  relatedPersonName: '',\n  relatedPersonPhoneNumber: '',\n  meetingDate: new Date(Date(Date.now())),\n  relatedPersonEmail: '',\n  meetingDetails: ''\n};\nconst initialReportStates2 = {\n  relatedPersonName: '',\n  relatedPersonPhoneNumber: '',\n  meetingDate: new Date(Date(Date.now())),\n  relatedPersonEmail: '',\n  meetingDetails: ''\n};\nexport const AddReport = React.memo(props => {\n  const [reportType, setReportType] = useState(null);\n  const [initialReportState, setinitialReportState] = useState(null);\n  const {\n    isLoggedinf,\n    user\n  } = useContext(Context);\n  const [emptyWarning, setEmptyWarning] = useState(false);\n  const [reportAdded, setReportAdded] = useState(false);\n  const [backStage, setBackStage] = useState(false);\n  const [date, setDate] = useState(new Date(Date(Date.now())));\n  useEffect(() => {\n    //this is just because of Date issue //--------      \n    if (reportType) setinitialReportState(prevState => ({ ...prevState,\n      meetingDate: date\n    }));\n  }, [date]);\n  useEffect(() => {\n    //this is just because of Date issue //--------  \n    if (reportType === 'schoolReport') setinitialReportState(initialReportStates);else if (reportType === 'studentReport') setinitialReportState(initialReportStates2);\n  }, [reportType]);\n\n  const closeEmptyModal = () => {\n    setBackStage(false);\n    setEmptyWarning(false);\n  };\n\n  const closeReportAddedModal = () => {\n    setBackStage(false);\n    setReportAdded(false);\n  };\n\n  const setReportTypeF = e => {\n    setReportType(e.target.value);\n  };\n\n  const SubmitOnChange = type => event => {\n    let value = event.target.value;\n    setinitialReportState(prevState => ({ ...prevState,\n      [type]: value\n    }));\n  };\n\n  const SubmitReport = e => {\n    e.preventDefault();\n\n    for (const key in initialReportState) {\n      const element = initialReportState[key];\n\n      if (!element) {\n        return setEmptyWarning(true);\n      } else {\n        if (key !== 'meetingDate') initialReportState[key] = initialReportState[key].trim();\n      }\n    }\n\n    makeAddReportRequest('post', initialReportState, setReportAdded, isLoggedinf, reportType);\n  };\n\n  return /*#__PURE__*/React.createElement(UpdateLoggedin, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 12\n    }\n  }), Loading => Loading ? null : /*#__PURE__*/React.createElement(MainWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Stage, {\n    backStage: backStage,\n    loading: !emptyWarning && !reportAdded,\n    close: emptyWarning ? closeEmptyModal : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    backStage: emptyWarning,\n    closeModal: closeEmptyModal,\n    type: \"EMPTY_F\\u0130ELD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    backStage: reportAdded,\n    closeModal: closeReportAddedModal,\n    type: \"REPORT_ADDED\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      padding: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, !reportType ? /*#__PURE__*/React.createElement(\"h6\", {\n    style: {\n      color: '#1eb2a6'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 30\n    }\n  }, \"L\\xFCtfen Rapor Tipini Se\\xE7iniz\") : null, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      margin: '7px 0 ',\n      width: '100%'\n    },\n    onChange: setReportTypeF,\n    value: reportType,\n    id: \"select\",\n    label: \"Rapor Tipi \",\n    select: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"schoolReport\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 19\n    }\n  }, \"Okul Raporu\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"studentReport\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 19\n    }\n  }, \"Veli/\\xD6\\u011Frenci Raporu\"))), /*#__PURE__*/React.createElement(\"form\", {\n    style: {\n      width: '100%'\n    },\n    onSubmit: SubmitReport,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, reportType && initialReportState && /*#__PURE__*/React.createElement(Report, {\n    SubmitOnChange: SubmitOnChange,\n    State: initialReportState,\n    setBackStage: setBackStage,\n    date: date,\n    setDate: setDate,\n    reportType: reportType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 55\n    }\n  }))));\n});\nexport const Report = ({\n  SubmitOnChange,\n  State,\n  setBackStage,\n  setDate,\n  disable,\n  type,\n  reportType\n}) => {\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    style: {\n      width: '100%',\n      textAlign: 'center',\n      marginTop: 10,\n      color: '#dc3545'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-school\",\n    style: {\n      marginRight: 4\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 81\n    }\n  }), \" OKUL RAPORU\"), /*#__PURE__*/React.createElement(ReportContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(ReportTextFields, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  }, reportType === 'schoolReport' ? /*#__PURE__*/React.createElement(TextField, {\n    value: State['schoolName'],\n    InputLabelProps: {\n      style: {\n        zIndex: 50\n      }\n    },\n    disabled: disable,\n    onChange: SubmitOnChange('schoolName'),\n    label: \"Okul \\u0130smi\",\n    style: {\n      width: '85%',\n      padding: '10px 0',\n      marginBottom: 5\n    },\n    inputProps: {\n      style: {\n        padding: 10,\n        background: disable ? '#eeeeee' : 'white',\n        color: '#333'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 50\n    }\n  }) : null, /*#__PURE__*/React.createElement(TextField, {\n    value: State['relatedPersonName'],\n    InputLabelProps: {\n      style: {\n        zIndex: 50\n      }\n    },\n    disabled: disable,\n    onChange: SubmitOnChange('relatedPersonName'),\n    label: \"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Finin \\u0130smi\",\n    style: {\n      width: '85%',\n      padding: '10px 0',\n      marginBottom: 5\n    },\n    inputProps: {\n      style: {\n        padding: 10,\n        background: disable ? '#eeeeee' : 'white',\n        color: '#333'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    value: State['relatedPersonPhoneNumber'],\n    InputLabelProps: {\n      style: {\n        zIndex: 50\n      }\n    },\n    disabled: disable,\n    onChange: SubmitOnChange('relatedPersonPhoneNumber'),\n    label: \"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Finin Telefon Numaras\\u0131\",\n    style: {\n      width: '85%',\n      padding: '10px 0'\n    },\n    inputProps: {\n      style: {\n        padding: 10,\n        background: disable ? '#eeeeee' : 'white',\n        color: '#333'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    value: State['relatedPersonEmail'],\n    InputLabelProps: {\n      style: {\n        zIndex: 50\n      }\n    },\n    disabled: disable,\n    onChange: SubmitOnChange('relatedPersonEmail'),\n    label: \"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Finin Mail Adresi\",\n    style: {\n      width: '85%',\n      padding: '10px 0'\n    },\n    inputProps: {\n      style: {\n        padding: 10,\n        background: disable ? '#eeeeee' : 'white',\n        color: '#333'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n    utils: DateFnsUtils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n    inputProps: {\n      style: {\n        padding: 10,\n        background: disable ? '#eeeeee' : 'white',\n        color: '#333'\n      }\n    },\n    disabled: disable,\n    disableToolbar: true,\n    variant: \"inline\",\n    format: \"dd/MM/yyyy\",\n    margin: \"normal\",\n    id: \"date-picker-inline\",\n    label: \"G\\xF6r\\xFC\\u015Fme Tarihi\",\n    value: State['meetingDate'],\n    onChange: setDate,\n    style: {\n      width: '85%',\n      margin: '10px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(ReportDescripton, {\n    disabled: disable,\n    value: State['meetingDetails'],\n    onChange: SubmitOnChange('meetingDetails'),\n    placeholder: \"G\\xF6r\\xFC\\u015Fme Detaylar\\u0131\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  })), type === 'detail' ? null : /*#__PURE__*/React.createElement(InnerItems, {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    onClick: () => {\n      setBackStage(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, \"EKLE\")));\n};\nexport default AddReport;","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOŞ/Study-Online/client/src/Containers/home/Home_Options/addReport.js"],"names":["React","useEffect","useMemo","useState","useContext","useCallback","UpdateLoggedin","styled","Link","Route","Context","UserInputs","Generator","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","Regions","Circle","Modal","Stage","Checkbox","TextField","Tab","Tabs","Paper","InputLabel","MenuItem","Selec","makeAddReportRequest","MainWrapper","form","InnerItems","div","SubmitButton","button","ReportContainer","ReportDescripton","textarea","ReportTextFields","initialReportStates","schoolName","relatedPersonName","relatedPersonPhoneNumber","meetingDate","Date","now","relatedPersonEmail","meetingDetails","initialReportStates2","AddReport","memo","props","reportType","setReportType","initialReportState","setinitialReportState","isLoggedinf","user","emptyWarning","setEmptyWarning","reportAdded","setReportAdded","backStage","setBackStage","date","setDate","prevState","closeEmptyModal","closeReportAddedModal","setReportTypeF","e","target","value","SubmitOnChange","type","event","SubmitReport","preventDefault","key","element","trim","Loading","width","padding","color","margin","Report","State","disable","textAlign","marginTop","marginRight","style","zIndex","marginBottom","background"],"mappings":"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","sourcesContent":["import React, {useEffect,useMemo,useState,useContext,useCallback} from 'react';\r\nimport {UpdateLoggedin} from '../../isLoggedin/action';\r\nimport styled from 'styled-components';\r\nimport {Link,Route} from 'react-router-dom'\r\nimport {Context} from '../../../Context/Context';\r\nimport  {UserInputs}  from './addPerson';\r\nimport Generator  from 'generate-password';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider,KeyboardDatePicker } from '@material-ui/pickers'\r\nimport {Regions}  from '../../../Regions/regions'\r\nimport Circle from '../../../UI/Circle';\r\nimport Modal from '../../../UI/sentModal';\r\nimport Stage from '../../../UI/backStage';\r\nimport {Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec} from '@material-ui/core'\r\nimport {makeAddReportRequest}  from '../../../request/requset'\r\n\r\nconst MainWrapper = styled.form`\r\ndisplay:flex;\r\nbackground:white;\r\nwidth:70%;\r\nmargin:0 auto;\r\nalign-items:center;\r\njustify-content:center;\r\nmargin-top:2%;\r\npadding:30px;\r\n@media (max-width: 1030px) {\r\n  padding:10px;\r\n}\r\nborder-radius:3px;\r\nflex-flow:column;\r\n`\r\nconst InnerItems = styled.div`\r\ndisplay:flex;\r\njustify-content:flex-end;\r\nwidth:100%;\r\nmargin-bottom:20px;\r\npadding:20px 0 5px 0;\r\ncolor:#30475e;\r\n`\r\n\r\nconst SubmitButton  = styled.button`\r\noutline:none; \r\nbackground:#00bdaa;\r\nborder:none;\r\ncolor:white;\r\npadding:10px 20px ;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\nconst ReportContainer = styled.form`\r\n  width:100%;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:stretch;\r\n  margin-top:20px;\r\n  @media (max-width: 1030px) {\r\n   flex-direction:column;\r\n   align-items:center;\r\n  }\r\n`\r\nconst ReportDescripton = styled.textarea`\r\nflex:0.7; \r\nresize:none;\r\npadding:10px;\r\nborder:none;\r\noutline:none;\r\nbox-shadow:0 0 2px black;\r\n@media (max-width: 1030px) {\r\n  width:75%;\r\n  margin-top:20px;\r\n}\r\n`\r\nconst ReportTextFields = styled.div`\r\nflex:1;\r\ndisplay:flex;\r\njustify-content:center;\r\nflex-direction:column;\r\nalign-items:center;\r\n@media (max-width: 1030px) {\r\n    width:100%\r\n }\r\n`\r\n\r\n\r\nconst initialReportStates={\r\n  schoolName:'',\r\n  relatedPersonName:'',\r\n  relatedPersonPhoneNumber: '',\r\n  meetingDate:new Date(Date(Date.now())),\r\n  relatedPersonEmail:'',\r\n  meetingDetails:'',\r\n}\r\n\r\nconst initialReportStates2={\r\n  relatedPersonName:'',\r\n  relatedPersonPhoneNumber: '',\r\n  meetingDate:new Date(Date(Date.now())),\r\n  relatedPersonEmail:'',\r\n  meetingDetails:'',\r\n}\r\n\r\n\r\nexport const  AddReport = React.memo((props)=>{\r\n  \r\n   const  [reportType , setReportType]  = useState(null);\r\n   const  [initialReportState ,  setinitialReportState ] = useState(null);\r\n   const  {isLoggedinf,user} = useContext(Context);\r\n   const  [emptyWarning , setEmptyWarning] = useState(false);\r\n   const  [reportAdded ,setReportAdded] = useState(false);\r\n   const  [backStage , setBackStage ] = useState(false); \r\n   const  [date , setDate] = useState(new Date(Date(Date.now())));\r\n   \r\n    useEffect(()=>{  //this is just because of Date issue //--------      \r\n      if(reportType) setinitialReportState(prevState =>({...prevState,meetingDate:date}));\r\n    },[date])\r\n\r\n    useEffect(()=>{  //this is just because of Date issue //--------  \r\n\r\n      if(reportType === 'schoolReport') \r\n         setinitialReportState(initialReportStates);\r\n      else if (reportType === 'studentReport')\r\n         setinitialReportState(initialReportStates2);    \r\n\r\n    },[reportType])\r\n   \r\n    const closeEmptyModal = ()=>{\r\n         setBackStage(false);\r\n         setEmptyWarning(false)\r\n    }\r\n\r\n    const closeReportAddedModal = ()=>{\r\n         setBackStage(false);\r\n         setReportAdded(false)\r\n    }\r\n\r\n    const setReportTypeF = (e)=>{\r\n      setReportType(e.target.value);\r\n    }\r\n\r\n    const SubmitOnChange = type=>event=>{\r\n      let value = event.target.value;\r\n      setinitialReportState((prevState)=>({...prevState,[type]:value}));\r\n    }\r\n\r\n    const SubmitReport = (e)=>{\r\n         \r\n            e.preventDefault();\r\n\r\n              for (const key in initialReportState) {\r\n\r\n                  const element = initialReportState[key];\r\n                  if(!element)\r\n                  {\r\n                    return setEmptyWarning(true);\r\n                  }  \r\n                  else\r\n                  {\r\n                    if (key !== 'meetingDate') initialReportState[key] = initialReportState[key].trim();\r\n                  }    \r\n              }\r\n\r\n              makeAddReportRequest('post',initialReportState,setReportAdded,isLoggedinf,reportType);       \r\n    } \r\n     \r\n    return <UpdateLoggedin {...props} >\r\n    {\r\n        (Loading)=>Loading ? null : \r\n\r\n        <MainWrapper> \r\n\r\n              <Stage backStage={backStage} loading={!emptyWarning && !reportAdded}   close={emptyWarning ?  closeEmptyModal : null}/>\r\n              <Modal backStage={emptyWarning} closeModal={closeEmptyModal} type='EMPTY_FİELD'/>\r\n              <Modal backStage={reportAdded}  closeModal={closeReportAddedModal} type='REPORT_ADDED'/>\r\n                \r\n              <div style={{width:'100%' ,padding:10}}>\r\n\r\n              {!reportType ? <h6 style={{color:'#1eb2a6'}}>Lütfen Rapor Tipini Seçiniz</h6> : null}\r\n              \r\n              <TextField style={{margin:'7px 0 ',width:'100%'}}  onChange={setReportTypeF}  value={reportType}   id=\"select\" label=\"Rapor Tipi \"  select>\r\n                  <MenuItem value=\"schoolReport\">Okul Raporu</MenuItem> \r\n                  <MenuItem value=\"studentReport\">Veli/Öğrenci Raporu</MenuItem>\r\n              </TextField> \r\n\r\n              </div> \r\n                \r\n              <form style={{width:'100%'}} onSubmit={SubmitReport}>\r\n              {\r\n                (reportType && initialReportState) && <Report SubmitOnChange={SubmitOnChange} State={initialReportState} setBackStage={setBackStage} date={date} setDate={setDate} reportType={reportType} />\r\n              } \r\n              </form>\r\n\r\n       </MainWrapper>\r\n    }  \r\n   </UpdateLoggedin> \r\n});\r\n\r\nexport const Report = ({SubmitOnChange,State,setBackStage,setDate,disable,type,reportType})=>{\r\n    \r\n  return <React.Fragment>\r\n     \r\n     <h6 style={{width:'100%',textAlign:'center',marginTop:10,color:'#dc3545'}}><i className=\"fas fa-school\" style={{marginRight:4}}></i> OKUL RAPORU</h6>\r\n\r\n     <ReportContainer>\r\n\r\n          <ReportTextFields>\r\n                  \r\n                {reportType === 'schoolReport' ? <TextField value={State['schoolName']}   InputLabelProps={{style:{zIndex:50}}}  disabled={disable}   onChange = {SubmitOnChange('schoolName')}   label='Okul İsmi'  style={{width:'85%',padding:'10px 0',marginBottom:5}}  inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}} /> : null }\r\n                <TextField value={State['relatedPersonName']}   InputLabelProps={{style:{zIndex:50}}}  disabled={disable}   onChange = {SubmitOnChange('relatedPersonName')}   label='Görüşülen Kişinin İsmi'  style={{width:'85%',padding:'10px 0',marginBottom:5}} inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}}   />\r\n                <TextField value={State['relatedPersonPhoneNumber']}   InputLabelProps={{style:{zIndex:50}}}  disabled={disable}   onChange = {SubmitOnChange('relatedPersonPhoneNumber')}   label='Görüşülen Kişinin Telefon Numarası'  style={{width:'85%',padding:'10px 0'}}  inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}}  />\r\n                <TextField value={State['relatedPersonEmail']}   InputLabelProps={{style:{zIndex:50}}}  disabled={disable}   onChange = {SubmitOnChange('relatedPersonEmail')}   label='Görüşülen Kişinin Mail Adresi'  style={{width:'85%',padding:'10px 0'}} inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}}   />\r\n\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\r\n                <KeyboardDatePicker \r\n                  inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}} \r\n                  disabled={disable}\r\n                  disableToolbar\r\n                  variant=\"inline\"\r\n                  format=\"dd/MM/yyyy\"\r\n                  margin=\"normal\"\r\n                  id=\"date-picker-inline\"\r\n                  label=\"Görüşme Tarihi\"   \r\n                  value={State['meetingDate']} \r\n                  onChange={setDate} \r\n                  style={{width:'85%',margin:'10px 0'}}/>\r\n\r\n               </MuiPickersUtilsProvider>\r\n\r\n          </ReportTextFields>\r\n          \r\n          <ReportDescripton disabled={disable} value={State['meetingDetails']}   onChange = {SubmitOnChange('meetingDetails')}  placeholder='Görüşme Detayları'/>\r\n\r\n    </ReportContainer>   \r\n\r\n      {\r\n        type === 'detail'  ? null : \r\n        <InnerItems style={{margin:0}}> \r\n            <SubmitButton type='submit' onClick={()=>{setBackStage(true)}}>EKLE</SubmitButton> \r\n        </InnerItems>  \r\n      }\r\n       \r\n    </React.Fragment>\r\n}\r\n\r\n\r\nexport default  AddReport;"]},"metadata":{},"sourceType":"module"}