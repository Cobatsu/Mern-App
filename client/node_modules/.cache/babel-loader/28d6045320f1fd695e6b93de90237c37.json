{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject4(){var data=_taggedTemplateLiteral([\"\\noutline:none; \\nbackground:#00bdaa;\\nborder:none;\\nalign-self:flex-end;\\ncolor:white;\\nborder-radius:5px;\\npadding:7px 13px ;\\n&:hover{\\n    cursor:pointer;\\n}\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\nflex-wrap:wrap;\\npadding:5px;\\nwidth:100%;\\nflex:1;\\nalign-content:space-evenly;\\njustify-content:space-around;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\nposition:absolute;\\nright:13px;\\ntop:5px;\\nfont-size:18px;\\ncolor:#f57170;\\n&:hover{\\n    cursor:pointer;\\n}\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\nposition:fixed;\\ndisplay:flex;\\njustify-content:space-around;\\nalign-items:center;\\nflex-flow:column;\\nwidth:50%;\\nheight:70%;\\nmargin:0 auto;\\nleft:0;\\nright:0;\\nborder-radius:6px;\\npadding:15px;\\nbox-sizing:border-box;\\ntop:12%;\\nz-index:7;\\nbackground:white;\\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\\n\\n@media (max-width: 600px) {\\n    width:95%;\\n    height:60%;\\n}\\n\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useContext,useEffect}from'react';import styled from'styled-components';import{Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec}from'@material-ui/core';import{makeReportSearchRequest}from'../../request/requset';import{Context}from'../../Context/Context';import DateFnsUtils from'@date-io/date-fns';import{MuiPickersUtilsProvider,KeyboardDatePicker}from'@material-ui/pickers';var SearchModalContainer=styled.form(_templateObject());var CloseIcon=styled.div(_templateObject2());var SearchFields=styled.div(_templateObject3());var SubmitButton=styled.button(_templateObject4());var initialSearchState={reportType:'',relatedPersonName:'',relatedPersonPhoneNumber:'',dateIntervalStart:'',dateIntervalEnd:'',schoolName:''};var initialSearchState2={reportType:'',relatedPersonName:'',relatedPersonPhoneNumber:'',dateIntervalStart:'',dateIntervalEnd:'',schoolName:'',whoseDocument:''};export var SearchReportModal=React.memo(function(_ref){var isOpen=_ref.isOpen,close=_ref.close,role=_ref.role,closeModalOnly=_ref.closeModalOnly,setReports=_ref.setReports,setSubPagesCount=_ref.setSubPagesCount,setNotFound=_ref.setNotFound,setMainSearchData=_ref.setMainSearchData,setSelectedSubPage=_ref.setSelectedSubPage;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),searchData=_useState2[0],setSearchData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),date2=_useState6[0],setDate2=_useState6[1];var _useContext=useContext(Context),isLoggedinf=_useContext.isLoggedinf;useEffect(function(){role==='Admin'?setSearchData(initialSearchState2):setSearchData(initialSearchState);},[role]);useEffect(function(){setSearchData(function(prev){return _objectSpread({},prev,{dateIntervalStart:date});});},[date]);useEffect(function(){setSearchData(function(prev){return _objectSpread({},prev,{dateIntervalEnd:date2});});},[date2]);var searchSubmitHandler=function searchSubmitHandler(e){e.preventDefault();closeModalOnly(false);setSelectedSubPage(0);var searchMainData=_objectSpread({},searchData);for(var key in searchMainData){if(searchMainData[key]&&key!=='dateIntervalStart'&&key!=='dateIntervalEnd')searchMainData[key]=searchMainData[key].trim();}setMainSearchData(searchMainData);//we can also send trimmed data to parent component;\nmakeReportSearchRequest('post',searchMainData,isLoggedinf,setReports,close,setSubPagesCount,function(){},setNotFound);};var submitChangeHandler=function submitChangeHandler(Type){return function(event){var value=event.target.value;setSearchData(function(prevState){return _objectSpread({},prevState,_defineProperty({},Type,value));});// react uses synthetic event istead of dom event\n};};return isOpen?/*#__PURE__*/React.createElement(SearchModalContainer,{onSubmit:searchSubmitHandler},/*#__PURE__*/React.createElement(CloseIcon,{onClick:close},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-times\"})),/*#__PURE__*/React.createElement(SearchFields,null,/*#__PURE__*/React.createElement(TextField,{style:{width:'45%',fontSize:14},inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},value:searchData['reportType'],onChange:submitChangeHandler('reportType'),id:\"select\",label:\"G\\xF6r\\xFC\\u015Fme Tipi\",select:true},/*#__PURE__*/React.createElement(MenuItem,{value:\"schoolReport\"},\"Okul G\\xF6r\\xFC\\u015Fmesi\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"studentReport\"},\"Veli/\\xD6\\u011Frenci G\\xF6r\\xFC\\u015Fmesi\")),role==='Admin'?/*#__PURE__*/React.createElement(TextField,{InputLabelProps:{style:{fontSize:14}},inputProps:{style:{fontSize:14}},style:{width:'45%'},value:searchData['whoseDocument'],onChange:submitChangeHandler('whoseDocument'),id:\"standard-basic\",label:\"G\\xF6nderen  Ki\\u015Fi\"}):null,/*#__PURE__*/React.createElement(TextField,{style:{width:'45%'},inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},value:searchData['relatedPersonName'],onChange:submitChangeHandler('relatedPersonName'),id:\"standard-basic\",label:\"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Fi\"}),/*#__PURE__*/React.createElement(TextField,{style:{width:'45%'},inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},value:searchData['relatedPersonPhoneNumber'],onChange:submitChangeHandler('relatedPersonPhoneNumber'),id:\"standard-basic\",label:\"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Finin Telefon Numaras\\u0131\"}),/*#__PURE__*/React.createElement(TextField,{style:{width:'45%'},inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},value:searchData['schoolName'],onChange:submitChangeHandler('schoolName'),id:\"standard-basic\",label:\"Okul \\u0130smi\"}),/*#__PURE__*/React.createElement(MuiPickersUtilsProvider,{utils:DateFnsUtils},/*#__PURE__*/React.createElement(KeyboardDatePicker,{disableToolbar:true,inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},variant:\"inline\",format:\"dd/MM/yyyy\",margin:\"normal\",id:\"date-picker-inline\",label:\"Ba\\u015Flang\\u0131\\xE7 Tarih\",value:searchData['dateIntervalStart'],onChange:setDate,style:{width:'45%',margin:'10px 0'}}),/*#__PURE__*/React.createElement(KeyboardDatePicker,{disableToolbar:true,inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},variant:\"inline\",format:\"dd/MM/yyyy\",margin:\"normal\",id:\"date-picker-inline\",label:\"Son Tarih\",value:searchData['dateIntervalEnd'],onChange:setDate2,style:{width:'45%',margin:'10px 0'}}))),/*#__PURE__*/React.createElement(SubmitButton,{type:\"submit\"},\" \",/*#__PURE__*/React.createElement(\"i\",{class:\"fas  fa-search\"}),\" ARA \")):null;});","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOŞ/Study-Online/client/src/UI/SearchModal/SearchReport.js"],"names":["React","useState","useContext","useEffect","styled","Checkbox","TextField","Tab","Tabs","Paper","InputLabel","MenuItem","Selec","makeReportSearchRequest","Context","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","SearchModalContainer","form","CloseIcon","div","SearchFields","SubmitButton","button","initialSearchState","reportType","relatedPersonName","relatedPersonPhoneNumber","dateIntervalStart","dateIntervalEnd","schoolName","initialSearchState2","whoseDocument","SearchReportModal","memo","isOpen","close","role","closeModalOnly","setReports","setSubPagesCount","setNotFound","setMainSearchData","setSelectedSubPage","searchData","setSearchData","date","setDate","date2","setDate2","isLoggedinf","prev","searchSubmitHandler","e","preventDefault","searchMainData","key","trim","submitChangeHandler","Type","event","value","target","prevState","width","fontSize","style","margin"],"mappings":"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","sourcesContent":["import React,{useState,useContext,useEffect} from 'react';\r\nimport styled from 'styled-components';\r\nimport {Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec} from '@material-ui/core'\r\nimport {makeReportSearchRequest}  from '../../request/requset'\r\nimport {Context} from '../../Context/Context';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider,KeyboardDatePicker} from '@material-ui/pickers'\r\n\r\nconst SearchModalContainer = styled.form`\r\nposition:fixed;\r\ndisplay:flex;\r\njustify-content:space-around;\r\nalign-items:center;\r\nflex-flow:column;\r\nwidth:50%;\r\nheight:70%;\r\nmargin:0 auto;\r\nleft:0;\r\nright:0;\r\nborder-radius:6px;\r\npadding:15px;\r\nbox-sizing:border-box;\r\ntop:12%;\r\nz-index:7;\r\nbackground:white;\r\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\r\n\r\n@media (max-width: 600px) {\r\n    width:95%;\r\n    height:60%;\r\n}\r\n\r\n`\r\nconst CloseIcon = styled.div`\r\nposition:absolute;\r\nright:13px;\r\ntop:5px;\r\nfont-size:18px;\r\ncolor:#f57170;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\n\r\nconst SearchFields = styled.div`\r\ndisplay:flex;\r\nflex-wrap:wrap;\r\npadding:5px;\r\nwidth:100%;\r\nflex:1;\r\nalign-content:space-evenly;\r\njustify-content:space-around;\r\n`\r\n\r\nconst SubmitButton = styled.button`\r\noutline:none; \r\nbackground:#00bdaa;\r\nborder:none;\r\nalign-self:flex-end;\r\ncolor:white;\r\nborder-radius:5px;\r\npadding:7px 13px ;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\nconst initialSearchState = {\r\n reportType:'',\r\n relatedPersonName:'',\r\n relatedPersonPhoneNumber:'',\r\n dateIntervalStart:'',\r\n dateIntervalEnd:'',\r\n schoolName:'',\r\n}\r\n\r\nconst initialSearchState2 = {\r\n reportType:'',\r\n relatedPersonName:'',\r\n relatedPersonPhoneNumber:'',\r\n dateIntervalStart:'',\r\n dateIntervalEnd:'',\r\n schoolName:'',\r\n whoseDocument:'',\r\n}\r\n\r\nexport const  SearchReportModal =React.memo(({isOpen,close,role,closeModalOnly,setReports ,setSubPagesCount,setNotFound, setMainSearchData , setSelectedSubPage }) => {\r\n  \r\n    const [searchData,setSearchData] = useState (null);\r\n    const [date,setDate] = useState(null);\r\n    const [date2,setDate2] = useState(null);\r\n    const {isLoggedinf}  = useContext(Context); \r\n    \r\n\r\n    useEffect(()=>{ \r\n        role === 'Admin' ? setSearchData(initialSearchState2) : setSearchData(initialSearchState);   \r\n    },[role])\r\n\r\n    useEffect(() => {\r\n        setSearchData((prev)=>({...prev,dateIntervalStart:date}))\r\n    }, [date])\r\n\r\n    useEffect(() => {\r\n        setSearchData((prev)=>({...prev,dateIntervalEnd:date2}))\r\n    }, [date2])\r\n  \r\n    const searchSubmitHandler = (e)=>{\r\n        e.preventDefault();\r\n\r\n        closeModalOnly(false);\r\n        setSelectedSubPage(0);\r\n        \r\n        const searchMainData = {...searchData};\r\n\r\n        for (const key in searchMainData){\r\n            if(searchMainData[key] && key !== 'dateIntervalStart' && key !== 'dateIntervalEnd')   searchMainData[key]  = searchMainData[key].trim();            \r\n        }\r\n\r\n        setMainSearchData(searchMainData);  //we can also send trimmed data to parent component;\r\n\r\n        makeReportSearchRequest('post',searchMainData, isLoggedinf , setReports , close , setSubPagesCount,()=>{},setNotFound);      \r\n        \r\n    }\r\n\r\n    const submitChangeHandler = Type => event => {\r\n      let value = event.target.value; \r\n      setSearchData((prevState)=>({...prevState,[Type]:value})); // react uses synthetic event istead of dom event\r\n    }      \r\n\r\n    return isOpen ? <SearchModalContainer onSubmit={searchSubmitHandler} >\r\n\r\n        <CloseIcon onClick={close}>\r\n           <i class=\"fas fa-times\"></i>\r\n        </CloseIcon>\r\n\r\n        <SearchFields>\r\n\r\n            <TextField style={{width:'45%',fontSize:14}} inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}}    value={searchData['reportType']}  onChange={submitChangeHandler('reportType')}  id=\"select\" label=\"Görüşme Tipi\"  select>\r\n                        <MenuItem value=\"schoolReport\">Okul Görüşmesi</MenuItem>\r\n                        <MenuItem value=\"studentReport\">Veli/Öğrenci Görüşmesi</MenuItem>\r\n            </TextField>\r\n\r\n            \r\n            {\r\n                role === 'Admin' ?  <TextField  InputLabelProps={{style:{fontSize:14}}} inputProps={{style:{fontSize:14}}}   style={{width:'45%'}} value={searchData['whoseDocument']}  onChange={submitChangeHandler('whoseDocument')}  id=\"standard-basic\" label=\"Gönderen  Kişi\"/> : null \r\n            }\r\n      \r\n            <TextField   style={{width:'45%'}}  inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}} value={searchData['relatedPersonName']}  onChange={submitChangeHandler('relatedPersonName')}  id=\"standard-basic\" label=\"Görüşülen Kişi\" />\r\n\r\n            <TextField   style={{width:'45%'}}  inputProps={{style:{fontSize:14}}} InputLabelProps={{style:{fontSize:14}}} value={searchData['relatedPersonPhoneNumber']}  onChange={submitChangeHandler('relatedPersonPhoneNumber')}  id=\"standard-basic\" label=\"Görüşülen Kişinin Telefon Numarası\" />\r\n\r\n            <TextField   style={{width:'45%'}}   inputProps={{style:{fontSize:14}}} InputLabelProps={{style:{fontSize:14}}} value={searchData['schoolName']}  onChange={submitChangeHandler('schoolName')}  id=\"standard-basic\" label=\"Okul İsmi\" />\r\n\r\n        \r\n         <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\r\n         <KeyboardDatePicker disableToolbar\r\n         inputProps={{style:{fontSize:14}}}\r\n         InputLabelProps={{style:{fontSize:14}}}\r\n          variant=\"inline\"\r\n          format=\"dd/MM/yyyy\"\r\n          margin=\"normal\"\r\n          id=\"date-picker-inline\"\r\n          label=\"Başlangıç Tarih\"   \r\n          value={searchData['dateIntervalStart']} \r\n          onChange={setDate} \r\n          style={{width:'45%',margin:'10px 0'}}/>\r\n\r\n        <KeyboardDatePicker disableToolbar\r\n        inputProps={{style:{fontSize:14}}}\r\n         InputLabelProps={{style:{fontSize:14}}}\r\n          variant=\"inline\"\r\n          format=\"dd/MM/yyyy\"\r\n          margin=\"normal\"\r\n          id=\"date-picker-inline\"\r\n          label=\"Son Tarih\"   \r\n          value={searchData['dateIntervalEnd']} \r\n          onChange={setDate2} \r\n          style={{width:'45%',margin:'10px 0'}}/>\r\n\r\n         </MuiPickersUtilsProvider>\r\n\r\n        </SearchFields>\r\n\r\n        <SubmitButton type='submit'> <i class=\"fas  fa-search\"></i> ARA </SubmitButton>\r\n             \r\n  </SearchModalContainer> : null;\r\n\r\n\r\n});\r\n"]},"metadata":{},"sourceType":"module"}