{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject6(){var data=_taggedTemplateLiteral([\"\\nflex:1;\\ndisplay:flex;\\njustify-content:center;\\nflex-direction:column;\\nalign-items:center;\\n@media (max-width: 1030px) {\\n    width:100%\\n }\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\nflex:0.7; \\nresize:none;\\npadding:10px;\\nborder:none;\\noutline:none;\\nbox-shadow:0 0 2px black;\\n@media (max-width: 1030px) {\\n  width:75%;\\n  margin-top:20px;\\n}\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  width:100%;\\n  display:flex;\\n  justify-content:center;\\n  align-items:stretch;\\n  margin-top:20px;\\n  @media (max-width: 1030px) {\\n   flex-direction:column;\\n   align-items:center;\\n  }\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\noutline:none; \\nbackground:#00bdaa;\\nborder:none;\\ncolor:white;\\npadding:10px 20px ;\\n&:hover{\\n    cursor:pointer;\\n}\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\njustify-content:flex-end;\\nwidth:100%;\\nmargin-bottom:20px;\\npadding:20px 0 5px 0;\\ncolor:#30475e;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\nbackground:white;\\nwidth:70%;\\nmargin:0 auto;\\nalign-items:center;\\njustify-content:center;\\nmargin-top:2%;\\npadding:30px;\\n@media (max-width: 1030px) {\\n  padding:10px;\\n}\\nborder-radius:3px;\\nflex-flow:column;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect,useMemo,useState,useContext,useCallback}from'react';import{UpdateLoggedin}from'../../isLoggedin/action';import styled from'styled-components';import{Link,Route}from'react-router-dom';import{Context}from'../../../Context/Context';import{UserInputs}from'./addPerson';import Generator from'generate-password';import DateFnsUtils from'@date-io/date-fns';import{MuiPickersUtilsProvider,KeyboardDatePicker}from'@material-ui/pickers';import{Regions}from'../../../Regions/regions';import Circle from'../../../UI/Circle';import Modal from'../../../UI/sentModal';import Stage from'../../../UI/backStage';import{Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec}from'@material-ui/core';import{makeAddReportRequest}from'../../../request/requset';var MainWrapper=styled.form(_templateObject());var InnerItems=styled.div(_templateObject2());var SubmitButton=styled.button(_templateObject3());var ReportContainer=styled.form(_templateObject4());var ReportDescripton=styled.textarea(_templateObject5());var ReportTextFields=styled.div(_templateObject6());var initialReportStates={schoolName:'',relatedPersonName:'',relatedPersonPhoneNumber:'',meetingDate:new Date(Date(Date.now())),relatedPersonEmail:'',meetingDetails:''};var initialReportStates2={relatedPersonName:'',relatedPersonPhoneNumber:'',meetingDate:new Date(Date(Date.now())),relatedPersonEmail:'',meetingDetails:''};export var AddReport=React.memo(function(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),reportType=_useState2[0],setReportType=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),initialReportState=_useState4[0],setinitialReportState=_useState4[1];var _useContext=useContext(Context),isLoggedinf=_useContext.isLoggedinf,user=_useContext.user;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),emptyWarning=_useState6[0],setEmptyWarning=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),reportAdded=_useState8[0],setReportAdded=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),backStage=_useState10[0],setBackStage=_useState10[1];var _useState11=useState(new Date(Date(Date.now()))),_useState12=_slicedToArray(_useState11,2),date=_useState12[0],setDate=_useState12[1];useEffect(function(){//this is just because of Date issue //--------      \nif(reportType)setinitialReportState(function(prevState){return _objectSpread({},prevState,{meetingDate:date});});},[date]);useEffect(function(){//this is just because of Date issue //--------  \nif(reportType==='schoolReport')setinitialReportState(initialReportStates);else if(reportType==='studentReport')setinitialReportState(initialReportStates2);},[reportType]);var closeEmptyModal=function closeEmptyModal(){setBackStage(false);setEmptyWarning(false);};var closeReportAddedModal=function closeReportAddedModal(){setBackStage(false);setReportAdded(false);};var setReportTypeF=function setReportTypeF(e){setReportType(e.target.value);};var SubmitOnChange=function SubmitOnChange(type){return function(event){var value=event.target.value;setinitialReportState(function(prevState){return _objectSpread({},prevState,_defineProperty({},type,value));});};};var SubmitReport=function SubmitReport(e){e.preventDefault();for(var key in initialReportState){var element=initialReportState[key];if(!element){return setEmptyWarning(true);}else{if(key!=='meetingDate')initialReportState[key]=initialReportState[key].trim();}}makeAddReportRequest('post',initialReportState,setReportAdded,isLoggedinf,reportType);};return/*#__PURE__*/React.createElement(UpdateLoggedin,props,function(Loading){return Loading?null:/*#__PURE__*/React.createElement(MainWrapper,null,/*#__PURE__*/React.createElement(Stage,{backStage:backStage,loading:!emptyWarning&&!reportAdded,close:emptyWarning?closeEmptyModal:null}),/*#__PURE__*/React.createElement(Modal,{backStage:emptyWarning,closeModal:closeEmptyModal,type:\"EMPTY_F\\u0130ELD\"}),/*#__PURE__*/React.createElement(Modal,{backStage:reportAdded,closeModal:closeReportAddedModal,type:\"REPORT_ADDED\"}),/*#__PURE__*/React.createElement(\"div\",{style:{width:'100%',padding:10}},!reportType?/*#__PURE__*/React.createElement(\"h6\",{style:{color:'#1eb2a6'}},\"L\\xFCtfen Rapor Tipini Se\\xE7iniz\"):null,/*#__PURE__*/React.createElement(TextField,{style:{margin:'7px 0 ',width:'100%'},onChange:setReportTypeF,value:reportType,id:\"select\",label:\"Rapor Tipi \",select:true},/*#__PURE__*/React.createElement(MenuItem,{value:\"schoolReport\"},\"Okul Raporu\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"studentReport\"},\"Veli/\\xD6\\u011Frenci Raporu\"))),/*#__PURE__*/React.createElement(\"form\",{style:{width:'100%'},onSubmit:SubmitReport},reportType&&initialReportState&&/*#__PURE__*/React.createElement(Report,{SubmitOnChange:SubmitOnChange,State:initialReportState,setBackStage:setBackStage,date:date,setDate:setDate,reportType:reportType})));});});export var Report=function Report(_ref){var SubmitOnChange=_ref.SubmitOnChange,State=_ref.State,setBackStage=_ref.setBackStage,setDate=_ref.setDate,disable=_ref.disable,type=_ref.type,reportType=_ref.reportType;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h6\",{style:{width:'100%',textAlign:'center',marginTop:10,color:'#dc3545'}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-school\",style:{marginRight:4}}),\" OKUL RAPORU\"),/*#__PURE__*/React.createElement(ReportContainer,null,/*#__PURE__*/React.createElement(ReportTextFields,null,reportType==='schoolReport'?/*#__PURE__*/React.createElement(TextField,{value:State['schoolName'],InputLabelProps:{style:{zIndex:50}},disabled:disable,onChange:SubmitOnChange('schoolName'),label:\"Okul \\u0130smi\",style:{width:'85%',padding:'10px 0',marginBottom:5},inputProps:{style:{padding:10,background:disable?'#eeeeee':'white',color:'#333'}}}):null,/*#__PURE__*/React.createElement(TextField,{value:State['relatedPersonName'],InputLabelProps:{style:{zIndex:50}},disabled:disable,onChange:SubmitOnChange('relatedPersonName'),label:\"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Finin \\u0130smi\",style:{width:'85%',padding:'10px 0',marginBottom:5},inputProps:{style:{padding:10,background:disable?'#eeeeee':'white',color:'#333'}}}),/*#__PURE__*/React.createElement(TextField,{value:State['relatedPersonPhoneNumber'],InputLabelProps:{style:{zIndex:50}},disabled:disable,onChange:SubmitOnChange('relatedPersonPhoneNumber'),label:\"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Finin Telefon Numaras\\u0131\",style:{width:'85%',padding:'10px 0'},inputProps:{style:{padding:10,background:disable?'#eeeeee':'white',color:'#333'}}}),/*#__PURE__*/React.createElement(TextField,{value:State['relatedPersonEmail'],InputLabelProps:{style:{zIndex:50}},disabled:disable,onChange:SubmitOnChange('relatedPersonEmail'),label:\"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Finin Mail Adresi\",style:{width:'85%',padding:'10px 0'},inputProps:{style:{padding:10,background:disable?'#eeeeee':'white',color:'#333'}}}),/*#__PURE__*/React.createElement(MuiPickersUtilsProvider,{utils:DateFnsUtils},/*#__PURE__*/React.createElement(KeyboardDatePicker,{inputProps:{style:{padding:10,background:disable?'#eeeeee':'white',color:'#333'}},disabled:disable,disableToolbar:true,variant:\"inline\",format:\"dd/MM/yyyy\",margin:\"normal\",id:\"date-picker-inline\",label:\"G\\xF6r\\xFC\\u015Fme Tarihi\",value:State['meetingDate'],onChange:setDate,style:{width:'85%',margin:'10px 0'}}))),/*#__PURE__*/React.createElement(ReportDescripton,{disabled:disable,value:State['meetingDetails'],onChange:SubmitOnChange('meetingDetails'),placeholder:\"G\\xF6r\\xFC\\u015Fme Detaylar\\u0131\"})),type==='detail'?null:/*#__PURE__*/React.createElement(InnerItems,{style:{margin:0}},/*#__PURE__*/React.createElement(SubmitButton,{type:\"submit\",onClick:function onClick(){setBackStage(true);}},\"EKLE\")));};export default AddReport;","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOŞ/Study-Online/frontend/src/Containers/home/Home_Options/addReport.js"],"names":["React","useEffect","useMemo","useState","useContext","useCallback","UpdateLoggedin","styled","Link","Route","Context","UserInputs","Generator","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","Regions","Circle","Modal","Stage","Checkbox","TextField","Tab","Tabs","Paper","InputLabel","MenuItem","Selec","makeAddReportRequest","MainWrapper","form","InnerItems","div","SubmitButton","button","ReportContainer","ReportDescripton","textarea","ReportTextFields","initialReportStates","schoolName","relatedPersonName","relatedPersonPhoneNumber","meetingDate","Date","now","relatedPersonEmail","meetingDetails","initialReportStates2","AddReport","memo","props","reportType","setReportType","initialReportState","setinitialReportState","isLoggedinf","user","emptyWarning","setEmptyWarning","reportAdded","setReportAdded","backStage","setBackStage","date","setDate","prevState","closeEmptyModal","closeReportAddedModal","setReportTypeF","e","target","value","SubmitOnChange","type","event","SubmitReport","preventDefault","key","element","trim","Loading","width","padding","color","margin","Report","State","disable","textAlign","marginTop","marginRight","style","zIndex","marginBottom","background"],"mappings":"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","sourcesContent":["import React, {useEffect,useMemo,useState,useContext,useCallback} from 'react';\r\nimport {UpdateLoggedin} from '../../isLoggedin/action';\r\nimport styled from 'styled-components';\r\nimport {Link,Route} from 'react-router-dom'\r\nimport {Context} from '../../../Context/Context';\r\nimport  {UserInputs}  from './addPerson';\r\nimport Generator  from 'generate-password';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider,KeyboardDatePicker } from '@material-ui/pickers'\r\nimport {Regions}  from '../../../Regions/regions'\r\nimport Circle from '../../../UI/Circle';\r\nimport Modal from '../../../UI/sentModal';\r\nimport Stage from '../../../UI/backStage';\r\nimport {Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec} from '@material-ui/core'\r\nimport {makeAddReportRequest}  from '../../../request/requset'\r\n\r\nconst MainWrapper = styled.form`\r\ndisplay:flex;\r\nbackground:white;\r\nwidth:70%;\r\nmargin:0 auto;\r\nalign-items:center;\r\njustify-content:center;\r\nmargin-top:2%;\r\npadding:30px;\r\n@media (max-width: 1030px) {\r\n  padding:10px;\r\n}\r\nborder-radius:3px;\r\nflex-flow:column;\r\n`\r\nconst InnerItems = styled.div`\r\ndisplay:flex;\r\njustify-content:flex-end;\r\nwidth:100%;\r\nmargin-bottom:20px;\r\npadding:20px 0 5px 0;\r\ncolor:#30475e;\r\n`\r\n\r\nconst SubmitButton  = styled.button`\r\noutline:none; \r\nbackground:#00bdaa;\r\nborder:none;\r\ncolor:white;\r\npadding:10px 20px ;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\nconst ReportContainer = styled.form`\r\n  width:100%;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:stretch;\r\n  margin-top:20px;\r\n  @media (max-width: 1030px) {\r\n   flex-direction:column;\r\n   align-items:center;\r\n  }\r\n`\r\nconst ReportDescripton = styled.textarea`\r\nflex:0.7; \r\nresize:none;\r\npadding:10px;\r\nborder:none;\r\noutline:none;\r\nbox-shadow:0 0 2px black;\r\n@media (max-width: 1030px) {\r\n  width:75%;\r\n  margin-top:20px;\r\n}\r\n`\r\nconst ReportTextFields = styled.div`\r\nflex:1;\r\ndisplay:flex;\r\njustify-content:center;\r\nflex-direction:column;\r\nalign-items:center;\r\n@media (max-width: 1030px) {\r\n    width:100%\r\n }\r\n`\r\n\r\n\r\nconst initialReportStates={\r\n  schoolName:'',\r\n  relatedPersonName:'',\r\n  relatedPersonPhoneNumber: '',\r\n  meetingDate:new Date(Date(Date.now())),\r\n  relatedPersonEmail:'',\r\n  meetingDetails:'',\r\n}\r\n\r\nconst initialReportStates2={\r\n  relatedPersonName:'',\r\n  relatedPersonPhoneNumber: '',\r\n  meetingDate:new Date(Date(Date.now())),\r\n  relatedPersonEmail:'',\r\n  meetingDetails:'',\r\n}\r\n\r\n\r\nexport const  AddReport = React.memo((props)=>{\r\n  \r\n   const  [reportType , setReportType]  = useState(null);\r\n   const  [initialReportState ,  setinitialReportState ] = useState(null);\r\n   const  {isLoggedinf,user} = useContext(Context);\r\n   const  [emptyWarning , setEmptyWarning] = useState(false);\r\n   const  [reportAdded ,setReportAdded] = useState(false);\r\n   const  [backStage , setBackStage ] = useState(false); \r\n   const  [date , setDate] = useState(new Date(Date(Date.now())));\r\n   \r\n    useEffect(()=>{  //this is just because of Date issue //--------      \r\n      if(reportType) setinitialReportState(prevState =>({...prevState,meetingDate:date}));\r\n    },[date])\r\n\r\n    useEffect(()=>{  //this is just because of Date issue //--------  \r\n\r\n      if(reportType === 'schoolReport') \r\n         setinitialReportState(initialReportStates);\r\n      else if (reportType === 'studentReport')\r\n         setinitialReportState(initialReportStates2);    \r\n\r\n    },[reportType])\r\n   \r\n    const closeEmptyModal = ()=>{\r\n         setBackStage(false);\r\n         setEmptyWarning(false)\r\n    }\r\n\r\n    const closeReportAddedModal = ()=>{\r\n         setBackStage(false);\r\n         setReportAdded(false)\r\n    }\r\n\r\n    const setReportTypeF = (e)=>{\r\n      setReportType(e.target.value);\r\n    }\r\n\r\n    const SubmitOnChange = type=>event=>{\r\n      let value = event.target.value;\r\n      setinitialReportState((prevState)=>({...prevState,[type]:value}));\r\n    }\r\n\r\n    const SubmitReport = (e)=>{\r\n         \r\n            e.preventDefault();\r\n\r\n              for (const key in initialReportState) {\r\n\r\n                  const element = initialReportState[key];\r\n                  if(!element)\r\n                  {\r\n                    return setEmptyWarning(true);\r\n                  }  \r\n                  else\r\n                  {\r\n                    if (key !== 'meetingDate') initialReportState[key] = initialReportState[key].trim();\r\n                  }    \r\n              }\r\n\r\n              makeAddReportRequest('post',initialReportState,setReportAdded,isLoggedinf,reportType);       \r\n    } \r\n     \r\n    return <UpdateLoggedin {...props} >\r\n    {\r\n        (Loading)=>Loading ? null : \r\n\r\n        <MainWrapper> \r\n\r\n              <Stage backStage={backStage} loading={!emptyWarning && !reportAdded}   close={emptyWarning ?  closeEmptyModal : null}/>\r\n              <Modal backStage={emptyWarning} closeModal={closeEmptyModal} type='EMPTY_FİELD'/>\r\n              <Modal backStage={reportAdded}  closeModal={closeReportAddedModal} type='REPORT_ADDED'/>\r\n                \r\n              <div style={{width:'100%' ,padding:10}}>\r\n\r\n              {!reportType ? <h6 style={{color:'#1eb2a6'}}>Lütfen Rapor Tipini Seçiniz</h6> : null}\r\n              \r\n              <TextField style={{margin:'7px 0 ',width:'100%'}}  onChange={setReportTypeF}  value={reportType}   id=\"select\" label=\"Rapor Tipi \"  select>\r\n                  <MenuItem value=\"schoolReport\">Okul Raporu</MenuItem> \r\n                  <MenuItem value=\"studentReport\">Veli/Öğrenci Raporu</MenuItem>\r\n              </TextField> \r\n\r\n              </div> \r\n                \r\n              <form style={{width:'100%'}} onSubmit={SubmitReport}>\r\n              {\r\n                (reportType && initialReportState) && <Report SubmitOnChange={SubmitOnChange} State={initialReportState} setBackStage={setBackStage} date={date} setDate={setDate} reportType={reportType} />\r\n              } \r\n              </form>\r\n\r\n       </MainWrapper>\r\n    }  \r\n   </UpdateLoggedin> \r\n});\r\n\r\nexport const Report = ({SubmitOnChange,State,setBackStage,setDate,disable,type,reportType})=>{\r\n    \r\n  return <React.Fragment>\r\n     \r\n     <h6 style={{width:'100%',textAlign:'center',marginTop:10,color:'#dc3545'}}><i className=\"fas fa-school\" style={{marginRight:4}}></i> OKUL RAPORU</h6>\r\n\r\n     <ReportContainer>\r\n\r\n          <ReportTextFields>\r\n                  \r\n                {reportType === 'schoolReport' ? <TextField value={State['schoolName']}   InputLabelProps={{style:{zIndex:50}}}  disabled={disable}   onChange = {SubmitOnChange('schoolName')}   label='Okul İsmi'  style={{width:'85%',padding:'10px 0',marginBottom:5}}  inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}} /> : null }\r\n                <TextField value={State['relatedPersonName']}   InputLabelProps={{style:{zIndex:50}}}  disabled={disable}   onChange = {SubmitOnChange('relatedPersonName')}   label='Görüşülen Kişinin İsmi'  style={{width:'85%',padding:'10px 0',marginBottom:5}} inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}}   />\r\n                <TextField value={State['relatedPersonPhoneNumber']}   InputLabelProps={{style:{zIndex:50}}}  disabled={disable}   onChange = {SubmitOnChange('relatedPersonPhoneNumber')}   label='Görüşülen Kişinin Telefon Numarası'  style={{width:'85%',padding:'10px 0'}}  inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}}  />\r\n                <TextField value={State['relatedPersonEmail']}   InputLabelProps={{style:{zIndex:50}}}  disabled={disable}   onChange = {SubmitOnChange('relatedPersonEmail')}   label='Görüşülen Kişinin Mail Adresi'  style={{width:'85%',padding:'10px 0'}} inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}}   />\r\n\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\r\n                <KeyboardDatePicker \r\n                  inputProps={{style:{padding:10,background:disable ?  '#eeeeee' : 'white', color:'#333'}}} \r\n                  disabled={disable}\r\n                  disableToolbar\r\n                  variant=\"inline\"\r\n                  format=\"dd/MM/yyyy\"\r\n                  margin=\"normal\"\r\n                  id=\"date-picker-inline\"\r\n                  label=\"Görüşme Tarihi\"   \r\n                  value={State['meetingDate']} \r\n                  onChange={setDate} \r\n                  style={{width:'85%',margin:'10px 0'}}/>\r\n\r\n               </MuiPickersUtilsProvider>\r\n\r\n          </ReportTextFields>\r\n          \r\n          <ReportDescripton disabled={disable} value={State['meetingDetails']}   onChange = {SubmitOnChange('meetingDetails')}  placeholder='Görüşme Detayları'/>\r\n\r\n    </ReportContainer>   \r\n\r\n      {\r\n        type === 'detail'  ? null : \r\n        <InnerItems style={{margin:0}}> \r\n            <SubmitButton type='submit' onClick={()=>{setBackStage(true)}}>EKLE</SubmitButton> \r\n        </InnerItems>  \r\n      }\r\n       \r\n    </React.Fragment>\r\n}\r\n\r\n\r\nexport default  AddReport;"]},"metadata":{},"sourceType":"module"}