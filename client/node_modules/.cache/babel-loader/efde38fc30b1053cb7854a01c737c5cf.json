{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\client\\\\src\\\\Containers\\\\home\\\\Personel_Options\\\\personelList.js\";\nimport React, { useEffect, useState, createRef, useRef, useContext } from 'react';\nimport { UpdateLoggedin } from '../../isLoggedin/action';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { makePersonelRequest, makePersonSearchRequest } from '../../../request/requset';\nimport Circle from '../../../UI/Circle';\nimport BackStage from '../../../UI/backStage';\nimport { SearchPersonModal as SearchModal } from '../../../UI/SearchModal/SearchPerson';\nimport { Context } from '../../../Context/Context';\nconst ListWrapper = styled.div`\ndisplay:flex;\nflex-flow:column;\nalign-items:center;\nbackground:white;\nwidth:80%;\nmargin:0 auto;\nmargin-top:2%;\nborder-radius:3px;\nposition:relative;\n@media (max-width: 1000px) {\n   width:100%;\n   height:100%;\n   overflow-x: scroll;\n}\n`;\nconst PersonelList_ = styled.ul`\noverflow:hidden;\npadding:0;\nmin-width:${({\n  width\n}) => width ? width + 'px' : '900px'};\nmax-width:${({\n  width\n}) => width ? width + 'px' : '900px'};\n-webkit-box-shadow: 0 10px 6px -6px #758184;\n-moz-box-shadow: 0 10px 6px -6px #758184;\n box-shadow: 0 10px 6px -6px #758184;\n`;\nconst PersonelListItemInnerWrapper = styled.div`\ndisplay:flex;\nwidth:50%;\n`;\nconst PersonelListIconWrapper = styled.div`\n&:hover{\n  cursor:pointer;\n  background:#b9ebcc;\n}\nfont-size:8px;\nflex:1;\n`;\nconst IconInnerSpan = styled.span`\ndisplay:flex;\nflex:1;\ntext-align:center;\nalign-items:center;\njustify-content:center;\npadding:10px;\nposition:relative;\ntransition:100ms;\nbackground:#00909e;\nmin-width:28.41px;\nmax-width:28.41px;\n&:hover{\n  cursor:pointer;\n  font-size:20px;\n}\n\nbox-sizing:border-box;\n`;\nconst SwitchButton = styled.div`\n   &:hover{\n     cursor:pointer;\n   }\n   border-radius:50%;\n   color:white;\n   position:absolute;\n   text-align:center;\n   box-sizing:border-box;\n`;\nconst PersonelListItem = styled.li`\nwidth:200%;\ndisplay:flex;\ntransition:280ms;\n`;\nconst InnerTopSpan = styled.span`\ndisplay:flex;\ntext-align:center;\nalign-items:center;\njustify-content:center;\nflex:1;\nbackground:#61c0bf;\ncolor:white;\npadding:10px;\nfont-size:14px;\nbox-sizing:border-box;\n`;\nconst HiddenWrapper = styled.div`\nwidth:100%;\n@media (max-width: 900px) {  \n  min-width:900px;\n  max-width:900px;\n  position:absolute;\n  left:0;\n}\nflex-direction:column;\nalign-items:center;\nposition:relative;\ndisplay:flex;\njustify-content:center;\n`; //*------------------------------\n\nconst SearchBox = styled.div`\npadding:20px;\ncolor:#61c0bf;\nletter-spacing:1;\nwidth:100%;\ndisplay:flex;\nflex-direction:column;\nalign-items:center\n`;\nconst InnerSearch = styled.div`\nalign-self:flex-end;\nfont-size:13px;\nbackground:#f57170;\ncolor:white;\npadding:8px;\nborder-radius:6px;\n&:hover{\n  cursor:pointer;\n}\n`; //-----------------------------------------\n\nconst InnerSpan = styled.span`\ndisplay:flex;\ntext-align:center;\nalign-items:center;\njustify-content:center;\npadding:10px;\nposition:relative;\nflex:1.5;\nfont-size:14px;\nbox-sizing:border-box;\n`; //------------------------------------\n\nconst SubPagesContainer = styled.div`\ndisplay:flex;\njustify-content:center;\nwidth:100%;\nmargin-top:20px;\nalign-items:center;\npadding:10px 0;\n`;\nconst SubPageItem = styled.div`\n\nmargin-right:8px;\nborder-radius:100%;\ndisplay:flex;\nwidth:20px;\nheight:20px;\npadding:14px;\ncolor:${({\n  selected\n}) => selected ? 'white' : 'black'};\nalign-items:center;\njustify-content:center;\nbox-shadow:0 0px 4px  black;\nbackground:${({\n  selected\n}) => selected ? '#f57170' : 'white'};\n&:hover{\ncursor:pointer;\n}\n\n`;\nconst TopRows = ['İsim', 'Soy İsim', 'Rol', 'Bölge', 'Sözleşme Tarihi', ''];\nconst PersonelOptions = [{\n  desc: 'Genel Bilgiler',\n  Icon: /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user-friends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 31\n    }\n  })\n}, {\n  desc: 'Ödemeler',\n  Icon: /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-money-bill-wave\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  })\n}, {\n  desc: 'Sözleşme',\n  Icon: /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  })\n}, {\n  desc: 'Özel Bilgiler',\n  Icon: /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-address-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 31\n    }\n  })\n}, {}];\n\nconst PersonelList = ({\n  isOnlySubBranch,\n  ...rest\n}) => {\n  const [personels, setPersonels] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [backStage, setBackstage] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [subPagesCount, setSubPagesCount] = useState(0);\n  const [searchData, setSearchData] = useState({});\n  const [selectedSubPage, setSelectedSubPage] = useState(0);\n  const [notFound, setNotFound] = useState(null);\n  let subPageNumber = Math.ceil(subPagesCount / 10);\n  const {\n    isLoggedinf\n  } = useContext(Context);\n  const refs = useRef([]);\n  refs.current = refs.current.slice(0, personels.length);\n\n  for (let step = refs.current.length; step < personels.length; step++) {\n    refs.current[step] = createRef(); //we can use useRef with createRef  ! ;\n  }\n\n  const closeModal_1 = () => {\n    setIsModalOpen(false);\n    setBackstage(false);\n  };\n\n  const SwitchRow = (Amount, ref) => event => {\n    ref.current.style.transform = `translateX(${Amount}%)`;\n    if (Amount == -50) for (let i = 0; i < refs.current.length; i++) {\n      if (i !== refs.current.indexOf(ref) && refs.current[i].current) //close all other list items ; \n        {\n          refs.current[i].current.style.transform = `translateX(0)`;\n        }\n    }\n  };\n\n  const nextPage = page => {\n    setSelectedSubPage(page);\n    setLoading(true);\n    makePersonSearchRequest('post', { ...searchData,\n      pageNumber: page\n    }, isLoggedinf, setPersonels, closeModal_1, setSubPagesCount, setLoading);\n  }; // we can also  use useRef hook for storing value or objects; \n\n\n  return /*#__PURE__*/React.createElement(UpdateLoggedin, Object.assign({\n    page: \"PERSONEL_L\\u0130ST\"\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 12\n    }\n  }), (Loading, user) => Loading ? null : /*#__PURE__*/React.createElement(ListWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(BackStage, {\n    backStage: backStage,\n    loading: !isModalOpen,\n    close: isModalOpen ? closeModal_1 : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 22\n    }\n  }), /*#__PURE__*/React.createElement(SearchModal, {\n    isOnlySubBranch: isOnlySubBranch,\n    id: user._id,\n    setMainSearchData: setSearchData,\n    setReports: setPersonels,\n    setSelectedSubPage: setSelectedSubPage,\n    isOpen: isModalOpen,\n    close: closeModal_1,\n    closeModalOnly: setIsModalOpen,\n    setSubPagesCount: setSubPagesCount,\n    setNotFound: setNotFound,\n    role: user.role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(HiddenWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 21\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Circle, {\n    Load: loading,\n    position: \"static\",\n    marginTop: 30,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(SearchBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 34\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      marginRight: 8\n    },\n    className: \"fas fa-user-friends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 64\n    }\n  }), \"  \", isOnlySubBranch ? 'BAYİLER' : 'PERSONELLER', \"   \"), /*#__PURE__*/React.createElement(InnerSearch, {\n    onClick: () => {\n      setBackstage(true);\n      setIsModalOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 35\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas  fa-search \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 39\n    }\n  }), \" ARAMA YAP\")), /*#__PURE__*/React.createElement(_PersonelList, {\n    personels: personels,\n    notFound: notFound,\n    SwitchRow: SwitchRow,\n    refs: refs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(SubPagesContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }\n  }, subPageNumber > 1 && personels.length !== 0 && !notFound ? new Array(subPageNumber).fill().map((item, index) => {\n    return /*#__PURE__*/React.createElement(SubPageItem, {\n      key: index,\n      selected: selectedSubPage === index,\n      onClick: () => nextPage(index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 24\n      }\n    }, index + 1);\n  }) : null)))));\n};\n\nexport const _PersonelList = ({\n  personels,\n  notFound,\n  SwitchRow,\n  refs,\n  width,\n  role\n}) => {\n  return /*#__PURE__*/React.createElement(PersonelList_, {\n    width: width,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PersonelListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PersonelListItemInnerWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }\n  }, TopRows.map(item => {\n    return !item ? /*#__PURE__*/React.createElement(InnerTopSpan, {\n      key: item,\n      style: {\n        flex: '0.05'\n      },\n      key: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 39\n      }\n    }) : /*#__PURE__*/React.createElement(InnerTopSpan, {\n      key: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 117\n      }\n    }, item);\n  }))), personels.length <= 0 && notFound ? /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center',\n      padding: 20,\n      letterSpacing: 1,\n      fontSize: 17,\n      color: '#00909e'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 50\n    }\n  }, role ? `Henüz , Bu ${role}ye Bağlı  Bir Bayi  Bulunmamaktadır.` : 'Herhangi Bir Sonuç Bulunamadı .') : null, personels.length <= 0 && !notFound ? /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center',\n      padding: 20,\n      letterSpacing: 1,\n      fontSize: 17,\n      color: '#00909e'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 51\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 145\n    }\n  }), \" L\\xFCtfen Bir Arama Yap\\u0131n\\u0131z.\") : null, personels.map((item, index) => {\n    return /*#__PURE__*/React.createElement(PersonelListItem, {\n      style: {\n        background: index % 2 == 0 ? '#ececec' : '#fcf8f3'\n      },\n      key: item._id,\n      ref: refs.current[index],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PersonelListItemInnerWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }\n    }, item.firstName), /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 11\n      }\n    }, item.lastName), /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }\n    }, item.role), /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }\n    }, item.region), /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }\n    }, item.contractDate), /*#__PURE__*/React.createElement(IconInnerSpan, {\n      style: {\n        flex: '0.1'\n      },\n      onClick: SwitchRow(-50, refs.current[index]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SwitchButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-arrow-circle-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(PersonelListItemInnerWrapper, {\n      style: {\n        backgroundColor: '#a6b1e1'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 7\n      }\n    }, PersonelOptions.map((subItem, Mainindex) => {\n      return Mainindex === PersonelOptions.length - 1 ? /*#__PURE__*/React.createElement(IconInnerSpan, {\n        key: Mainindex,\n        onClick: SwitchRow(0, refs.current[index]),\n        style: {\n          flex: '0.1'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(SwitchButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-arrow-circle-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 21\n        }\n      }))) : /*#__PURE__*/React.createElement(PersonelListIconWrapper, {\n        key: Mainindex,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: '/home/personel_listesi/' + subItem.desc.split(' ').join('_').toLowerCase() + '/' + item._id,\n        style: {\n          display: 'flex',\n          flexFlow: 'column',\n          justifyContent: 'center',\n          alignItems: 'center',\n          padding: '6px',\n          fontSize: '12px',\n          color: 'white',\n          textDecoration: 'none'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 15\n        }\n      }, subItem.Icon, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 19\n        }\n      }, subItem.desc)));\n    })));\n  }));\n};\nexport default PersonelList;","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOŞ/Study-Online/client/src/Containers/home/Personel_Options/personelList.js"],"names":["React","useEffect","useState","createRef","useRef","useContext","UpdateLoggedin","styled","Link","makePersonelRequest","makePersonSearchRequest","Circle","BackStage","SearchPersonModal","SearchModal","Context","ListWrapper","div","PersonelList_","ul","width","PersonelListItemInnerWrapper","PersonelListIconWrapper","IconInnerSpan","span","SwitchButton","PersonelListItem","li","InnerTopSpan","HiddenWrapper","SearchBox","InnerSearch","InnerSpan","SubPagesContainer","SubPageItem","selected","TopRows","PersonelOptions","desc","Icon","PersonelList","isOnlySubBranch","rest","personels","setPersonels","loading","setLoading","backStage","setBackstage","isModalOpen","setIsModalOpen","subPagesCount","setSubPagesCount","searchData","setSearchData","selectedSubPage","setSelectedSubPage","notFound","setNotFound","subPageNumber","Math","ceil","isLoggedinf","refs","current","slice","length","step","closeModal_1","SwitchRow","Amount","ref","event","style","transform","i","indexOf","nextPage","page","pageNumber","Loading","user","_id","role","fontSize","marginRight","Array","fill","map","item","index","_PersonelList","flex","textAlign","padding","letterSpacing","color","background","firstName","lastName","region","contractDate","backgroundColor","subItem","Mainindex","split","join","toLowerCase","display","flexFlow","justifyContent","alignItems","textDecoration"],"mappings":"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","sourcesContent":["import React,{useEffect,useState,createRef,useRef,useContext} from 'react';\r\nimport {UpdateLoggedin} from '../../isLoggedin/action'\r\nimport styled from 'styled-components';\r\nimport {Link} from 'react-router-dom'\r\nimport {makePersonelRequest, makePersonSearchRequest} from '../../../request/requset';\r\nimport Circle from '../../../UI/Circle'\r\nimport BackStage from '../../../UI/backStage'\r\nimport {SearchPersonModal as SearchModal} from '../../../UI/SearchModal/SearchPerson'\r\nimport { Context } from '../../../Context/Context';\r\n\r\nconst ListWrapper = styled.div`\r\ndisplay:flex;\r\nflex-flow:column;\r\nalign-items:center;\r\nbackground:white;\r\nwidth:80%;\r\nmargin:0 auto;\r\nmargin-top:2%;\r\nborder-radius:3px;\r\nposition:relative;\r\n@media (max-width: 1000px) {\r\n   width:100%;\r\n   height:100%;\r\n   overflow-x: scroll;\r\n}\r\n`\r\n\r\n\r\nconst PersonelList_ = styled.ul`\r\noverflow:hidden;\r\npadding:0;\r\nmin-width:${({width})=> width ? width+'px' : '900px'};\r\nmax-width:${({width})=> width ? width+'px' : '900px'};\r\n-webkit-box-shadow: 0 10px 6px -6px #758184;\r\n-moz-box-shadow: 0 10px 6px -6px #758184;\r\n box-shadow: 0 10px 6px -6px #758184;\r\n`\r\n\r\n\r\nconst PersonelListItemInnerWrapper = styled.div`\r\ndisplay:flex;\r\nwidth:50%;\r\n`\r\n\r\nconst PersonelListIconWrapper = styled.div`\r\n&:hover{\r\n  cursor:pointer;\r\n  background:#b9ebcc;\r\n}\r\nfont-size:8px;\r\nflex:1;\r\n`\r\nconst IconInnerSpan = styled.span`\r\ndisplay:flex;\r\nflex:1;\r\ntext-align:center;\r\nalign-items:center;\r\njustify-content:center;\r\npadding:10px;\r\nposition:relative;\r\ntransition:100ms;\r\nbackground:#00909e;\r\nmin-width:28.41px;\r\nmax-width:28.41px;\r\n&:hover{\r\n  cursor:pointer;\r\n  font-size:20px;\r\n}\r\n\r\nbox-sizing:border-box;\r\n`\r\n\r\n\r\nconst SwitchButton  = styled.div`\r\n   &:hover{\r\n     cursor:pointer;\r\n   }\r\n   border-radius:50%;\r\n   color:white;\r\n   position:absolute;\r\n   text-align:center;\r\n   box-sizing:border-box;\r\n`\r\n\r\nconst PersonelListItem = styled.li`\r\nwidth:200%;\r\ndisplay:flex;\r\ntransition:280ms;\r\n`\r\n\r\n\r\nconst InnerTopSpan = styled.span`\r\ndisplay:flex;\r\ntext-align:center;\r\nalign-items:center;\r\njustify-content:center;\r\nflex:1;\r\nbackground:#61c0bf;\r\ncolor:white;\r\npadding:10px;\r\nfont-size:14px;\r\nbox-sizing:border-box;\r\n`\r\n\r\nconst HiddenWrapper = styled.div`\r\nwidth:100%;\r\n@media (max-width: 900px) {  \r\n  min-width:900px;\r\n  max-width:900px;\r\n  position:absolute;\r\n  left:0;\r\n}\r\nflex-direction:column;\r\nalign-items:center;\r\nposition:relative;\r\ndisplay:flex;\r\njustify-content:center;\r\n`\r\n\r\n//*------------------------------\r\nconst SearchBox = styled.div`\r\npadding:20px;\r\ncolor:#61c0bf;\r\nletter-spacing:1;\r\nwidth:100%;\r\ndisplay:flex;\r\nflex-direction:column;\r\nalign-items:center\r\n`\r\nconst InnerSearch = styled.div`\r\nalign-self:flex-end;\r\nfont-size:13px;\r\nbackground:#f57170;\r\ncolor:white;\r\npadding:8px;\r\nborder-radius:6px;\r\n&:hover{\r\n  cursor:pointer;\r\n}\r\n`\r\n//-----------------------------------------\r\n\r\nconst InnerSpan = styled.span`\r\ndisplay:flex;\r\ntext-align:center;\r\nalign-items:center;\r\njustify-content:center;\r\npadding:10px;\r\nposition:relative;\r\nflex:1.5;\r\nfont-size:14px;\r\nbox-sizing:border-box;\r\n`\r\n//------------------------------------\r\n\r\nconst SubPagesContainer = styled.div`\r\ndisplay:flex;\r\njustify-content:center;\r\nwidth:100%;\r\nmargin-top:20px;\r\nalign-items:center;\r\npadding:10px 0;\r\n`\r\n\r\nconst SubPageItem = styled.div`\r\n\r\nmargin-right:8px;\r\nborder-radius:100%;\r\ndisplay:flex;\r\nwidth:20px;\r\nheight:20px;\r\npadding:14px;\r\ncolor:${({selected}) => selected ? 'white' : 'black'};\r\nalign-items:center;\r\njustify-content:center;\r\nbox-shadow:0 0px 4px  black;\r\nbackground:${({selected}) => selected ? '#f57170' : 'white'};\r\n&:hover{\r\ncursor:pointer;\r\n}\r\n\r\n`\r\n\r\n\r\nconst TopRows  =  [\r\n  'İsim',\r\n  'Soy İsim',\r\n  'Rol',\r\n  'Bölge',\r\n  'Sözleşme Tarihi',\r\n  '',\r\n]\r\n\r\nconst PersonelOptions = [\r\n  {desc:'Genel Bilgiler',Icon:<i className=\"fas fa-user-friends\"></i>},\r\n  {desc:'Ödemeler',Icon:<i className=\"fas fa-money-bill-wave\"></i>},\r\n  {desc:'Sözleşme',Icon:<i className=\"fas fa-user-edit\"></i>},\r\n  {desc:'Özel Bilgiler',Icon: <i className=\"far fa-address-card\"></i>},\r\n  {}\r\n]\r\n\r\n\r\nconst PersonelList  = ({isOnlySubBranch,...rest})=>{\r\n\r\n  const [personels,setPersonels] = useState([]);\r\n  const [loading , setLoading] = useState(false);\r\n  const [backStage, setBackstage] = useState(false);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [subPagesCount, setSubPagesCount] = useState(0);\r\n  const [searchData, setSearchData] = useState({});\r\n  const [selectedSubPage, setSelectedSubPage] = useState(0);\r\n  const [ notFound , setNotFound ] = useState(null);\r\n  \r\n  let subPageNumber =  Math.ceil(subPagesCount/10);\r\n\r\n  const {isLoggedinf} = useContext(Context);\r\n\r\n  const refs = useRef([]);  \r\n  refs.current = refs.current.slice(0, personels.length);\r\n  for (let step = refs.current.length; step < personels.length; step++) {\r\n      refs.current[step] = createRef();  //we can use useRef with createRef  ! ;\r\n  }\r\n  \r\n  const closeModal_1 = () => {\r\n    setIsModalOpen(false);\r\n    setBackstage(false);\r\n  }\r\n   \r\n  const SwitchRow = (Amount,ref)=>event=>{\r\n    ref.current.style.transform = `translateX(${Amount}%)`\r\n   if(Amount==-50)  \r\n      for(let i = 0 ; i<refs.current.length ; i++)\r\n      {\r\n            if(i !== refs.current.indexOf(ref) && refs.current[i].current)  //close all other list items ; \r\n            {\r\n              refs.current[i].current.style.transform=`translateX(0)`\r\n            }\r\n      }\r\n  }\r\n   \r\n\r\n  const nextPage = (page)=>{\r\n\r\n    setSelectedSubPage(page);\r\n    setLoading(true);\r\n    \r\n          makePersonSearchRequest('post', {\r\n            ...searchData,\r\n            pageNumber: page\r\n          }, isLoggedinf, setPersonels, closeModal_1, setSubPagesCount, setLoading);\r\n\r\n  }\r\n // we can also  use useRef hook for storing value or objects; \r\n\r\n    return <UpdateLoggedin page='PERSONEL_LİST' {...rest}  >\r\n      {\r\n          (Loading,user)=> Loading \r\n          ?\r\n          null       \r\n          :\r\n              <ListWrapper> \r\n\r\n                     <BackStage backStage={backStage} loading={!isModalOpen}   close={isModalOpen ? closeModal_1 : null}/>\r\n\r\n                      <SearchModal\r\n\r\n                      isOnlySubBranch={isOnlySubBranch}\r\n                      id= {user._id}\r\n                      setMainSearchData={setSearchData}  \r\n                      setReports={setPersonels}\r\n                      setSelectedSubPage={setSelectedSubPage}  \r\n                      isOpen ={isModalOpen} \r\n                      close={closeModal_1} \r\n                      closeModalOnly = {setIsModalOpen} \r\n                      setSubPagesCount={setSubPagesCount}\r\n                      setNotFound={setNotFound}\r\n                      role={user.role}\r\n\r\n                      >\r\n\r\n                      </SearchModal>\r\n               \r\n                    <HiddenWrapper>            \r\n      {\r\n\r\n                  loading\r\n\r\n                  ?\r\n                      <Circle Load={loading} position='static' marginTop={30}/>    \r\n                  :\r\n\r\n                  <React.Fragment>\r\n\r\n                    <SearchBox>\r\n\r\n                                 <div style={{ fontSize: 18}}> <i style={{ marginRight: 8 }} className=\"fas fa-user-friends\"></i>  { isOnlySubBranch  ? 'BAYİLER'  : 'PERSONELLER'}   </div>\r\n\r\n                                  <InnerSearch onClick={() => {\r\n                                    \r\n                                    setBackstage(true);\r\n                                    setIsModalOpen(true)\r\n\r\n                                  }}> <i className=\"fas  fa-search \"></i> ARAMA YAP \r\n                                  \r\n                                  </InnerSearch>\r\n\r\n                    </SearchBox>\r\n\r\n                      \r\n                    <_PersonelList personels={personels} notFound={notFound} SwitchRow={SwitchRow} refs={refs} />\r\n\r\n        <SubPagesContainer>\r\n              {\r\n                subPageNumber > 1 && personels.length !== 0 && !notFound ?  new Array(subPageNumber).fill().map((item, index) => { \r\n                return <SubPageItem  key={index} selected={ selectedSubPage === index }  onClick={() => nextPage(index)}>{index + 1}</SubPageItem>})\r\n                :\r\n                null\r\n              }\r\n        </SubPagesContainer>\r\n\r\n\r\n        </React.Fragment>     \r\n      }\r\n               \r\n            </HiddenWrapper>\r\n          </ListWrapper>\r\n\r\n        \r\n      }\r\n    </UpdateLoggedin>\r\n}\r\n\r\nexport const _PersonelList = ({personels,notFound,SwitchRow,refs,width,role})=>{\r\n \r\n        return  <PersonelList_ width={width}>\r\n\r\n        <PersonelListItem>  \r\n\r\n                <PersonelListItemInnerWrapper>\r\n                    {\r\n                      TopRows.map((item)=>{\r\n                      return !item  ? <InnerTopSpan key={item} style={{flex:'0.05'}}  key={item}></InnerTopSpan> :  <InnerTopSpan key={item}>{item}</InnerTopSpan> \r\n                      })\r\n                    }\r\n                  </PersonelListItemInnerWrapper>\r\n                  \r\n        </PersonelListItem>\r\n\r\n        {\r\n            personels.length <= 0  && notFound ? <h1 style={{textAlign:'center' , padding:20,letterSpacing:1 , fontSize:17 , color:'#00909e'}}>{ role ? `Henüz , Bu ${role}ye Bağlı  Bir Bayi  Bulunmamaktadır.` : 'Herhangi Bir Sonuç Bulunamadı .'}</h1> : null\r\n        }\r\n\r\n        { \r\n            personels.length  <= 0 && !notFound ? <h1 style={{textAlign:'center' , padding:20,letterSpacing:1 , fontSize:17, color:'#00909e'}}> <i className=\"fas fa-search\"></i> Lütfen Bir Arama Yapınız.</h1> : null\r\n        }\r\n        \r\n\r\n      {\r\n\r\n      personels.map((item,index)=>{\r\n      return  <PersonelListItem style={{background:index%2==0 ? '#ececec' : '#fcf8f3'}}   key={item._id} ref={refs.current[index]}>\r\n\r\n      <PersonelListItemInnerWrapper>\r\n\r\n          <InnerSpan>{item.firstName}</InnerSpan>\r\n          <InnerSpan>{item.lastName}</InnerSpan> \r\n          <InnerSpan>{item.role}</InnerSpan>\r\n          <InnerSpan>{item.region}</InnerSpan>\r\n          <InnerSpan>{item.contractDate}</InnerSpan>\r\n\r\n          <IconInnerSpan style={{flex:'0.1'}} onClick={SwitchRow(-50,refs.current[index])}>\r\n\r\n            <SwitchButton >\r\n              <i className=\"fas fa-arrow-circle-left\"></i>\r\n            </SwitchButton>\r\n\r\n          </IconInnerSpan>\r\n\r\n      </PersonelListItemInnerWrapper>    \r\n\r\n\r\n      <PersonelListItemInnerWrapper style={{backgroundColor:'#a6b1e1'}}> \r\n      {\r\n\r\n          PersonelOptions.map((subItem,Mainindex)=>{\r\n\r\n          return  Mainindex === PersonelOptions.length-1  \r\n\r\n          ?\r\n\r\n            <IconInnerSpan key={Mainindex} onClick={SwitchRow(0,refs.current[index])}   style={{flex:'0.1'}}>\r\n                <SwitchButton>\r\n                    <i className=\"fas fa-arrow-circle-right\"></i>\r\n                </SwitchButton>  \r\n            </IconInnerSpan>\r\n\r\n            :  \r\n            <PersonelListIconWrapper key={Mainindex}>\r\n                    \r\n              <Link  to={'/home/personel_listesi/'+ subItem.desc.split(' ').join('_').toLowerCase() +'/'+ item._id} style={{display:'flex',flexFlow:'column',justifyContent:'center',alignItems:'center',padding:'6px',fontSize:'12px',color:'white', textDecoration:'none'}}>\r\n                  {subItem.Icon}\r\n                  <span>{subItem.desc}</span>\r\n              </Link>\r\n              \r\n            </PersonelListIconWrapper> \r\n          \r\n          })                      \r\n      } \r\n      </PersonelListItemInnerWrapper>\r\n\r\n\r\n      </PersonelListItem>\r\n      })\r\n\r\n      }\r\n        \r\n      </PersonelList_> \r\n\r\n}\r\n\r\nexport default PersonelList ; "]},"metadata":{},"sourceType":"module"}