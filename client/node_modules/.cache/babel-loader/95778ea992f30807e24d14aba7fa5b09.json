{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\src\\\\Containers\\\\home\\\\Home_Options\\\\reportDetail.js\";\nimport React, { useEffect, useMemo, useState, useContext, useCallback } from 'react';\nimport { UpdateLoggedin } from '../../isLoggedin/action';\nimport styled from 'styled-components';\nimport { Link, Route } from 'react-router-dom';\nimport { Context } from '../../../Context/Context';\nimport { UserInputs } from './addPerson';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, DatePicker } from '@material-ui/pickers';\nimport { Regions } from '../../../Regions/regions';\nimport Circle from '../../../UI/Circle';\nimport Modal from '../../../UI/sentModal';\nimport Stage from '../../../UI/backStage';\nimport { Checkbox, TextField, Tab, Tabs, Paper, InputLabel, MenuItem, Selec } from '@material-ui/core';\nimport { makeUpdateReportRequest, makeDeleteReportRequest, makeSpecificReportRequest } from '../../../request/requset';\nimport { Report } from './addReport';\nconst MainWrapper = styled.form`\ndisplay:flex;\nbackground:white;\nwidth:70%;\nmargin:0 auto;\nalign-items:center;\njustify-content:center;\npadding:0;\nmargin-top:2%;\npadding:30px;\n@media (max-width: 1030px) {\n  width:90%;\n  padding:10px;\n}\nborder-radius:3px;\nflex-flow:column;\n`;\nconst Icon = styled.div`\nborder-radius:5px;\npadding:5px 10px;\ncolor:white;\nbackground:#00a8cc;\nfont-size:15px;\nmargin-right:10px;\n&:hover{\n    cursor:pointer;\n}\n`;\nconst ButtonWrapper = styled.div`\ndisplay:flex;\njustify-content:flex-end;\nwidth:100%;\nmargin-top:15px;\n@media (max-width: 1030px) {\n    justify-content:center;\n}\n`;\nconst InnerItems = styled.div`\ndisplay:flex;\njustify-content:flex-end;\nwidth:95%;\nmargin-bottom:20px;\ncolor:#30475e;\n@media (max-width: 1030px) {\n    justify-content:center !important;\n}\n`;\nconst SubmitButton = styled.button`\noutline:none; \nbackground:#00bdaa;\nborder:none;\ncolor:white;\npadding:10px 20px ;\n&:hover{\n    cursor:pointer;\n}\n`;\nconst Form = styled.form`\nwidth:100%;\ndisplay:flex;\nflex-flow:column;\nalign-items:center;\n`;\n\nconst ReportDetail = ({\n  match,\n  ...rest\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [initalReportStates, setInitalReportState] = useState(null);\n  const [reInitalReportStates, reIsetInitalReportState] = useState(null);\n  const [disable, setDisable] = useState(true);\n  const [backStageOpen, setbackStageOpen] = useState(false);\n  const [emptyWarning, setEmptyWarning] = useState(false);\n  const [uptadedModal, setUpdatedModal] = useState(false);\n  const [date, setDate] = useState(new Date());\n  const [deleteModal, setDeleteModal] = useState(false);\n  const [deleted, setDeleted] = useState(false);\n  const context = useContext(Context);\n  useEffect(() => {\n    const {\n      id\n    } = match.params;\n    makeSpecificReportRequest('get', id, setLoading, setInitalReportState, reIsetInitalReportState);\n  }, []);\n\n  const SubmitOnChange = Type => event => {\n    let value = event.target.value;\n    setInitalReportState(prevState => ({ ...prevState,\n      [Type]: value\n    }));\n  };\n\n  const closeModal_1 = () => {\n    setbackStageOpen(false);\n    setEmptyWarning(false);\n  };\n\n  const closeModal_2 = () => {\n    setbackStageOpen(false);\n    setUpdatedModal(false);\n  };\n\n  const closeModal_3 = () => {\n    setbackStageOpen(false);\n    setDeleteModal(false);\n  };\n\n  const closeModal_4 = () => {\n    rest.history.push('/home/raporlar');\n  };\n\n  useEffect(() => {\n    //this is just because of Date issue //--------\n    setInitalReportState(prevState => ({ ...prevState,\n      meetingDate: date\n    }));\n  }, [date]);\n\n  const submitUpdatedReport = e => {\n    e.preventDefault();\n    setbackStageOpen(true);\n\n    for (const key in initalReportStates) {\n      const element = initalReportStates[key];\n\n      if (!element) {\n        return setEmptyWarning(true);\n      } else {\n        if (key !== 'meetingDate') initalReportStates[key] = initalReportStates[key].trim();\n      }\n    }\n\n    makeUpdateReportRequest('patch', match.params.id, { ...initalReportStates\n    }, context.isLoggedinf, setInitalReportState, reIsetInitalReportState, setUpdatedModal, setDisable);\n  };\n\n  const deleteReport = () => {\n    setDeleteModal(false);\n    const {\n      id\n    } = match.params;\n    makeDeleteReportRequest('delete', id, context.isLoggedinf, setDeleted);\n  };\n\n  return /*#__PURE__*/React.createElement(UpdateLoggedin, Object.assign({}, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 12\n    }\n  }), (Loading, user) => Loading ? null : loading ? /*#__PURE__*/React.createElement(Circle, {\n    marginTop: 30,\n    Load: loading,\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(MainWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Stage, {\n    backStage: backStageOpen,\n    loading: !emptyWarning && !uptadedModal && !deleteModal && !deleted,\n    close: emptyWarning ? closeModal_1 : uptadedModal ? closeModal_2 : deleteModal ? closeModal_3 : deleted ? closeModal_4 : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    backStage: emptyWarning,\n    closeModal: closeModal_1,\n    type: \"EMPTY_F\\u0130ELD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    backStage: uptadedModal,\n    closeModal: closeModal_2,\n    type: \"UPDATED_REPORT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    backStage: deleteModal,\n    closeModal: closeModal_3,\n    deleteUser: deleteReport,\n    type: \"DELETE_REPORT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    backStage: deleted,\n    closeModal: closeModal_4,\n    type: \"DELETED_REPORT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitUpdatedReport,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 16\n    }\n  }, user.role === 'Admin' ? /*#__PURE__*/React.createElement(InnerItems, {\n    style: {\n      justifyContent: 'flex-start',\n      padding: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    style: {\n      background: '#63b7af',\n      padding: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/home/personel_listesi/raporlar/' + initalReportStates.userID,\n    style: {\n      width: '100%',\n      height: '100%',\n      textDecoration: 'none',\n      color: 'white',\n      display: 'block',\n      padding: '5px 10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 33\n    }\n  }, \"G\\xF6nderen:  \", initalReportStates.whoseDocument, \"   \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 85\n    }\n  })))) : null, /*#__PURE__*/React.createElement(InnerItems, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    onClick: () => setDisable(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  }, \"D\\xFCzenle \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 71\n    }\n  })), user.role === 'Admin' ? /*#__PURE__*/React.createElement(Icon, {\n    style: {\n      background: '#d9455f'\n    },\n    onClick: () => {\n      setDeleteModal(true);\n      setbackStageOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 28\n    }\n  }, \"Raporu  Sil \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 139\n    }\n  })) : null), /*#__PURE__*/React.createElement(Report, {\n    State: initalReportStates,\n    SubmitOnChange: SubmitOnChange,\n    disable: disable,\n    setDate: setDate,\n    type: \"detail\",\n    reportType: initalReportStates.reportType === 'schoolReport',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 21\n    }\n  }), disable ? null : /*#__PURE__*/React.createElement(ButtonWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"button\",\n    onClick: () => {\n      setInitalReportState(reInitalReportStates);\n      setDisable(true);\n    },\n    style: {\n      background: '#fa744f',\n      marginRight: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 33\n    }\n  }, \"VAZGE\\xC7\"), /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 33\n    }\n  }, \"G\\xDCNCELLE\")))));\n};\n\nexport default ReportDetail;","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOŞ/Study-Online/frontend/src/Containers/home/Home_Options/reportDetail.js"],"names":["React","useEffect","useMemo","useState","useContext","useCallback","UpdateLoggedin","styled","Link","Route","Context","UserInputs","DateFnsUtils","MuiPickersUtilsProvider","DatePicker","Regions","Circle","Modal","Stage","Checkbox","TextField","Tab","Tabs","Paper","InputLabel","MenuItem","Selec","makeUpdateReportRequest","makeDeleteReportRequest","makeSpecificReportRequest","Report","MainWrapper","form","Icon","div","ButtonWrapper","InnerItems","SubmitButton","button","Form","ReportDetail","match","rest","loading","setLoading","initalReportStates","setInitalReportState","reInitalReportStates","reIsetInitalReportState","disable","setDisable","backStageOpen","setbackStageOpen","emptyWarning","setEmptyWarning","uptadedModal","setUpdatedModal","date","setDate","Date","deleteModal","setDeleteModal","deleted","setDeleted","context","id","params","SubmitOnChange","Type","event","value","target","prevState","closeModal_1","closeModal_2","closeModal_3","closeModal_4","history","push","meetingDate","submitUpdatedReport","e","preventDefault","key","element","trim","isLoggedinf","deleteReport","Loading","user","role","justifyContent","padding","background","userID","width","height","textDecoration","color","display","whoseDocument","reportType","marginRight"],"mappings":"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","sourcesContent":["import React, {useEffect,useMemo,useState,useContext,useCallback} from 'react';\r\nimport {UpdateLoggedin} from '../../isLoggedin/action';\r\nimport styled from 'styled-components';\r\nimport {Link,Route} from 'react-router-dom'\r\nimport {Context} from '../../../Context/Context';\r\nimport  {UserInputs}  from './addPerson';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider,DatePicker } from '@material-ui/pickers'\r\nimport {Regions}  from '../../../Regions/regions'\r\nimport Circle from '../../../UI/Circle';\r\nimport Modal from '../../../UI/sentModal';\r\nimport Stage from '../../../UI/backStage';\r\nimport {Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec} from '@material-ui/core'\r\nimport {makeUpdateReportRequest,makeDeleteReportRequest,makeSpecificReportRequest}  from '../../../request/requset'\r\nimport {Report} from './addReport';\r\n\r\nconst MainWrapper = styled.form`\r\ndisplay:flex;\r\nbackground:white;\r\nwidth:70%;\r\nmargin:0 auto;\r\nalign-items:center;\r\njustify-content:center;\r\npadding:0;\r\nmargin-top:2%;\r\npadding:30px;\r\n@media (max-width: 1030px) {\r\n  width:90%;\r\n  padding:10px;\r\n}\r\nborder-radius:3px;\r\nflex-flow:column;\r\n`\r\nconst Icon = styled.div`\r\nborder-radius:5px;\r\npadding:5px 10px;\r\ncolor:white;\r\nbackground:#00a8cc;\r\nfont-size:15px;\r\nmargin-right:10px;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\nconst ButtonWrapper = styled.div`\r\ndisplay:flex;\r\njustify-content:flex-end;\r\nwidth:100%;\r\nmargin-top:15px;\r\n@media (max-width: 1030px) {\r\n    justify-content:center;\r\n}\r\n`\r\n\r\nconst InnerItems = styled.div`\r\ndisplay:flex;\r\njustify-content:flex-end;\r\nwidth:95%;\r\nmargin-bottom:20px;\r\ncolor:#30475e;\r\n@media (max-width: 1030px) {\r\n    justify-content:center !important;\r\n}\r\n`\r\nconst SubmitButton  = styled.button`\r\noutline:none; \r\nbackground:#00bdaa;\r\nborder:none;\r\ncolor:white;\r\npadding:10px 20px ;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\n\r\nconst Form = styled.form`\r\nwidth:100%;\r\ndisplay:flex;\r\nflex-flow:column;\r\nalign-items:center;\r\n`\r\n\r\n\r\n\r\n\r\nconst ReportDetail  = ({match,...rest })=>{\r\n     \r\n    const  [loading , setLoading ]  = useState(true);\r\n    const  [initalReportStates ,  setInitalReportState ] = useState(null);\r\n    const  [reInitalReportStates ,  reIsetInitalReportState ] = useState(null);\r\n    const  [disable,setDisable] = useState(true);\r\n    const  [backStageOpen ,setbackStageOpen]  = useState(false);\r\n    const  [emptyWarning,setEmptyWarning] = useState(false);\r\n    const  [uptadedModal , setUpdatedModal] = useState(false);\r\n    const  [date , setDate ] = useState(new Date());\r\n    const  [deleteModal , setDeleteModal] = useState(false);\r\n    const  [deleted , setDeleted ] = useState(false);\r\n\r\n    const context = useContext(Context);\r\n     \r\n    useEffect(()=>{\r\n        const {id} = match.params;\r\n        makeSpecificReportRequest('get',id,setLoading,setInitalReportState,reIsetInitalReportState);\r\n    },[])\r\n\r\n    const SubmitOnChange =Type=>event=>{\r\n         let value =  event.target.value ;\r\n         setInitalReportState((prevState)=>({...prevState,[Type]:value}));\r\n    }\r\n\r\n    const closeModal_1 = ()=>{\r\n\r\n        setbackStageOpen(false);\r\n        setEmptyWarning(false);\r\n\r\n    }\r\n\r\n    const closeModal_2 = ()=>{\r\n\r\n        setbackStageOpen(false);\r\n        setUpdatedModal(false);\r\n\r\n    }\r\n\r\n    const closeModal_3 = ()=>{\r\n\r\n        setbackStageOpen(false);\r\n        setDeleteModal(false);\r\n\r\n    }\r\n\r\n    const closeModal_4= ()=>{   \r\n        rest.history.push('/home/raporlar');\r\n    }\r\n   \r\n    \r\n   \r\n\r\n    useEffect(()=>{  //this is just because of Date issue //--------\r\n        setInitalReportState(prevState =>({...prevState,meetingDate:date}));\r\n    },[date])\r\n  \r\n\r\n    const submitUpdatedReport = (e)=>{\r\n\r\n        e.preventDefault();\r\n        setbackStageOpen(true)\r\n\r\n\r\n        for (const key in initalReportStates) {\r\n\r\n            const element = initalReportStates[key];\r\n\r\n            if(!element)\r\n            {\r\n                return setEmptyWarning(true);\r\n            }\r\n            else\r\n            {\r\n                if(key !== 'meetingDate')  initalReportStates[key] = initalReportStates[key].trim();\r\n            }\r\n        }\r\n        makeUpdateReportRequest('patch',match.params.id,{...initalReportStates},context.isLoggedinf,setInitalReportState,reIsetInitalReportState,setUpdatedModal,setDisable);\r\n    }\r\n   \r\n    const deleteReport = ()=>{\r\n         setDeleteModal(false);\r\n         const {id} = match.params;\r\n         makeDeleteReportRequest('delete',id,context.isLoggedinf,setDeleted);\r\n    }\r\n\r\n\r\n    return <UpdateLoggedin {...rest}>\r\n\r\n        {\r\n            (Loading,user)=>Loading ? null : loading\r\n            ?\r\n            <Circle marginTop={30} Load={loading} position='static'/>\r\n            :\r\n            <MainWrapper>\r\n\r\n                <Stage backStage={backStageOpen} loading={!emptyWarning && !uptadedModal && !deleteModal && !deleted } close={emptyWarning ? closeModal_1 : uptadedModal ? closeModal_2 : deleteModal ? closeModal_3 : deleted ?  closeModal_4 : null } />\r\n\r\n                <Modal backStage={emptyWarning}  closeModal={closeModal_1} type='EMPTY_FİELD'/>\r\n                <Modal backStage={uptadedModal}  closeModal={closeModal_2} type='UPDATED_REPORT'/>\r\n                <Modal backStage={deleteModal}  closeModal={closeModal_3} deleteUser={deleteReport}  type='DELETE_REPORT'/>\r\n                <Modal backStage={deleted} closeModal={closeModal_4} type='DELETED_REPORT'/>\r\n                \r\n               <Form onSubmit={submitUpdatedReport}>\r\n                   \r\n                   {\r\n                       user.role === 'Admin' ? \r\n\r\n                        <InnerItems style={{justifyContent:'flex-start',padding:10}}>  \r\n                            <Icon style={{background:'#63b7af',padding:0}}>\r\n                                <Link to={'/home/personel_listesi/raporlar/' + initalReportStates.userID} style={{width:'100%',height:'100%',textDecoration:'none',color:'white',display:'block',padding:'5px 10px'}}>\r\n                                    Gönderen:  {initalReportStates.whoseDocument}   <i class=\"fas fa-user\"></i> \r\n                                </Link>\r\n                            </Icon>\r\n                        </InnerItems>\r\n                        :\r\n                        null\r\n                   }\r\n                   \r\n                   <InnerItems>\r\n\r\n                        <Icon onClick={()=>setDisable(false)}>Düzenle <i className=\"fas fa-edit\"/></Icon>\r\n\r\n                        {\r\n                           user.role === 'Admin' \r\n                           ?  \r\n                           <Icon style={{background:'#d9455f'}} onClick={()=>{setDeleteModal(true); setbackStageOpen(true)}} >Raporu  Sil <i className=\"fas fa-trash-alt\"></i></Icon>\r\n                           :\r\n                           null\r\n                        }\r\n\r\n                   </InnerItems>\r\n\r\n                    <Report State={initalReportStates} SubmitOnChange={SubmitOnChange} disable={disable} setDate={setDate}  type='detail' reportType={initalReportStates.reportType === 'schoolReport'}/>\r\n\r\n                    {\r\n                        disable\r\n                        ?\r\n                        null\r\n                        :\r\n                        <ButtonWrapper>\r\n\r\n                                <SubmitButton type='button' onClick={()=>{\r\n                                    setInitalReportState(reInitalReportStates);\r\n                                    setDisable(true)\r\n                                }}\r\n\r\n                                style={{background:'#fa744f',marginRight:10}}>VAZGEÇ</SubmitButton> \r\n                                <SubmitButton type='submit'>GÜNCELLE</SubmitButton> \r\n                        </ButtonWrapper>                   \r\n                    }\r\n\r\n               </Form> \r\n                   \r\n            </MainWrapper>   \r\n        }\r\n    </UpdateLoggedin>\r\n}\r\n\r\nexport default  ReportDetail;"]},"metadata":{},"sourceType":"module"}