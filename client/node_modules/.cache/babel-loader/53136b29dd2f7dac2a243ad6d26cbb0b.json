{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\client\\\\src\\\\Containers\\\\home\\\\Home_Options\\\\myReports.js\";\nimport React, { useEffect, useState, createRef, useRef, useContext } from 'react';\nimport { makeReportsRequest, makeReportSearchRequest } from '../../../request/requset';\nimport { Context } from '../../../Context/Context';\nimport styled from 'styled-components';\nimport { UpdateLoggedin } from '../../isLoggedin/action';\nimport { Route, Link } from 'react-router-dom';\nimport Circle from '../../../UI/Circle';\nimport BackStage from '../../../UI/backStage';\nimport { hasPermission, PermissionsNumbers, IconPermission } from '../../../UI/Permissions/permissionIcon';\nimport { SearchReportModal } from '../../../UI/SearchModal/SearchReport';\nconst ListWrapper = styled.div`\ndisplay:flex;\nflex-flow:column;\nalign-items:center;\nbackground:white;\nwidth:80%;\nmargin:0 auto;\nmargin-top:2%;\nborder-radius:3px;\nposition:relative;\n@media (max-width: 1000px) {\n   width:100%;\n   height:100%;\n   padding:0 0 30px 0;\n   overflow-x: scroll;\n}\n`; //------------------\n\nconst HiddenWrapper = styled.div`\nwidth:100%;\n@media (max-width: 900px) {  \n  min-width:900px;\n  max-width:900px;\n  position:absolute;\n  left:0;\n}\nflex-direction:column;\nalign-items:center;\nposition:relative;\ndisplay:flex;\njustify-content:center;\n\n`;\nconst StudentList = styled.ul`\noverflow:hidden;\npadding:0;\nmin-width:${({\n  width\n}) => width ? width + 'px' : '900px'};\nmax-width:${({\n  width\n}) => width ? width + 'px' : '900px'};\nmargin:0;\n-webkit-box-shadow: 0 10px 6px -6px #758184;\n-moz-box-shadow: 0 10px 6px -6px #758184;\n box-shadow: 0 10px 6px -6px #758184;\n`;\nconst StudentListItem = styled.li`\nwidth:200%;\ndisplay:flex;\ntransition:280ms;\n\n`;\nconst SwitchButton = styled.div`\n   &:hover{\n     cursor:pointer;\n   }\n   border-radius:50%;\n   color:white;\n   position:absolute;\n   text-align:center;\n   box-sizing:border-box;\n`;\nconst StudentListItemInnerWrapper = styled.div`\ndisplay:flex;\njustify-content:space-evenly;\nwidth:50%;\n`;\nconst StudentListIconWrapper = styled.div`\n&:hover{\n  cursor:pointer;\n  background:#b9ebcc;\n}\nfont-size:8px;\nflex:1;\n`; //-------------------------\n\nconst InnerTopSpan = styled.span`\ndisplay:flex;\ntext-align:center;\nalign-items:center;\njustify-content:center;\nflex:1.5;\nbackground:#61c0bf;\ncolor:white;\npadding:10px;\nfont-size:14px;\nbox-sizing:border-box;\n`;\nconst InnerSpan = styled.span`\ndisplay:flex;\ntext-align:center;\nalign-items:center;\njustify-content:center;\npadding:10px;\nposition:relative;\nflex:1.5;\nfont-size:14px;\nbox-sizing:border-box;\n`;\nconst IconInnerSpan = styled.span`\ndisplay:flex;\ntext-align:center;\nalign-items:center;\njustify-content:center;\npadding:10px;\nposition:relative;\nflex:1.5;\ntransition:100ms;\nbackground:#00909e;\nmin-width:28.41px;\nmax-width:28.41px;\n&:hover{\n  cursor:pointer;\n  font-size:20px;\n}\n\nbox-sizing:border-box;\n`; //----------------------------\n\nconst SearchBox = styled.div`\npadding:20px;\ncolor:#61c0bf;\nletter-spacing:1;\nwidth:100%;\ndisplay:flex;\nflex-direction:column;\nalign-items:center\n`;\nconst InnerSearch = styled.div`\nalign-self:flex-end;\nfont-size:13px;\nbackground:#f57170;\ncolor:white;\npadding:8px;\nborder-radius:6px;\n&:hover{\n  cursor:pointer;\n}\n`; //---------------------------------\n\nconst SubPagesContainer = styled.div`\ndisplay:flex;\njustify-content:center;\nwidth:100%;\nmargin-top:20px;\nalign-items:center;\npadding:10px 0;\n`;\nconst SubPageItem = styled.div`\n\nmargin-right:8px;\nborder-radius:100%;\ndisplay:flex;\nwidth:20px;\nheight:20px;\npadding:14px;\ncolor:${({\n  selected\n}) => selected ? 'white' : 'grey'};\nalign-items:center;\njustify-content:center;\nbox-shadow:0 0px 4px  black;\nbackground:${({\n  selected\n}) => selected ? '#f57170' : 'white'};\n&:hover{\ncursor:pointer;\n}\n\n`; //-----------------------------\n\nconst TopRows = ['Görüşülen Kişi', 'Telefon Numarası', 'Görüşme Tipi', 'Görüşme Tarihi', 'Gönderen Kişi', ''];\nconst reportOptions = [{\n  desc: 'Görüşme Bilgileri',\n  Icon: /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user-friends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  })\n}, {\n  desc: 'Sözleşme Durumu',\n  Icon: /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user-friends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  })\n}];\n\nconst Student = props => {\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [backStage, setBackstage] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [subPagesCount, setSubPagesCount] = useState(0);\n  const [searchData, setSearchData] = useState({});\n  const [selectedSubPage, setSelectedSubPage] = useState(0);\n  const [notFound, setNotFound] = useState(null);\n  const refs = useRef([]); // we can also  use useRef hook for storing value or objects; \n\n  const {\n    isLoggedinf\n  } = useContext(Context);\n  refs.current = refs.current.slice(0, reports.length);\n\n  for (let step = refs.current.length; step < reports.length; step++) {\n    refs.current[step] = createRef(); //we can use useRef with createRef  ! ;\n  }\n\n  let subPageNumber = Math.ceil(subPagesCount / 10);\n\n  const closeModal_1 = () => {\n    setIsModalOpen(false);\n    setBackstage(false);\n  };\n\n  const SwitchRow = (Amount, ref) => event => {\n    ref.current.style.transform = `translateX(${Amount}%)`;\n    if (Amount == -50) for (let i = 0; i < refs.current.length; i++) {\n      if (i !== refs.current.indexOf(ref) && refs.current[i].current) //close all other list items ; \n        {\n          refs.current[i].current.style.transform = `translateX(0)`;\n        }\n    }\n  };\n\n  const nextPage = page => {\n    setSelectedSubPage(page);\n    setLoading(true);\n    makeReportSearchRequest('post', { ...searchData,\n      pageNumber: page\n    }, isLoggedinf, setReports, closeModal_1, setSubPagesCount, setLoading);\n  };\n\n  console.log(reports);\n  return /*#__PURE__*/React.createElement(UpdateLoggedin, Object.assign({\n    page: \"REPORT_L\\u0130ST\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 10\n    }\n  }), (Loading, user) => Loading ? null : /*#__PURE__*/React.createElement(ListWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BackStage, {\n    backStage: backStage,\n    loading: !isModalOpen,\n    close: isModalOpen ? closeModal_1 : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(SearchReportModal, {\n    setMainSearchData: setSearchData,\n    setReports: setReports,\n    setSelectedSubPage: setSelectedSubPage,\n    isOpen: isModalOpen,\n    close: closeModal_1,\n    closeModalOnly: setIsModalOpen,\n    setSubPagesCount: setSubPagesCount,\n    setNotFound: setNotFound,\n    role: user.role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(HiddenWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SearchBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 17\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      marginRight: 8\n    },\n    className: \"fas fa-file-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 47\n    }\n  }), \" RAPORLAR  \"), /*#__PURE__*/React.createElement(InnerSearch, {\n    onClick: () => {\n      setBackstage(true);\n      setIsModalOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 19\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas  fa-search \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 23\n    }\n  }), \" ARAMA YAP\")), loading ? /*#__PURE__*/React.createElement(Circle, {\n    Load: loading,\n    position: \"static\",\n    marginTop: 40,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ReportList, {\n    reports: reports,\n    user: user,\n    notFound: notFound,\n    refs: refs,\n    SwitchRow: SwitchRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(SubPagesContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 8\n    }\n  }, subPageNumber > 1 && reports.length !== 0 && !notFound ? new Array(subPageNumber).fill().map((item, index) => {\n    return /*#__PURE__*/React.createElement(SubPageItem, {\n      key: index,\n      selected: selectedSubPage === index,\n      onClick: () => nextPage(index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 18\n      }\n    }, index + 1);\n  }) : null)))));\n};\n\nexport const ReportList = ({\n  user,\n  reports,\n  notFound,\n  refs,\n  SwitchRow,\n  width,\n  userProfile,\n  role\n}) => {\n  return /*#__PURE__*/React.createElement(StudentList, {\n    width: width,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(StudentListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(StudentListItemInnerWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 8\n    }\n  }, TopRows.map(item => {\n    if (user.role !== 'Admin' && item === 'Gönderen Kişi') {\n      return null;\n    } else {\n      return !item ? /*#__PURE__*/React.createElement(InnerTopSpan, {\n        style: {\n          flex: '0.1'\n        },\n        key: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 37\n        }\n      }) : /*#__PURE__*/React.createElement(InnerTopSpan, {\n        key: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 104\n        }\n      }, item);\n    }\n  }))), reports.length <= 0 && notFound ? /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center',\n      padding: 20,\n      letterSpacing: 1,\n      fontSize: 17,\n      color: '#00909e'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 44\n    }\n  }, role ? `Henüz , Bu ${role}ye Ait Bir Rapor Bulunmamaktadır.` : 'Herhangi Bir Sonuç Bulunamadı .', \" \") : null, reports.length <= 0 && !notFound ? /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center',\n      padding: 20,\n      letterSpacing: 1,\n      fontSize: 17,\n      color: '#00909e'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 44\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 139\n    }\n  }), \" L\\xFCtfen Bir  Arama Yap\\u0131n\\u0131z.\") : null, reports.map((reportItem, index) => {\n    return /*#__PURE__*/React.createElement(StudentListItem, {\n      style: {\n        background: index % 2 == 0 ? '#ececec' : '#fcf8f3'\n      },\n      key: reportItem._id,\n      ref: refs.current[index],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(StudentListItemInnerWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 12\n      }\n    }, reportItem.relatedPersonName), /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 12\n      }\n    }, reportItem.relatedPersonPhoneNumber), /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 12\n      }\n    }, reportItem.reportType === 'studentReport' ? 'Öğrenci Görüşmesi' : 'Okul Görüşmesi'), /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 12\n      }\n    }, reportItem.meetingDate), user.role === 'Admin' ? /*#__PURE__*/React.createElement(InnerSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 14\n      }\n    }, reportItem.whoseDocument) : null, /*#__PURE__*/React.createElement(IconInnerSpan, {\n      style: {\n        flex: '0.05'\n      },\n      onClick: SwitchRow(-50, refs.current[index]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(SwitchButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-arrow-circle-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(StudentListItemInnerWrapper, {\n      style: {\n        backgroundColor: '#a6b1e1'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 8\n      }\n    }, reportOptions.map((item, Mainindex) => {\n      return Mainindex === reportOptions.length - 1 ? /*#__PURE__*/React.createElement(IconInnerSpan, {\n        key: Mainindex,\n        onClick: SwitchRow(0, refs.current[index]),\n        style: {\n          flex: '0.1'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(SwitchButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-arrow-circle-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 20\n        }\n      }))) : /*#__PURE__*/React.createElement(StudentListIconWrapper, {\n        key: Mainindex,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: '/home/raporlar/' + reportItem._id,\n        style: {\n          display: 'flex',\n          flexFlow: 'column',\n          justifyContent: 'center',\n          alignItems: 'center',\n          padding: '6px',\n          fontSize: '12px',\n          color: 'white',\n          textDecoration: 'none'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 18\n        }\n      }, item.Icon, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 22\n        }\n      }, item.desc)));\n    })));\n  }));\n};\nexport default Student;","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOŞ/Study-Online/client/src/Containers/home/Home_Options/myReports.js"],"names":["React","useEffect","useState","createRef","useRef","useContext","makeReportsRequest","makeReportSearchRequest","Context","styled","UpdateLoggedin","Route","Link","Circle","BackStage","hasPermission","PermissionsNumbers","IconPermission","SearchReportModal","ListWrapper","div","HiddenWrapper","StudentList","ul","width","StudentListItem","li","SwitchButton","StudentListItemInnerWrapper","StudentListIconWrapper","InnerTopSpan","span","InnerSpan","IconInnerSpan","SearchBox","InnerSearch","SubPagesContainer","SubPageItem","selected","TopRows","reportOptions","desc","Icon","Student","props","reports","setReports","loading","setLoading","backStage","setBackstage","isModalOpen","setIsModalOpen","subPagesCount","setSubPagesCount","searchData","setSearchData","selectedSubPage","setSelectedSubPage","notFound","setNotFound","refs","isLoggedinf","current","slice","length","step","subPageNumber","Math","ceil","closeModal_1","SwitchRow","Amount","ref","event","style","transform","i","indexOf","nextPage","page","pageNumber","console","log","Loading","user","role","fontSize","marginRight","Array","fill","map","item","index","ReportList","userProfile","flex","textAlign","padding","letterSpacing","color","reportItem","background","_id","relatedPersonName","relatedPersonPhoneNumber","reportType","meetingDate","whoseDocument","backgroundColor","Mainindex","display","flexFlow","justifyContent","alignItems","textDecoration"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, createRef, useRef, useContext } from 'react';\r\nimport { makeReportsRequest, makeReportSearchRequest } from '../../../request/requset';\r\nimport { Context } from '../../../Context/Context'\r\nimport styled from 'styled-components';\r\nimport { UpdateLoggedin } from '../../isLoggedin/action'\r\nimport { Route, Link } from 'react-router-dom'\r\nimport Circle from '../../../UI/Circle'\r\nimport BackStage from '../../../UI/backStage'\r\nimport { hasPermission, PermissionsNumbers, IconPermission } from '../../../UI/Permissions/permissionIcon'\r\nimport { SearchReportModal } from '../../../UI/SearchModal/SearchReport';\r\n\r\n\r\nconst ListWrapper = styled.div`\r\ndisplay:flex;\r\nflex-flow:column;\r\nalign-items:center;\r\nbackground:white;\r\nwidth:80%;\r\nmargin:0 auto;\r\nmargin-top:2%;\r\nborder-radius:3px;\r\nposition:relative;\r\n@media (max-width: 1000px) {\r\n   width:100%;\r\n   height:100%;\r\n   padding:0 0 30px 0;\r\n   overflow-x: scroll;\r\n}\r\n`\r\n//------------------\r\nconst HiddenWrapper = styled.div`\r\nwidth:100%;\r\n@media (max-width: 900px) {  \r\n  min-width:900px;\r\n  max-width:900px;\r\n  position:absolute;\r\n  left:0;\r\n}\r\nflex-direction:column;\r\nalign-items:center;\r\nposition:relative;\r\ndisplay:flex;\r\njustify-content:center;\r\n\r\n`\r\nconst StudentList = styled.ul`\r\noverflow:hidden;\r\npadding:0;\r\nmin-width:${({width})=> width ? width+'px' : '900px'};\r\nmax-width:${({width})=> width ? width+'px' : '900px'};\r\nmargin:0;\r\n-webkit-box-shadow: 0 10px 6px -6px #758184;\r\n-moz-box-shadow: 0 10px 6px -6px #758184;\r\n box-shadow: 0 10px 6px -6px #758184;\r\n`\r\n\r\nconst StudentListItem = styled.li`\r\nwidth:200%;\r\ndisplay:flex;\r\ntransition:280ms;\r\n\r\n`\r\n\r\nconst SwitchButton = styled.div`\r\n   &:hover{\r\n     cursor:pointer;\r\n   }\r\n   border-radius:50%;\r\n   color:white;\r\n   position:absolute;\r\n   text-align:center;\r\n   box-sizing:border-box;\r\n`\r\n\r\nconst StudentListItemInnerWrapper = styled.div`\r\ndisplay:flex;\r\njustify-content:space-evenly;\r\nwidth:50%;\r\n`\r\n\r\nconst StudentListIconWrapper = styled.div`\r\n&:hover{\r\n  cursor:pointer;\r\n  background:#b9ebcc;\r\n}\r\nfont-size:8px;\r\nflex:1;\r\n`\r\n\r\n//-------------------------\r\n\r\nconst InnerTopSpan = styled.span`\r\ndisplay:flex;\r\ntext-align:center;\r\nalign-items:center;\r\njustify-content:center;\r\nflex:1.5;\r\nbackground:#61c0bf;\r\ncolor:white;\r\npadding:10px;\r\nfont-size:14px;\r\nbox-sizing:border-box;\r\n`\r\nconst InnerSpan = styled.span`\r\ndisplay:flex;\r\ntext-align:center;\r\nalign-items:center;\r\njustify-content:center;\r\npadding:10px;\r\nposition:relative;\r\nflex:1.5;\r\nfont-size:14px;\r\nbox-sizing:border-box;\r\n`\r\n\r\nconst IconInnerSpan = styled.span`\r\ndisplay:flex;\r\ntext-align:center;\r\nalign-items:center;\r\njustify-content:center;\r\npadding:10px;\r\nposition:relative;\r\nflex:1.5;\r\ntransition:100ms;\r\nbackground:#00909e;\r\nmin-width:28.41px;\r\nmax-width:28.41px;\r\n&:hover{\r\n  cursor:pointer;\r\n  font-size:20px;\r\n}\r\n\r\nbox-sizing:border-box;\r\n`\r\n\r\n//----------------------------\r\n\r\nconst SearchBox = styled.div`\r\npadding:20px;\r\ncolor:#61c0bf;\r\nletter-spacing:1;\r\nwidth:100%;\r\ndisplay:flex;\r\nflex-direction:column;\r\nalign-items:center\r\n`\r\nconst InnerSearch = styled.div`\r\nalign-self:flex-end;\r\nfont-size:13px;\r\nbackground:#f57170;\r\ncolor:white;\r\npadding:8px;\r\nborder-radius:6px;\r\n&:hover{\r\n  cursor:pointer;\r\n}\r\n`\r\n//---------------------------------\r\n\r\nconst SubPagesContainer = styled.div`\r\ndisplay:flex;\r\njustify-content:center;\r\nwidth:100%;\r\nmargin-top:20px;\r\nalign-items:center;\r\npadding:10px 0;\r\n`\r\n\r\nconst SubPageItem = styled.div`\r\n\r\nmargin-right:8px;\r\nborder-radius:100%;\r\ndisplay:flex;\r\nwidth:20px;\r\nheight:20px;\r\npadding:14px;\r\ncolor:${({selected}) => selected ? 'white' : 'grey'};\r\nalign-items:center;\r\njustify-content:center;\r\nbox-shadow:0 0px 4px  black;\r\nbackground:${({selected}) => selected ? '#f57170' : 'white'};\r\n&:hover{\r\ncursor:pointer;\r\n}\r\n\r\n`\r\n\r\n//-----------------------------\r\n\r\n\r\nconst TopRows = [\r\n  'Görüşülen Kişi',\r\n  'Telefon Numarası',\r\n  'Görüşme Tipi',\r\n  'Görüşme Tarihi',\r\n  'Gönderen Kişi',\r\n  '',\r\n]\r\n\r\nconst reportOptions = [\r\n  {\r\n    desc: 'Görüşme Bilgileri',\r\n    Icon: <i className=\"fas fa-user-friends\"></i>\r\n  },\r\n  {\r\n    desc: 'Sözleşme Durumu',\r\n    Icon: <i className=\"fas fa-user-friends\"></i>\r\n  },\r\n]\r\n\r\nconst Student = (props) => {\r\n\r\n  const [reports, setReports] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [backStage, setBackstage] = useState(false);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [subPagesCount, setSubPagesCount] = useState(0);\r\n  const [searchData, setSearchData] = useState({});\r\n  const [selectedSubPage, setSelectedSubPage] = useState(0);\r\n  const [ notFound , setNotFound ] = useState(null);\r\n\r\n  const refs = useRef([]); // we can also  use useRef hook for storing value or objects; \r\n\r\n  const {isLoggedinf} = useContext(Context);\r\n  \r\n  refs.current = refs.current.slice(0, reports.length);\r\n  for (let step = refs.current.length; step < reports.length; step++) {\r\n    refs.current[step] = createRef(); //we can use useRef with createRef  ! ;\r\n  }\r\n  \r\n  let subPageNumber  = Math.ceil(subPagesCount/10);\r\n  \r\n  const closeModal_1 = () => {\r\n    setIsModalOpen(false);\r\n    setBackstage(false);\r\n  }\r\n\r\n  const SwitchRow = (Amount, ref) => event => {\r\n\r\n    ref.current.style.transform = `translateX(${Amount}%)`\r\n\r\n    if (Amount == -50)\r\n      for (let i = 0; i < refs.current.length; i++) {\r\n        if (i !== refs.current.indexOf(ref) && refs.current[i].current) //close all other list items ; \r\n        {\r\n          refs.current[i].current.style.transform = `translateX(0)`\r\n        }\r\n    }\r\n\r\n  }\r\n\r\n  const nextPage = (page) => {\r\n\r\n    setSelectedSubPage(page);\r\n    setLoading(true);\r\n\r\n    makeReportSearchRequest('post', {\r\n      ...searchData,\r\n      pageNumber: page\r\n    }, isLoggedinf, setReports, closeModal_1, setSubPagesCount, setLoading);\r\n\r\n  }\r\n  \r\n  console.log(reports)\r\n  return <UpdateLoggedin page='REPORT_LİST' {...props}>\r\n    {\r\n\r\n    (Loading,user) => Loading ? null :\r\n\r\n      <ListWrapper> \r\n           \r\n           <BackStage backStage={backStage} loading={!isModalOpen}   close={isModalOpen ? closeModal_1 : null}/>\r\n\r\n           <SearchReportModal\r\n\r\n           setMainSearchData={setSearchData}  \r\n           setReports={setReports}\r\n           setSelectedSubPage={setSelectedSubPage}  \r\n           isOpen ={isModalOpen} \r\n           close={closeModal_1} \r\n           closeModalOnly = {setIsModalOpen} \r\n           setSubPagesCount={setSubPagesCount}\r\n           setNotFound={setNotFound}\r\n           role={user.role}\r\n           \r\n           >\r\n          \r\n           </SearchReportModal>\r\n\r\n          \r\n          <HiddenWrapper>\r\n\r\n                <SearchBox>\r\n\r\n                <div style={{ fontSize: 18}}> <i style={{ marginRight: 8 }} className=\"fas fa-file-alt\"></i> RAPORLAR  </div>\r\n\r\n                  <InnerSearch onClick={() => {\r\n                  setBackstage(true);\r\n                  setIsModalOpen(true)\r\n                  }}> <i className=\"fas  fa-search \"></i> ARAMA YAP \r\n                  \r\n                  </InnerSearch>\r\n\r\n                </SearchBox>\r\n\r\n      {\r\n\r\n      loading\r\n\r\n        ?\r\n\r\n        <Circle Load={loading} position='static' marginTop ={40} />\r\n\r\n        :\r\n        <React.Fragment>\r\n        \r\n            <ReportList reports={reports} user={user} notFound={notFound} refs={refs} SwitchRow={SwitchRow}/>\r\n      \r\n       <SubPagesContainer>\r\n\r\n        {\r\n          subPageNumber > 1 && reports.length !== 0 && !notFound ?  new Array(subPageNumber).fill().map((item, index) => {\r\n\r\n          return <SubPageItem  key={index} selected={ selectedSubPage === index }  onClick={() => nextPage(index)}>{index + 1}</SubPageItem>\r\n\r\n        })\r\n        :\r\n        null\r\n        }\r\n\r\n        </SubPagesContainer>\r\n\r\n       </React.Fragment>\r\n      }\r\n        </HiddenWrapper>\r\n            \r\n      </ListWrapper>\r\n\r\n    }\r\n\r\n  </UpdateLoggedin>\r\n}\r\n\r\nexport const ReportList = ({user,reports,notFound,refs,SwitchRow,width,userProfile,role})=>{\r\n  \r\n  return <StudentList width={width}> \r\n\r\n  <StudentListItem>\r\n\r\n       <StudentListItemInnerWrapper>\r\n\r\n               {\r\n                 TopRows.map((item) => {\r\n\r\n                   if(user.role !== 'Admin' && item === 'Gönderen Kişi')\r\n                   {\r\n                     return null ;\r\n                   }\r\n                   else\r\n                   {\r\n                     return !item ? <InnerTopSpan style={{ flex: '0.1'}}  key={item}></InnerTopSpan> : <InnerTopSpan key={item}>{item}</InnerTopSpan>\r\n                   } \r\n                   \r\n                 })\r\n\r\n               }\r\n\r\n       </StudentListItemInnerWrapper>\r\n\r\n    </StudentListItem>   \r\n\r\n     {\r\n        reports.length <= 0  && notFound ? <h1 style={{textAlign:'center' , padding:20,letterSpacing:1 , fontSize:17 , color:'#00909e'}}>{ role ? `Henüz , Bu ${role}ye Ait Bir Rapor Bulunmamaktadır.` : 'Herhangi Bir Sonuç Bulunamadı .'} </h1> : null\r\n     }\r\n\r\n     {\r\n       reports.length  <= 0 && !notFound ? <h1 style={{textAlign:'center' , padding:20,letterSpacing:1 , fontSize:17 , color:'#00909e'}}> <i className=\"fas fa-search\"></i> Lütfen Bir  Arama Yapınız.</h1> : null\r\n     }\r\n\r\n    {\r\n\r\n    reports.map((reportItem, index) => {\r\n       return <StudentListItem style={{\r\n           background: index % 2 == 0 ? '#ececec' : '#fcf8f3'\r\n         }}  key={reportItem._id} ref={refs.current[index]}>\r\n\r\n       <StudentListItemInnerWrapper>\r\n\r\n           <InnerSpan>{reportItem.relatedPersonName}</InnerSpan>\r\n           <InnerSpan>{reportItem.relatedPersonPhoneNumber}</InnerSpan>\r\n           <InnerSpan>{reportItem.reportType === 'studentReport' ? 'Öğrenci Görüşmesi' : 'Okul Görüşmesi' }</InnerSpan>\r\n           <InnerSpan>{reportItem.meetingDate}</InnerSpan>\r\n           {\r\n             user.role === 'Admin' ? \r\n             <InnerSpan>{reportItem.whoseDocument}</InnerSpan>\r\n             : null\r\n           }\r\n           <IconInnerSpan style={{  flex: '0.05'}} onClick={SwitchRow(-50, refs.current[index])}>\r\n\r\n           <SwitchButton >\r\n              <i className=\"fas fa-arrow-circle-left\"></i>\r\n           </SwitchButton>\r\n\r\n           </IconInnerSpan>\r\n          \r\n       </StudentListItemInnerWrapper>    \r\n\r\n       <StudentListItemInnerWrapper style={{\r\n       backgroundColor: '#a6b1e1'\r\n     }}> \r\n\r\n         {\r\n     reportOptions.map((item, Mainindex) => {\r\n\r\n       return Mainindex === reportOptions.length - 1\r\n         ?\r\n         <IconInnerSpan key={Mainindex} onClick={SwitchRow(0, refs.current[index])}   style={{\r\n           flex: '0.1'\r\n         }}>\r\n               <SwitchButton>\r\n                   <i className=\"fas fa-arrow-circle-right\"></i>\r\n               </SwitchButton>  \r\n               </IconInnerSpan>\r\n\r\n         :\r\n         <StudentListIconWrapper key={Mainindex}>\r\n                       \r\n                 <Link  to={'/home/raporlar/'+ reportItem._id} style={{\r\n                 display: 'flex',\r\n                 flexFlow: 'column',\r\n                 justifyContent: 'center',\r\n                 alignItems: 'center',\r\n                 padding: '6px',\r\n                 fontSize: '12px',\r\n                 color: 'white',\r\n                 textDecoration: 'none'\r\n             }}>\r\n                     {item.Icon}\r\n                     <span>{item.desc}</span>\r\n                  </Link>\r\n                               \r\n             </StudentListIconWrapper>\r\n\r\n     })\r\n     }      \r\n         \r\n       </StudentListItemInnerWrapper>\r\n\r\n     </StudentListItem>\r\n\r\n })\r\n }\r\n      \r\n </StudentList>\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default Student;"]},"metadata":{},"sourceType":"module"}