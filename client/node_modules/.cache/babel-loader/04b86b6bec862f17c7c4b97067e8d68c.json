{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\client\\\\src\\\\UI\\\\SearchModal\\\\SearchPerson.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Checkbox, TextField, Tab, Tabs, Paper, InputLabel, MenuItem, Selec } from '@material-ui/core';\nimport { makePersonSearchRequest } from '../../request/requset';\nimport { Context } from '../../Context/Context';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nconst SearchModalContainer = styled.form`\nposition:fixed;\ndisplay:flex;\njustify-content:space-around;\nalign-items:center;\nflex-flow:column;\nwidth:50%;\nheight:70%;\nmargin:0 auto;\nleft:0;\nright:0;\nborder-radius:6px;\npadding:15px;\nbox-sizing:border-box;\ntop:12%;\nz-index:7;\nbackground:white;\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\n\n@media (max-width: 600px) {\n    width:95%;\n    height:60%;\n}\n\n`;\nconst CloseIcon = styled.div`\nposition:absolute;\nright:13px;\ntop:5px;\nfont-size:18px;\ncolor:#f57170;\n&:hover{\n    cursor:pointer;\n}\n`;\nconst SearchFields = styled.div`\ndisplay:flex;\nflex-wrap:wrap;\npadding:5px;\nwidth:100%;\nflex:1;\nalign-content:space-evenly;\njustify-content:space-around;\n`;\nconst SubmitButton = styled.button`\noutline:none; \nbackground:#00bdaa;\nborder:none;\nalign-self:flex-end;\ncolor:white;\nborder-radius:5px;\npadding:7px 13px ;\n&:hover{\n    cursor:pointer;\n}\n`;\nconst initialSearchState = {\n  firstName: '',\n  lastName: '',\n  role: '',\n  region: '',\n  contractDateStart: '',\n  contractDateEnd: '',\n  gender: ''\n};\nexport const SearchPersonModal = React.memo(({\n  isOpen,\n  close,\n  role,\n  closeModalOnly,\n  setReports,\n  setSubPagesCount,\n  setNotFound,\n  setMainSearchData,\n  setSelectedSubPage,\n  isOnlySubBranch,\n  id\n}) => {\n  const [searchData, setSearchData] = useState(initialSearchState);\n  const [date, setDate] = useState(null);\n  const [date2, setDate2] = useState(null);\n  const {\n    isLoggedinf\n  } = useContext(Context);\n  useEffect(() => {\n    setSearchData(prev => ({ ...prev,\n      contractDateStart: date\n    }));\n  }, [date]);\n  useEffect(() => {\n    setSearchData(prev => ({ ...prev,\n      contractDateEnd: date2\n    }));\n  }, [date2]);\n\n  const searchSubmitHandler = e => {\n    e.preventDefault();\n    closeModalOnly(false);\n    setSelectedSubPage(0);\n    let searchMainData = { ...searchData\n    };\n\n    for (const key in searchMainData) {\n      if (searchMainData[key] && key !== 'contractDateStart' && key !== 'contractDateEnd') searchMainData[key] = searchMainData[key].trim();\n    }\n\n    setMainSearchData(searchMainData); //we can also send trim data to parent component;\n\n    if (isOnlySubBranch) {\n      let {\n        role,\n        ...updatedSearchData\n      } = searchData;\n      searchMainData = { ...updatedSearchData,\n        relatedAgencyID: id\n      };\n    }\n\n    makePersonSearchRequest('post', searchMainData, isLoggedinf, setReports, close, setSubPagesCount, () => {}, setNotFound);\n  };\n\n  const submitChangeHandler = Type => event => {\n    let value = event.target.value;\n    setSearchData(prevState => ({ ...prevState,\n      [Type]: value\n    })); // react uses synthetic event istead of dom event\n  };\n\n  return isOpen ? /*#__PURE__*/React.createElement(SearchModalContainer, {\n    onSubmit: searchSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-times\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(SearchFields, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '45%'\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    value: searchData['firstName'],\n    onChange: submitChangeHandler('firstName'),\n    id: \"standard-basic\",\n    label: \"\\u0130sim\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '45%'\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    value: searchData['lastName'],\n    onChange: submitChangeHandler('lastName'),\n    id: \"standard-basic\",\n    label: \"Soy \\u0130sim\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }), !isOnlySubBranch ? /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '45%',\n      fontSize: 14\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    value: searchData['role'],\n    onChange: submitChangeHandler('role'),\n    id: \"select\",\n    label: \"Rol\",\n    select: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 61\n    }\n  }, \"Rol\")), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  }, \"Admin\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Temsilci\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }, \"Temsilci\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Bayi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  }, \"Bayi\")) : null, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '45%',\n      fontSize: 14\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    value: searchData['gender'],\n    onChange: submitChangeHandler('gender'),\n    id: \"select\",\n    label: \"Cinsiyet\",\n    select: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 53\n    }\n  }, \"Cinsiyet\")), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, \"Erkek\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  }, \"Kad\\u0131n\")), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '45%'\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    value: searchData['region'],\n    onChange: submitChangeHandler('region'),\n    id: \"standard-basic\",\n    label: \"B\\xF6lge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n    utils: DateFnsUtils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n    disableToolbar: true,\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    variant: \"inline\",\n    format: \"dd/MM/yyyy\",\n    margin: \"normal\",\n    id: \"date-picker-inline\",\n    label: \"Ba\\u015Flang\\u0131\\xE7 Tarih\",\n    value: searchData['contractDateStart'],\n    onChange: setDate,\n    style: {\n      width: '45%',\n      margin: '10px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n    disableToolbar: true,\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    variant: \"inline\",\n    format: \"dd/MM/yyyy\",\n    margin: \"normal\",\n    id: \"date-picker-inline\",\n    label: \"Son Tarih\",\n    value: searchData['contractDateEnd'],\n    onChange: setDate2,\n    style: {\n      width: '45%',\n      margin: '10px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas  fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 38\n    }\n  }), \" ARA \")) : null;\n});","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOŞ/Study-Online/client/src/UI/SearchModal/SearchPerson.js"],"names":["React","useState","useContext","useEffect","styled","Checkbox","TextField","Tab","Tabs","Paper","InputLabel","MenuItem","Selec","makePersonSearchRequest","Context","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","SearchModalContainer","form","CloseIcon","div","SearchFields","SubmitButton","button","initialSearchState","firstName","lastName","role","region","contractDateStart","contractDateEnd","gender","SearchPersonModal","memo","isOpen","close","closeModalOnly","setReports","setSubPagesCount","setNotFound","setMainSearchData","setSelectedSubPage","isOnlySubBranch","id","searchData","setSearchData","date","setDate","date2","setDate2","isLoggedinf","prev","searchSubmitHandler","e","preventDefault","searchMainData","key","trim","updatedSearchData","relatedAgencyID","submitChangeHandler","Type","event","value","target","prevState","width","style","fontSize","margin"],"mappings":"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","sourcesContent":["import React,{useState,useContext,useEffect} from 'react';\r\nimport styled from 'styled-components';\r\nimport {Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec} from '@material-ui/core'\r\nimport {makePersonSearchRequest}  from '../../request/requset'\r\nimport {Context} from '../../Context/Context';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider,KeyboardDatePicker} from '@material-ui/pickers'\r\n\r\nconst SearchModalContainer = styled.form`\r\nposition:fixed;\r\ndisplay:flex;\r\njustify-content:space-around;\r\nalign-items:center;\r\nflex-flow:column;\r\nwidth:50%;\r\nheight:70%;\r\nmargin:0 auto;\r\nleft:0;\r\nright:0;\r\nborder-radius:6px;\r\npadding:15px;\r\nbox-sizing:border-box;\r\ntop:12%;\r\nz-index:7;\r\nbackground:white;\r\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\r\n\r\n@media (max-width: 600px) {\r\n    width:95%;\r\n    height:60%;\r\n}\r\n\r\n`\r\nconst CloseIcon = styled.div`\r\nposition:absolute;\r\nright:13px;\r\ntop:5px;\r\nfont-size:18px;\r\ncolor:#f57170;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\n\r\nconst SearchFields = styled.div`\r\ndisplay:flex;\r\nflex-wrap:wrap;\r\npadding:5px;\r\nwidth:100%;\r\nflex:1;\r\nalign-content:space-evenly;\r\njustify-content:space-around;\r\n`\r\n\r\nconst SubmitButton = styled.button`\r\noutline:none; \r\nbackground:#00bdaa;\r\nborder:none;\r\nalign-self:flex-end;\r\ncolor:white;\r\nborder-radius:5px;\r\npadding:7px 13px ;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\nconst initialSearchState = {\r\n firstName:'',\r\n lastName:'',\r\n role:'',\r\n region:'',\r\n contractDateStart:'',\r\n contractDateEnd:'',\r\n gender:'',\r\n}\r\n\r\nexport const  SearchPersonModal = React.memo(({isOpen,close,role,closeModalOnly,setReports ,setSubPagesCount,setNotFound, setMainSearchData , setSelectedSubPage , isOnlySubBranch , id}) => {\r\n  \r\n    const [searchData,setSearchData] = useState (initialSearchState);\r\n    const [date,setDate] = useState(null);\r\n    const [date2,setDate2] = useState(null);\r\n    const {isLoggedinf}  = useContext(Context); \r\n\r\n    useEffect(() => {\r\n        setSearchData((prev)=>({...prev,contractDateStart:date}))\r\n    }, [date])\r\n\r\n    useEffect(() => {\r\n        setSearchData((prev)=>({...prev,contractDateEnd:date2}))\r\n    }, [date2])\r\n    \r\n\r\n    const searchSubmitHandler = (e)=>{\r\n\r\n        e.preventDefault();\r\n\r\n        closeModalOnly(false);\r\n        setSelectedSubPage(0);\r\n       \r\n\r\n        let  searchMainData = {...searchData};\r\n\r\n        for (const key in searchMainData){\r\n            if(searchMainData[key] && key !== 'contractDateStart' && key !== 'contractDateEnd')   searchMainData[key]  = searchMainData[key].trim();            \r\n        }\r\n        \r\n        setMainSearchData(searchMainData);  //we can also send trim data to parent component;\r\n\r\n        if(isOnlySubBranch) \r\n        {\r\n            let {role , ...updatedSearchData } = searchData;\r\n            searchMainData={...updatedSearchData,relatedAgencyID:id}\r\n        }\r\n        \r\n        makePersonSearchRequest('post',searchMainData, isLoggedinf , setReports , close , setSubPagesCount,()=>{} , setNotFound);      \r\n    }\r\n\r\n    const submitChangeHandler = Type => event => {\r\n      let value = event.target.value; \r\n      setSearchData((prevState)=>({...prevState,[Type]:value})); // react uses synthetic event istead of dom event\r\n    }      \r\n\r\n    return isOpen ? <SearchModalContainer onSubmit={searchSubmitHandler} >\r\n\r\n        <CloseIcon onClick={close}>\r\n           <i class=\"fas fa-times\"></i>\r\n        </CloseIcon>\r\n\r\n        <SearchFields>\r\n      \r\n            <TextField   style={{width:'45%'}}  inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}} value={searchData['firstName']}  onChange={submitChangeHandler('firstName')}  id=\"standard-basic\" label=\"İsim\" />\r\n\r\n            <TextField   style={{width:'45%'}}  inputProps={{style:{fontSize:14}}} InputLabelProps={{style:{fontSize:14}}} value={searchData['lastName']}  onChange={submitChangeHandler('lastName')}  id=\"standard-basic\" label=\"Soy İsim\" />\r\n\r\n            {\r\n                !isOnlySubBranch  ?\r\n\r\n                    <TextField style={{width:'45%',fontSize:14}} inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}}    value={searchData['role']}  onChange={submitChangeHandler('role')}  id=\"select\" label=\"Rol\"  select>\r\n                                <MenuItem value=\"\" selected><em>Rol</em></MenuItem>\r\n                                <MenuItem value=\"Admin\">Admin</MenuItem>\r\n                                <MenuItem value=\"Temsilci\">Temsilci</MenuItem>\r\n                                <MenuItem value=\"Bayi\">Bayi</MenuItem>\r\n                    </TextField>\r\n                 \r\n                : null\r\n            }\r\n            <TextField style={{width:'45%',fontSize:14}} inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}}    value={searchData['gender']}  onChange={submitChangeHandler('gender')}  id=\"select\" label=\"Cinsiyet\"  select>\r\n                        <MenuItem value=\"\" selected><em>Cinsiyet</em></MenuItem>\r\n                        <MenuItem value=\"Male\">Erkek</MenuItem>\r\n                        <MenuItem value=\"Female\">Kadın</MenuItem>\r\n            </TextField>\r\n\r\n            <TextField   style={{width:'45%'}}   inputProps={{style:{fontSize:14}}} InputLabelProps={{style:{fontSize:14}}} value={searchData['region']}  onChange={submitChangeHandler('region')}  id=\"standard-basic\" label=\"Bölge\" />\r\n\r\n    \r\n        \r\n         <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\r\n         <KeyboardDatePicker disableToolbar\r\n         inputProps={{style:{fontSize:14}}}\r\n         InputLabelProps={{style:{fontSize:14}}}\r\n          variant=\"inline\"\r\n          format=\"dd/MM/yyyy\"\r\n          margin=\"normal\"\r\n          id=\"date-picker-inline\"\r\n          label=\"Başlangıç Tarih\"   \r\n          value={searchData['contractDateStart']} \r\n          onChange={setDate} \r\n          style={{width:'45%',margin:'10px 0'}}/>\r\n\r\n        <KeyboardDatePicker disableToolbar\r\n        inputProps={{style:{fontSize:14}}}\r\n         InputLabelProps={{style:{fontSize:14}}}\r\n          variant=\"inline\"\r\n          format=\"dd/MM/yyyy\"\r\n          margin=\"normal\"\r\n          id=\"date-picker-inline\"\r\n          label=\"Son Tarih\"   \r\n          value={searchData['contractDateEnd']} \r\n          onChange={setDate2} \r\n          style={{width:'45%',margin:'10px 0'}}/>\r\n\r\n         </MuiPickersUtilsProvider>\r\n\r\n        </SearchFields>\r\n\r\n        <SubmitButton type='submit'> <i class=\"fas  fa-search\"></i> ARA </SubmitButton>\r\n             \r\n  </SearchModalContainer> : null;\r\n\r\n\r\n});\r\n"]},"metadata":{},"sourceType":"module"}