{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject6(){var data=_taggedTemplateLiteral([\"\\nwidth:100%;\\ndisplay:flex;\\nflex-flow:column;\\nalign-items:center;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\noutline:none; \\nbackground:#00bdaa;\\nborder:none;\\ncolor:white;\\npadding:10px 20px ;\\n&:hover{\\n    cursor:pointer;\\n}\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\njustify-content:flex-end;\\nwidth:95%;\\nmargin-bottom:20px;\\ncolor:#30475e;\\n@media (max-width: 1030px) {\\n    justify-content:center !important;\\n}\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\njustify-content:flex-end;\\nwidth:100%;\\nmargin-top:15px;\\n@media (max-width: 1030px) {\\n    justify-content:center;\\n}\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\nborder-radius:5px;\\npadding:5px 10px;\\ncolor:white;\\nbackground:#00a8cc;\\nfont-size:15px;\\nmargin-right:10px;\\n&:hover{\\n    cursor:pointer;\\n}\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\nbackground:white;\\nwidth:70%;\\nmargin:0 auto;\\nalign-items:center;\\njustify-content:center;\\npadding:0;\\nmargin-top:2%;\\npadding:30px;\\n@media (max-width: 1030px) {\\n  width:90%;\\n  padding:10px;\\n}\\nborder-radius:3px;\\nflex-flow:column;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect,useMemo,useState,useContext,useCallback}from'react';import{UpdateLoggedin}from'../../isLoggedin/action';import styled from'styled-components';import{Link,Route}from'react-router-dom';import{Context}from'../../../Context/Context';import{UserInputs}from'./addPerson';import DateFnsUtils from'@date-io/date-fns';import{MuiPickersUtilsProvider,DatePicker}from'@material-ui/pickers';import{Regions}from'../../../Regions/regions';import Circle from'../../../UI/Circle';import Modal from'../../../UI/sentModal';import Stage from'../../../UI/backStage';import{Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec}from'@material-ui/core';import{makeUpdateReportRequest,makeDeleteReportRequest,makeSpecificReportRequest}from'../../../request/requset';import{Report}from'./addReport';var MainWrapper=styled.form(_templateObject());var Icon=styled.div(_templateObject2());var ButtonWrapper=styled.div(_templateObject3());var InnerItems=styled.div(_templateObject4());var SubmitButton=styled.button(_templateObject5());var Form=styled.form(_templateObject6());var ReportDetail=function ReportDetail(_ref){var match=_ref.match,rest=_objectWithoutProperties(_ref,[\"match\"]);var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),initalReportStates=_useState4[0],setInitalReportState=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),reInitalReportStates=_useState6[0],reIsetInitalReportState=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),disable=_useState8[0],setDisable=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),backStageOpen=_useState10[0],setbackStageOpen=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),emptyWarning=_useState12[0],setEmptyWarning=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),uptadedModal=_useState14[0],setUpdatedModal=_useState14[1];var _useState15=useState(new Date()),_useState16=_slicedToArray(_useState15,2),date=_useState16[0],setDate=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),deleteModal=_useState18[0],setDeleteModal=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),deleted=_useState20[0],setDeleted=_useState20[1];var context=useContext(Context);useEffect(function(){var id=match.params.id;makeSpecificReportRequest('get',id,setLoading,setInitalReportState,reIsetInitalReportState);},[]);var SubmitOnChange=function SubmitOnChange(Type){return function(event){var value=event.target.value;setInitalReportState(function(prevState){return _objectSpread({},prevState,_defineProperty({},Type,value));});};};var closeModal_1=function closeModal_1(){setbackStageOpen(false);setEmptyWarning(false);};var closeModal_2=function closeModal_2(){setbackStageOpen(false);setUpdatedModal(false);};var closeModal_3=function closeModal_3(){setbackStageOpen(false);setDeleteModal(false);};var closeModal_4=function closeModal_4(){rest.history.push('/home/raporlar');};useEffect(function(){//this is just because of Date issue //--------\nsetInitalReportState(function(prevState){return _objectSpread({},prevState,{meetingDate:date});});},[date]);var submitUpdatedReport=function submitUpdatedReport(e){e.preventDefault();setbackStageOpen(true);for(var key in initalReportStates){var element=initalReportStates[key];if(!element){return setEmptyWarning(true);}else{if(key!=='meetingDate')initalReportStates[key]=initalReportStates[key].trim();}}makeUpdateReportRequest('patch',match.params.id,_objectSpread({},initalReportStates),context.isLoggedinf,setInitalReportState,reIsetInitalReportState,setUpdatedModal,setDisable);};var deleteReport=function deleteReport(){setDeleteModal(false);var id=match.params.id;makeDeleteReportRequest('delete',id,context.isLoggedinf,setDeleted);};return/*#__PURE__*/React.createElement(UpdateLoggedin,rest,function(Loading,user){return Loading?null:loading?/*#__PURE__*/React.createElement(Circle,{marginTop:30,Load:loading,position:\"static\"}):/*#__PURE__*/React.createElement(MainWrapper,null,/*#__PURE__*/React.createElement(Stage,{backStage:backStageOpen,loading:!emptyWarning&&!uptadedModal&&!deleteModal&&!deleted,close:emptyWarning?closeModal_1:uptadedModal?closeModal_2:deleteModal?closeModal_3:deleted?closeModal_4:null}),/*#__PURE__*/React.createElement(Modal,{backStage:emptyWarning,closeModal:closeModal_1,type:\"EMPTY_F\\u0130ELD\"}),/*#__PURE__*/React.createElement(Modal,{backStage:uptadedModal,closeModal:closeModal_2,type:\"UPDATED_REPORT\"}),/*#__PURE__*/React.createElement(Modal,{backStage:deleteModal,closeModal:closeModal_3,deleteUser:deleteReport,type:\"DELETE_REPORT\"}),/*#__PURE__*/React.createElement(Modal,{backStage:deleted,closeModal:closeModal_4,type:\"DELETED_REPORT\"}),/*#__PURE__*/React.createElement(Form,{onSubmit:submitUpdatedReport},user.role==='Admin'?/*#__PURE__*/React.createElement(InnerItems,{style:{justifyContent:'flex-start',padding:10}},/*#__PURE__*/React.createElement(Icon,{style:{background:'#63b7af',padding:0}},/*#__PURE__*/React.createElement(Link,{to:'/home/personel_listesi/raporlar/'+initalReportStates.userID,style:{width:'100%',height:'100%',textDecoration:'none',color:'white',display:'block',padding:'5px 10px'}},\"G\\xF6nderen:  \",initalReportStates.whoseDocument,\"   \",/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-user\"})))):null,/*#__PURE__*/React.createElement(InnerItems,null,/*#__PURE__*/React.createElement(Icon,{onClick:function onClick(){return setDisable(false);}},\"D\\xFCzenle \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-edit\"})),user.role==='Admin'?/*#__PURE__*/React.createElement(Icon,{style:{background:'#d9455f'},onClick:function onClick(){setDeleteModal(true);setbackStageOpen(true);}},\"Raporu  Sil \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash-alt\"})):null),/*#__PURE__*/React.createElement(Report,{State:initalReportStates,SubmitOnChange:SubmitOnChange,disable:disable,setDate:setDate,type:\"detail\",reportType:initalReportStates.reportType==='schoolReport'}),disable?null:/*#__PURE__*/React.createElement(ButtonWrapper,null,/*#__PURE__*/React.createElement(SubmitButton,{type:\"button\",onClick:function onClick(){setInitalReportState(reInitalReportStates);setDisable(true);},style:{background:'#fa744f',marginRight:10}},\"VAZGE\\xC7\"),/*#__PURE__*/React.createElement(SubmitButton,{type:\"submit\"},\"G\\xDCNCELLE\"))));});};export default ReportDetail;","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOÅž/Study-Online/frontend/src/Containers/home/Home_Options/reportDetail.js"],"names":["React","useEffect","useMemo","useState","useContext","useCallback","UpdateLoggedin","styled","Link","Route","Context","UserInputs","DateFnsUtils","MuiPickersUtilsProvider","DatePicker","Regions","Circle","Modal","Stage","Checkbox","TextField","Tab","Tabs","Paper","InputLabel","MenuItem","Selec","makeUpdateReportRequest","makeDeleteReportRequest","makeSpecificReportRequest","Report","MainWrapper","form","Icon","div","ButtonWrapper","InnerItems","SubmitButton","button","Form","ReportDetail","match","rest","loading","setLoading","initalReportStates","setInitalReportState","reInitalReportStates","reIsetInitalReportState","disable","setDisable","backStageOpen","setbackStageOpen","emptyWarning","setEmptyWarning","uptadedModal","setUpdatedModal","Date","date","setDate","deleteModal","setDeleteModal","deleted","setDeleted","context","id","params","SubmitOnChange","Type","event","value","target","prevState","closeModal_1","closeModal_2","closeModal_3","closeModal_4","history","push","meetingDate","submitUpdatedReport","e","preventDefault","key","element","trim","isLoggedinf","deleteReport","Loading","user","role","justifyContent","padding","background","userID","width","height","textDecoration","color","display","whoseDocument","reportType","marginRight"],"mappings":"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","sourcesContent":["import React, {useEffect,useMemo,useState,useContext,useCallback} from 'react';\r\nimport {UpdateLoggedin} from '../../isLoggedin/action';\r\nimport styled from 'styled-components';\r\nimport {Link,Route} from 'react-router-dom'\r\nimport {Context} from '../../../Context/Context';\r\nimport  {UserInputs}  from './addPerson';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider,DatePicker } from '@material-ui/pickers'\r\nimport {Regions}  from '../../../Regions/regions'\r\nimport Circle from '../../../UI/Circle';\r\nimport Modal from '../../../UI/sentModal';\r\nimport Stage from '../../../UI/backStage';\r\nimport {Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec} from '@material-ui/core'\r\nimport {makeUpdateReportRequest,makeDeleteReportRequest,makeSpecificReportRequest}  from '../../../request/requset'\r\nimport {Report} from './addReport';\r\n\r\nconst MainWrapper = styled.form`\r\ndisplay:flex;\r\nbackground:white;\r\nwidth:70%;\r\nmargin:0 auto;\r\nalign-items:center;\r\njustify-content:center;\r\npadding:0;\r\nmargin-top:2%;\r\npadding:30px;\r\n@media (max-width: 1030px) {\r\n  width:90%;\r\n  padding:10px;\r\n}\r\nborder-radius:3px;\r\nflex-flow:column;\r\n`\r\nconst Icon = styled.div`\r\nborder-radius:5px;\r\npadding:5px 10px;\r\ncolor:white;\r\nbackground:#00a8cc;\r\nfont-size:15px;\r\nmargin-right:10px;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\nconst ButtonWrapper = styled.div`\r\ndisplay:flex;\r\njustify-content:flex-end;\r\nwidth:100%;\r\nmargin-top:15px;\r\n@media (max-width: 1030px) {\r\n    justify-content:center;\r\n}\r\n`\r\n\r\nconst InnerItems = styled.div`\r\ndisplay:flex;\r\njustify-content:flex-end;\r\nwidth:95%;\r\nmargin-bottom:20px;\r\ncolor:#30475e;\r\n@media (max-width: 1030px) {\r\n    justify-content:center !important;\r\n}\r\n`\r\nconst SubmitButton  = styled.button`\r\noutline:none; \r\nbackground:#00bdaa;\r\nborder:none;\r\ncolor:white;\r\npadding:10px 20px ;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\n\r\nconst Form = styled.form`\r\nwidth:100%;\r\ndisplay:flex;\r\nflex-flow:column;\r\nalign-items:center;\r\n`\r\n\r\n\r\n\r\n\r\nconst ReportDetail  = ({match,...rest })=>{\r\n     \r\n    const  [loading , setLoading ]  = useState(true);\r\n    const  [initalReportStates ,  setInitalReportState ] = useState(null);\r\n    const  [reInitalReportStates ,  reIsetInitalReportState ] = useState(null);\r\n    const  [disable,setDisable] = useState(true);\r\n    const  [backStageOpen ,setbackStageOpen]  = useState(false);\r\n    const  [emptyWarning,setEmptyWarning] = useState(false);\r\n    const  [uptadedModal , setUpdatedModal] = useState(false);\r\n    const  [date , setDate ] = useState(new Date());\r\n    const  [deleteModal , setDeleteModal] = useState(false);\r\n    const  [deleted , setDeleted ] = useState(false);\r\n\r\n    const context = useContext(Context);\r\n     \r\n    useEffect(()=>{\r\n        const {id} = match.params;\r\n        makeSpecificReportRequest('get',id,setLoading,setInitalReportState,reIsetInitalReportState);\r\n    },[])\r\n\r\n    const SubmitOnChange =Type=>event=>{\r\n         let value =  event.target.value ;\r\n         setInitalReportState((prevState)=>({...prevState,[Type]:value}));\r\n    }\r\n\r\n    const closeModal_1 = ()=>{\r\n\r\n        setbackStageOpen(false);\r\n        setEmptyWarning(false);\r\n\r\n    }\r\n\r\n    const closeModal_2 = ()=>{\r\n\r\n        setbackStageOpen(false);\r\n        setUpdatedModal(false);\r\n\r\n    }\r\n\r\n    const closeModal_3 = ()=>{\r\n\r\n        setbackStageOpen(false);\r\n        setDeleteModal(false);\r\n\r\n    }\r\n\r\n    const closeModal_4= ()=>{   \r\n        rest.history.push('/home/raporlar');\r\n    }\r\n   \r\n    \r\n   \r\n\r\n    useEffect(()=>{  //this is just because of Date issue //--------\r\n        setInitalReportState(prevState =>({...prevState,meetingDate:date}));\r\n    },[date])\r\n  \r\n\r\n    const submitUpdatedReport = (e)=>{\r\n\r\n        e.preventDefault();\r\n        setbackStageOpen(true)\r\n\r\n\r\n        for (const key in initalReportStates) {\r\n\r\n            const element = initalReportStates[key];\r\n\r\n            if(!element)\r\n            {\r\n                return setEmptyWarning(true);\r\n            }\r\n            else\r\n            {\r\n                if(key !== 'meetingDate')  initalReportStates[key] = initalReportStates[key].trim();\r\n            }\r\n        }\r\n        makeUpdateReportRequest('patch',match.params.id,{...initalReportStates},context.isLoggedinf,setInitalReportState,reIsetInitalReportState,setUpdatedModal,setDisable);\r\n    }\r\n   \r\n    const deleteReport = ()=>{\r\n         setDeleteModal(false);\r\n         const {id} = match.params;\r\n         makeDeleteReportRequest('delete',id,context.isLoggedinf,setDeleted);\r\n    }\r\n\r\n\r\n    return <UpdateLoggedin {...rest}>\r\n\r\n        {\r\n            (Loading,user)=>Loading ? null : loading\r\n            ?\r\n            <Circle marginTop={30} Load={loading} position='static'/>\r\n            :\r\n            <MainWrapper>\r\n\r\n                <Stage backStage={backStageOpen} loading={!emptyWarning && !uptadedModal && !deleteModal && !deleted } close={emptyWarning ? closeModal_1 : uptadedModal ? closeModal_2 : deleteModal ? closeModal_3 : deleted ?  closeModal_4 : null } />\r\n\r\n                <Modal backStage={emptyWarning}  closeModal={closeModal_1} type='EMPTY_FÄ°ELD'/>\r\n                <Modal backStage={uptadedModal}  closeModal={closeModal_2} type='UPDATED_REPORT'/>\r\n                <Modal backStage={deleteModal}  closeModal={closeModal_3} deleteUser={deleteReport}  type='DELETE_REPORT'/>\r\n                <Modal backStage={deleted} closeModal={closeModal_4} type='DELETED_REPORT'/>\r\n                \r\n               <Form onSubmit={submitUpdatedReport}>\r\n                   \r\n                   {\r\n                       user.role === 'Admin' ? \r\n\r\n                        <InnerItems style={{justifyContent:'flex-start',padding:10}}>  \r\n                            <Icon style={{background:'#63b7af',padding:0}}>\r\n                                <Link to={'/home/personel_listesi/raporlar/' + initalReportStates.userID} style={{width:'100%',height:'100%',textDecoration:'none',color:'white',display:'block',padding:'5px 10px'}}>\r\n                                    GÃ¶nderen:  {initalReportStates.whoseDocument}   <i class=\"fas fa-user\"></i> \r\n                                </Link>\r\n                            </Icon>\r\n                        </InnerItems>\r\n                        :\r\n                        null\r\n                   }\r\n                   \r\n                   <InnerItems>\r\n\r\n                        <Icon onClick={()=>setDisable(false)}>DÃ¼zenle <i className=\"fas fa-edit\"/></Icon>\r\n\r\n                        {\r\n                           user.role === 'Admin' \r\n                           ?  \r\n                           <Icon style={{background:'#d9455f'}} onClick={()=>{setDeleteModal(true); setbackStageOpen(true)}} >Raporu  Sil <i className=\"fas fa-trash-alt\"></i></Icon>\r\n                           :\r\n                           null\r\n                        }\r\n\r\n                   </InnerItems>\r\n\r\n                    <Report State={initalReportStates} SubmitOnChange={SubmitOnChange} disable={disable} setDate={setDate}  type='detail' reportType={initalReportStates.reportType === 'schoolReport'}/>\r\n\r\n                    {\r\n                        disable\r\n                        ?\r\n                        null\r\n                        :\r\n                        <ButtonWrapper>\r\n\r\n                                <SubmitButton type='button' onClick={()=>{\r\n                                    setInitalReportState(reInitalReportStates);\r\n                                    setDisable(true)\r\n                                }}\r\n\r\n                                style={{background:'#fa744f',marginRight:10}}>VAZGEÃ‡</SubmitButton> \r\n                                <SubmitButton type='submit'>GÃœNCELLE</SubmitButton> \r\n                        </ButtonWrapper>                   \r\n                    }\r\n\r\n               </Form> \r\n                   \r\n            </MainWrapper>   \r\n        }\r\n    </UpdateLoggedin>\r\n}\r\n\r\nexport default  ReportDetail;"]},"metadata":{},"sourceType":"module"}