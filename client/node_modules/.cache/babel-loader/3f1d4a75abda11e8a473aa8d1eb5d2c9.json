{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject19(){var data=_taggedTemplateLiteral([\"\\nborder-radius:4px;\\nmargin-top:10px;\\nbackground:#f57170;\\ncolor:white;\\npadding:5px 8px;\\nfont-size:12.5px;\\n\"]);_templateObject19=function _templateObject19(){return data;};return data;}function _templateObject18(){var data=_taggedTemplateLiteral([\"\\nmargin-right:8px;\\nborder-radius:100%;\\ndisplay:flex;\\nwidth:20px;\\nheight:20px;\\npadding:14px;\\ncolor:\",\";\\nalign-items:center;\\njustify-content:center;\\nbox-shadow:0 0px 4px  black;\\nbackground:\",\";\\n&:hover{\\ncursor:pointer;\\n}\\n\"]);_templateObject18=function _templateObject18(){return data;};return data;}function _templateObject17(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\njustify-content:center;\\nwidth:100%;\\nmargin-top:20px;\\nalign-items:center;\\npadding:10px 0;\\n\"]);_templateObject17=function _templateObject17(){return data;};return data;}function _templateObject16(){var data=_taggedTemplateLiteral([\"\\nmax-width:110px;\\n\"]);_templateObject16=function _templateObject16(){return data;};return data;}function _templateObject15(){var data=_taggedTemplateLiteral([\"\\nfont-size:14px;\\nmargin-top:3px;\\nopacity:\",\";\\nborder-radius:3px;\\n&:hover{\\n  opacity:1;\\n}\\n\"]);_templateObject15=function _templateObject15(){return data;};return data;}function _templateObject14(){var data=_taggedTemplateLiteral([\"\\nmin-width:200px;\\npadding:0;\\nmargin:0;\\ndisplay:flex;\\nflex-flow:column;\\nmargin-top:10px;\\n\"]);_templateObject14=function _templateObject14(){return data;};return data;}function _templateObject13(){var data=_taggedTemplateLiteral([\"\\nflex:0.2;\\nflex-flow:column;\\ndisplay:flex;\\njustify-content:center;\\nposition:relative;\\nalign-items:center;\\npadding: 15px 5px;\\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.03);\\nmargin-bottom:10px;\\n\"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral([\"\\nborder-radius:5px;\\npadding:5px 10px;\\ncolor:white;\\nbackground:#0779e4;\\nfont-size:15px;\\nmargin-right:10px;\\n&:hover{\\n    cursor:pointer;\\n}\\n\"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\njustify-content:flex-end;\\nwidth:100%;\\n\"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=_taggedTemplateLiteral([\"\\noutline:none; \\nbackground:#00bdaa;\\nborder:none;\\ncolor:white;\\npadding:10px 20px ;\\n&:hover{\\n    cursor:pointer;\\n}\\n\"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\njustify-content:space-between;\\nflex:1;\\n\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\npadding:3px;\\ncolor:black;\\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\\nborder-radius:10px;\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\nwidth:100%;\\npadding:3px;\\ndisplay:flex;\\nalign-items:center;\\njustify-content:space-evenly;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\nflex:0.7;\\ndisplay:flex;\\nflex-flow:column;\\npadding: 15px 8px;\\njustify-content:space-evenly;\\nalign-items:center;\\nbox-shadow: 0 2px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.03);\\n@media (max-width: 1030px) {\\n  width:100%;\\n  margin-top:30px;\\n}\\nmargin-bottom:10px;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\nflex:0.7;\\ndisplay:flex;\\nalign-items:center;\\njustify-content:center;\\nflex-flow:column;\\npadding: 15px 5px;\\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.03);\\n@media (max-width: 1030px) {\\n  width:100%;\\n  overflow-x: scroll;\\n  overflow-y: scroll;\\n  min-height:500px;\\n}\\nposition:relative;\\nmargin-bottom:5px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\nwidth:100%;\\njustify-content:space-evenly;\\nmargin:10px 0;\\nalign-items:flex-start;\\n@media (max-width: 1030px) {\\n  justify-content:flex-start;\\n  flex-flow:column;\\n  align-items:stretch;\\n}\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\njustify-content:flex-end;\\nwidth:100%;\\nmargin-bottom:20px;\\npadding:20px 0 5px 0;\\ncolor:#30475e;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\nwidth:100%;\\n@media (max-width: 900px) {  \\n  min-width:900px;\\n  max-width:900px;\\n  position:absolute;\\n  left:0;\\n}\\nflex-direction:column;\\nalign-items:center;\\nposition:relative;\\ndisplay:flex;\\njustify-content:center;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\nbackground:white;\\nwidth:94%;\\nmargin:0 auto;\\nalign-items:center;\\njustify-content:center;\\nmargin-top:2%;\\npadding:30px;\\nborder-radius:3px;\\nflex-flow:column;\\n@media (max-width: 1030px) {\\n  padding:10px;\\n}\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect,useState,useContext,useCallback,useRef,createRef,useMemo,useReducer}from'react';import{UpdateLoggedin}from'../../isLoggedin/action';import{makeSpecificPersonRequest,makeUpdateUserRequest,makeRemoveUserRequest,makeReportSearchRequest,makeRelatedAgencyRequest,makePersonSearchRequest}from'../../../request/requset';import styled from'styled-components';import Circle from'../../../UI/Circle';import{IconPermission}from'../../../UI/Permissions/permissionIcon';import{UserInputs,ChecBoxes,PermissionsTabs}from'../Home_Options/addPerson';import{MuiPickersUtilsProvider,KeyboardDatePicker}from'@material-ui/pickers';import{Context}from'../../../Context/Context';import DateFnsUtils from'@date-io/date-fns';import Generator from'generate-password';import{Regions}from'../../../Regions/regions';import{Link,NavLink,Route,Switch}from'react-router-dom';import Modal from'../../../UI/sentModal';import Stage from'../../../UI/backStage';import{Redirect}from'react-router-dom';import{ReportList}from'../Home_Options/myReports';import{Admin,Temsilci,Bayi}from'./statusArrays/statusArray';import{_PersonelList}from'./personelList';var MainWrapper=styled.form(_templateObject());var HiddenWrapper=styled.div(_templateObject2());var InnerItems=styled.div(_templateObject3());var InnerContainer=styled.div(_templateObject4());//-------------------------------\nvar InputsWrapper=styled.div(_templateObject5());//-------------------------------\nvar PermissionsWrapper=styled.div(_templateObject6());var InnerPermission=styled.div(_templateObject7());var PermissionTopSpan=styled.span(_templateObject8());var RadioWrapper=styled.div(_templateObject9());//-------------------------------\nvar SubmitButton=styled.button(_templateObject10());var ButtonWrapper=styled.div(_templateObject11());var Icon=styled.div(_templateObject12());//--------------------------------------\nvar UserMenu=styled.div(_templateObject13());var UserMenuContainer=styled.ul(_templateObject14());var UserMenuElement=styled.li(_templateObject15(),function(_ref){var selected=_ref.selected;return selected?1:0.5;});var UserImage=styled.img(_templateObject16());//-------------------------------------\nvar SubPagesContainer=styled.div(_templateObject17());var SubPageItem=styled.div(_templateObject18(),function(_ref2){var selected=_ref2.selected;return selected?'white':'grey';},function(_ref3){var selected=_ref3.selected;return selected?'#f57170':'white';});var Capsule=styled.div(_templateObject19());//---------------------------------\nvar initialUserInformations={firstName:'',lastName:'',userName:'',password:'',gender:'',phoneNumber:'',region:'',mailAddress:'',township:'',contractDate:new Date(),role:'',permissions:{}};var General_User_Info=function General_User_Info(_ref4){var match=_ref4.match,rest=_objectWithoutProperties(_ref4,[\"match\"]);var _useState=useState(initialUserInformations),_useState2=_slicedToArray(_useState,2),userInformations=_useState2[0],setUserInformations=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),reuseUser=_useState4[0],setreuseUser=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),rePermissions=_useState6[0],setrePermissions=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),disable=_useState8[0],setDisable=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),permissionsState=_useState10[0],setPermissions=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),alreadyInUse=_useState12[0],setAlreadyInUse=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),modalShow=_useState14[0],setmodalShow=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),tabShow=_useState16[0],setTabShow=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),deletePopUp=_useState18[0],setDeletePopUP=_useState18[1];var _useState19=useState(new Date()),_useState20=_slicedToArray(_useState19,2),date=_useState20[0],setDate=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),warning=_useState22[0],setwarningPopUp=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),loading=_useState24[0],setLoading=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isDeleted=_useState26[0],setIsDeleted=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),backStageOpen=_useState28[0],setbackStageOpen=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),relatedAgencyLoading=_useState30[0],setrelatedAgencyLoading=_useState30[1];var _useState31=useState({}),_useState32=_slicedToArray(_useState31,2),relatedAgency=_useState32[0],setRelatedAgency=_useState32[1];var context=useContext(Context);var UserMenuLinks=useMemo(function(){switch(userInformations.role){case'Admin':return Admin();break;case'Temsilci':return Temsilci();break;case'Bayi':return Bayi();break;default:return[];break;}},[userInformations]);var closeModal_1=useCallback(function(event){setbackStageOpen(false);setmodalShow(false);},[]);var closeModal_2=useCallback(function(event){setbackStageOpen(false);setAlreadyInUse(false);},[]);var closeModal_3=useCallback(function(event){setbackStageOpen(false);setwarningPopUp(false);},[]);var closeModal_4=useCallback(function(event){setbackStageOpen(false);setDeletePopUP(false);},[]);var closeModal_5=useCallback(function(event){rest.history.push('/home/personel_listesi');},[]);var openModal=useCallback(function(event){setbackStageOpen(true);setDeletePopUP(true);},[]);useEffect(function(){var id=match.params.id;makeSpecificPersonRequest('get',id,setLoading,setUserInformations,setPermissions,setreuseUser,setrePermissions);},[match.params.id]);useEffect(function(){setDisable(true);},[rest.history.location.pathname]);useEffect(function(){if(userInformations.relatedAgencyID)makeRelatedAgencyRequest('get',userInformations.relatedAgencyID,setrelatedAgencyLoading,setRelatedAgency,context.isLoggedinf);},[userInformations.relatedAgencyID]);useEffect(function(){//it is important  for date to work correctly\nif(date)setUserInformations(function(prevState){return _objectSpread({},prevState,{contractDate:date});});},[date]);var tabsHandle=useCallback(function(event,newValue){setTabShow(newValue);},[]);var subMenuIndex=React.useMemo(function(){return rest.history.location.pathname.split('/')[3];},[rest.history.location.pathname]);var removeUser=function removeUser(){setDeletePopUP(false);var person_id=match.params.id;makeRemoveUserRequest('delete',person_id,context.isLoggedinf,setDeletePopUP,setIsDeleted);};var submitHandler=function submitHandler(e){setbackStageOpen(true);console.log(userInformations);var permissions=userInformations.permissions,rest=_objectWithoutProperties(userInformations,[\"permissions\"]);//here we seperates two obejects\nvar role=userInformations.role;//__v comes from db\ne.preventDefault();for(var key in rest){var element=rest[key];if(role==='Bayi'){if(!element){return setwarningPopUp(true);}}else if(role==='Admin'){if(!element&&key!=='region'&&key!=='township'){return setwarningPopUp(true);}}else{if(!element&&key!=='township'&&key!=='relatedAgencyID'){return setwarningPopUp(true);}}}makeUpdateUserRequest('patch',match.params.id,_objectSpread({},rest,{permissions:permissionsState}),context.isLoggedinf,setAlreadyInUse,setmodalShow,setreuseUser,setrePermissions,setDisable,setUserInformations);};var textChangeHandler=React.useCallback(function(Type){return function(event){var value=event.target.value;var oldState=_objectSpread({},userInformations);oldState[Type]=value;if(Type==='region'){oldState['township']='';}if(value==='Admin'||value==='Temsilci'||value==='Bayi'){oldState['township']='';oldState['region']='';}//we are doing override here;\nsetUserInformations(oldState);};},[userInformations]);var permissionHandler=React.useCallback(function(Type,value){return function(event){var oldPermissions=_objectSpread({},permissionsState);//we need to keep updated state;\noldPermissions[Type]=_toConsumableArray(oldPermissions[Type]);if(!event.target.checked){oldPermissions[Type].splice(oldPermissions[Type].indexOf(value),1);}else{oldPermissions[Type].push(value);}setPermissions(oldPermissions);};},[permissionsState]);var GeneratePassword=React.useCallback(function(){var oldState=_objectSpread({},userInformations);//we need to get updated userInformations for password to  be created\nvar password=Generator.generate({length:8,numbers:true});oldState['password']=password;setUserInformations(oldState);},[userInformations]);var townships=null;if(userInformations.region&&userInformations['role']==='Bayi'){var City=Regions.find(function(item){return item['il']===userInformations.region;});townships=City.ilceleri;}//\nreturn/*#__PURE__*/React.createElement(UpdateLoggedin,Object.assign({page:\"PERSONEL_GENERAL_INFO\"},rest),function(Loading,user){return Loading?null:loading?/*#__PURE__*/React.createElement(Circle,{Load:loading,position:\"static\",marginTop:50}):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MainWrapper,{onSubmit:submitHandler},/*#__PURE__*/React.createElement(Stage,{backStage:backStageOpen,loading:!modalShow&&!alreadyInUse&&!warning&&!deletePopUp&&!isDeleted,close:modalShow?closeModal_1:alreadyInUse?closeModal_2:warning?closeModal_3:deletePopUp?closeModal_4:isDeleted?closeModal_5:null}),/*#__PURE__*/React.createElement(Modal,{backStage:modalShow,closeModal:closeModal_1,type:\"UPDATE_PERSONEL\"}),/*#__PURE__*/React.createElement(Modal,{backStage:alreadyInUse,closeModal:closeModal_2,type:\"NOT_UN\\u0130QUE\"}),/*#__PURE__*/React.createElement(Modal,{backStage:warning,closeModal:closeModal_3,type:\"EMPTY_F\\u0130ELD\"}),/*#__PURE__*/React.createElement(Modal,{backStage:deletePopUp,closeModal:closeModal_4,deleteUser:removeUser,type:\"DELETE_USER\"}),/*#__PURE__*/React.createElement(Modal,{backStage:isDeleted,closeModal:closeModal_5,type:\"DELETED\"}),UserMenuLinks.map(function(item){return item.desc.toLowerCase()===subMenuIndex.split('_').join(' ').toLowerCase()?/*#__PURE__*/React.createElement(\"h1\",{key:item.desc,style:{width:'100%',textAlign:'center',color:'#4cbbb9',fontWeight:'bolder',fontSize:15}},item.Icon,item.desc):null;}),/*#__PURE__*/React.createElement(InnerItems,null,/*#__PURE__*/React.createElement(Icon,{onClick:function onClick(){setDisable(function(prev){return false;});}},\"D\\xFCzenle \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-edit\"})),user.role==='Admin'?/*#__PURE__*/React.createElement(Icon,{style:{background:'#c70039'},onClick:openModal},\" Kullan\\u0131c\\u0131y\\u0131 Sil \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash-alt\"})):null),/*#__PURE__*/React.createElement(InnerContainer,null,/*#__PURE__*/React.createElement(UserMenu,null,/*#__PURE__*/React.createElement(Capsule,{style:{position:'absolute',left:0,top:0,margin:0,borderRadius:0,fontSize:11.4,background:'#2fc4b2'}},userInformations.role),/*#__PURE__*/React.createElement(UserImage,{src:'/user.jpg'}),/*#__PURE__*/React.createElement(Capsule,null,/*#__PURE__*/React.createElement(\"span\",{style:{marginRight:5}},userInformations.firstName),/*#__PURE__*/React.createElement(\"span\",null,userInformations.lastName)),/*#__PURE__*/React.createElement(UserMenuContainer,null,UserMenuLinks.map(function(item,index){return/*#__PURE__*/React.createElement(UserMenuElement,{key:index,selected:subMenuIndex===item.desc.split(' ').join('_').toLowerCase()},/*#__PURE__*/React.createElement(Link,{className:\"responsiveLink\",style:{padding:5,textDecoration:'none',display:'block',width:'100%',height:'100%'},to:'/home/personel_listesi/'+item.desc.split(' ').join('_').toLowerCase()+'/'+match.params.id},item.Icon,\" \",item.desc));}))),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/home/personel_listesi/yetkiler/:id\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(PermissionsWrapper,null,/*#__PURE__*/React.createElement(\"span\",{style:{textAlign:'center',color:'#fb7b6b',fontSize:20,marginBottom:'7px',flex:0.2}},\"YETK\\u0130LER\"),/*#__PURE__*/React.createElement(\"div\",{style:{width:'100%',padding:'3px',flex:1}},/*#__PURE__*/React.createElement(PermissionsTabs,{value:tabShow,handler:tabsHandle}),userInformations['role']?/*#__PURE__*/React.createElement(InnerPermission,null,/*#__PURE__*/React.createElement(\"span\",{style:{flex:0.6}}),/*#__PURE__*/React.createElement(RadioWrapper,{style:{fontSize:'14px'}},/*#__PURE__*/React.createElement(PermissionTopSpan,null,\"Silme\"),/*#__PURE__*/React.createElement(PermissionTopSpan,null,\"D\\xFCzenleme\"),/*#__PURE__*/React.createElement(PermissionTopSpan,null,\"Yazma\"),/*#__PURE__*/React.createElement(PermissionTopSpan,null,\"Okuma\"))):/*#__PURE__*/React.createElement(\"h6\",{style:{textAlign:'center',color:'#00909e',marginBottom:'7px',flex:0.2}},\"L\\xDCTFEN ROL SE\\xC7\\u0130N\\u0130Z\"),/*#__PURE__*/React.createElement(ChecBoxes,{disabled:disable,permissions:permissionsState,handler:permissionHandler,tabShow:tabShow})));}}),/*#__PURE__*/React.createElement(Route,{path:\"/home/personel_listesi/genel_bilgiler/:id\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(InputsWrapper,null,/*#__PURE__*/React.createElement(MuiPickersUtilsProvider,{utils:DateFnsUtils},/*#__PURE__*/React.createElement(UserInputs,{user:user,townships:townships,disabled:disable,userInformations:userInformations,textChangeHandler:textChangeHandler,date:date,setDate:setDate,relatedAgency:relatedAgency,GeneratePassword:GeneratePassword,relatedAgencyLoading:relatedAgencyLoading})));}}),/*#__PURE__*/React.createElement(Route,{path:\"/home/personel_listesi/raporlar/:id\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(InputsWrapper,{style:{alignSelf:'stretch',justifyContent:'flex-start'}},/*#__PURE__*/React.createElement(PersonelReports,{role:userInformations.role,id:match.params.id,setLoggedin:context.isLoggedinf,user:user}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/home/personel_listesi/bayiler/:id\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(InputsWrapper,{style:{alignSelf:'stretch',justifyContent:'flex-start'}},/*#__PURE__*/React.createElement(PersonelSubBranches,{role:userInformations.role,id:match.params.id,setLoggedin:context.isLoggedinf,user:user}));}}))),disable?null:/*#__PURE__*/React.createElement(ButtonWrapper,null,/*#__PURE__*/React.createElement(SubmitButton,{type:\"button\",onClick:function onClick(){//here we reset the all informations\nsetDisable(function(prev){return true;});setUserInformations(reuseUser);setPermissions(rePermissions);window.scrollTo(0,0);},style:{background:'#fa744f',marginRight:10}},\"VAZGE\\xC7\"),/*#__PURE__*/React.createElement(SubmitButton,{type:\"submit\"},\"G\\xDCNCELLE\"))));});};var PersonelReports=function PersonelReports(_ref5){var id=_ref5.id,setLoggedin=_ref5.setLoggedin,user=_ref5.user,role=_ref5.role;var _useState33=useState([]),_useState34=_slicedToArray(_useState33,2),reports=_useState34[0],setReports=_useState34[1];var _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),notFound=_useState36[0],setNotFound=_useState36[1];var _useState37=useState(null),_useState38=_slicedToArray(_useState37,2),subPagesCount=_useState38[0],setSubPagesCount=_useState38[1];var _useState39=useState(0),_useState40=_slicedToArray(_useState39,2),selectedSubPage=_useState40[0],setSelectedSubPage=_useState40[1];var _useState41=useState(true),_useState42=_slicedToArray(_useState41,2),loading=_useState42[0],setLoading=_useState42[1];var refs=useRef([]);var subPagesLength=Math.ceil(subPagesCount/10);refs.current=refs.current.slice(0,reports.length);for(var step=refs.current.length;step<reports.length;step++){refs.current[step]=createRef();//we can use useRef with createRef  ! ;\n}var nextPage=function nextPage(page){setSelectedSubPage(page);setLoading(true);makeReportSearchRequest('post',{personelReportID:id,pageNumber:page},setLoggedin,setReports,function(){},setSubPagesCount,setLoading);};var SwitchRow=function SwitchRow(Amount,ref){return function(event){ref.current.style.transform=\"translateX(\".concat(Amount,\"%)\");if(Amount==-50)for(var i=0;i<refs.current.length;i++){if(i!==refs.current.indexOf(ref)&&refs.current[i].current)//close all other list items ; \n{refs.current[i].current.style.transform=\"translateX(0)\";}}};};useEffect(function(){makeReportSearchRequest('post',{personelReportID:id},setLoggedin,setReports,function(){},setSubPagesCount,setLoading,setNotFound);},[]);return loading?/*#__PURE__*/React.createElement(Circle,{Load:loading,position:\"static\"}):/*#__PURE__*/React.createElement(HiddenWrapper,null,!notFound?/*#__PURE__*/React.createElement(\"h1\",{style:_defineProperty({marginBottom:20,color:'lightblue',fontSize:16},\"color\",'#52de97')},\"(\",subPagesCount,\") Sonu\\xE7 Bulundu\"):null,/*#__PURE__*/React.createElement(ReportList,{user:user,width:775,refs:refs,reports:reports,role:role,notFound:notFound,SwitchRow:SwitchRow,userProfile:true,notFoundText:\"Bu Kullan\\u0131c\\u0131n\\u0131n Hen\\xFCz Bir Raporu Bulunmamaktad\\u0131r.\"}),/*#__PURE__*/React.createElement(SubPagesContainer,null,subPagesLength>1&&reports!==0&&!notFound?new Array(subPagesLength).fill().map(function(item,index){return/*#__PURE__*/React.createElement(SubPageItem,{key:index,selected:selectedSubPage===index,onClick:function onClick(){return nextPage(index);}},index+1);}):null));};var PersonelSubBranches=function PersonelSubBranches(_ref7){var id=_ref7.id,setLoggedin=_ref7.setLoggedin,user=_ref7.user,role=_ref7.role;var _useState43=useState([]),_useState44=_slicedToArray(_useState43,2),subBranches=_useState44[0],setSubBranches=_useState44[1];var _useState45=useState(null),_useState46=_slicedToArray(_useState45,2),notFound=_useState46[0],setNotFound=_useState46[1];var _useState47=useState(null),_useState48=_slicedToArray(_useState47,2),subPagesCount=_useState48[0],setSubPagesCount=_useState48[1];var _useState49=useState(0),_useState50=_slicedToArray(_useState49,2),selectedSubPage=_useState50[0],setSelectedSubPage=_useState50[1];var _useState51=useState(true),_useState52=_slicedToArray(_useState51,2),loading=_useState52[0],setLoading=_useState52[1];var refs=useRef([]);var subPagesLength=Math.ceil(subPagesCount/10);refs.current=refs.current.slice(0,subBranches.length);for(var step=refs.current.length;step<subBranches.length;step++){refs.current[step]=createRef();//we can use useRef with createRef  ! ;\n}var nextPage=function nextPage(page){setSelectedSubPage(page);setLoading(true);makePersonSearchRequest('post',{relatedAgencyID:id,pageNumber:page},setLoggedin,setSubBranches,function(){},setSubPagesCount,setLoading);};var SwitchRow=function SwitchRow(Amount,ref){return function(event){ref.current.style.transform=\"translateX(\".concat(Amount,\"%)\");if(Amount==-50)for(var i=0;i<refs.current.length;i++){if(i!==refs.current.indexOf(ref)&&refs.current[i].current)//close all other list items ; \n{refs.current[i].current.style.transform=\"translateX(0)\";}}};};useEffect(function(){makePersonSearchRequest('post',{relatedAgencyID:id},setLoggedin,setSubBranches,function(){},setSubPagesCount,setLoading,setNotFound);},[]);return loading?/*#__PURE__*/React.createElement(Circle,{Load:loading,position:\"static\"}):/*#__PURE__*/React.createElement(HiddenWrapper,null,!notFound?/*#__PURE__*/React.createElement(\"h1\",{style:_defineProperty({marginBottom:20,color:'lightblue',fontSize:16},\"color\",'#52de97')},\"(\",subPagesCount,\") Sonu\\xE7 Bulundu\"):null,/*#__PURE__*/React.createElement(_PersonelList,{user:user,width:775,refs:refs,role:role,personels:subBranches,notFound:notFound,SwitchRow:SwitchRow,userProfile:true}),/*#__PURE__*/React.createElement(SubPagesContainer,null,subPagesLength>1&&subBranches!==0&&!notFound?new Array(subPagesLength).fill().map(function(item,index){return/*#__PURE__*/React.createElement(SubPageItem,{key:index,selected:selectedSubPage===index,onClick:function onClick(){return nextPage(index);}},index+1);}):null));};export default General_User_Info;","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOŞ/Study-Online/frontend/src/Containers/home/Personel_Options/personel_options.js"],"names":["React","useEffect","useState","useContext","useCallback","useRef","createRef","useMemo","useReducer","UpdateLoggedin","makeSpecificPersonRequest","makeUpdateUserRequest","makeRemoveUserRequest","makeReportSearchRequest","makeRelatedAgencyRequest","makePersonSearchRequest","styled","Circle","IconPermission","UserInputs","ChecBoxes","PermissionsTabs","MuiPickersUtilsProvider","KeyboardDatePicker","Context","DateFnsUtils","Generator","Regions","Link","NavLink","Route","Switch","Modal","Stage","Redirect","ReportList","Admin","Temsilci","Bayi","_PersonelList","MainWrapper","form","HiddenWrapper","div","InnerItems","InnerContainer","InputsWrapper","PermissionsWrapper","InnerPermission","PermissionTopSpan","span","RadioWrapper","SubmitButton","button","ButtonWrapper","Icon","UserMenu","UserMenuContainer","ul","UserMenuElement","li","selected","UserImage","img","SubPagesContainer","SubPageItem","Capsule","initialUserInformations","firstName","lastName","userName","password","gender","phoneNumber","region","mailAddress","township","contractDate","Date","role","permissions","General_User_Info","match","rest","userInformations","setUserInformations","reuseUser","setreuseUser","rePermissions","setrePermissions","disable","setDisable","permissionsState","setPermissions","alreadyInUse","setAlreadyInUse","modalShow","setmodalShow","tabShow","setTabShow","deletePopUp","setDeletePopUP","date","setDate","warning","setwarningPopUp","loading","setLoading","isDeleted","setIsDeleted","backStageOpen","setbackStageOpen","relatedAgencyLoading","setrelatedAgencyLoading","relatedAgency","setRelatedAgency","context","UserMenuLinks","closeModal_1","event","closeModal_2","closeModal_3","closeModal_4","closeModal_5","history","push","openModal","id","params","location","pathname","relatedAgencyID","isLoggedinf","prevState","tabsHandle","newValue","subMenuIndex","split","removeUser","person_id","submitHandler","e","console","log","preventDefault","key","element","textChangeHandler","Type","value","target","oldState","permissionHandler","oldPermissions","checked","splice","indexOf","GeneratePassword","generate","length","numbers","townships","City","find","item","ilceleri","Loading","user","map","desc","toLowerCase","join","width","textAlign","color","fontWeight","fontSize","prev","background","position","left","top","margin","borderRadius","marginRight","index","padding","textDecoration","display","height","marginBottom","flex","alignSelf","justifyContent","window","scrollTo","PersonelReports","setLoggedin","reports","setReports","notFound","setNotFound","subPagesCount","setSubPagesCount","selectedSubPage","setSelectedSubPage","refs","subPagesLength","Math","ceil","current","slice","step","nextPage","page","personelReportID","pageNumber","SwitchRow","Amount","ref","style","transform","i","Array","fill","PersonelSubBranches","subBranches","setSubBranches"],"mappings":"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","sourcesContent":["import React, {useEffect,useState,useContext,useCallback,useRef,createRef,useMemo,useReducer} from 'react';\r\nimport {UpdateLoggedin}  from '../../isLoggedin/action'\r\nimport {makeSpecificPersonRequest,makeUpdateUserRequest,makeRemoveUserRequest,makeReportSearchRequest,makeRelatedAgencyRequest,makePersonSearchRequest}  from '../../../request/requset'\r\nimport styled from 'styled-components';\r\nimport Circle from '../../../UI/Circle';\r\nimport {IconPermission} from '../../../UI/Permissions/permissionIcon';\r\nimport {UserInputs,ChecBoxes,PermissionsTabs} from '../Home_Options/addPerson'\r\nimport {MuiPickersUtilsProvider,KeyboardDatePicker } from '@material-ui/pickers'\r\nimport {Context} from '../../../Context/Context'\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport Generator  from 'generate-password';\r\nimport {Regions}  from '../../../Regions/regions'\r\nimport {Link,NavLink,Route,Switch} from 'react-router-dom';\r\nimport Modal from '../../../UI/sentModal'\r\nimport Stage from '../../../UI/backStage'\r\nimport {Redirect}  from 'react-router-dom'\r\nimport {ReportList} from '../Home_Options/myReports'\r\nimport {Admin,Temsilci,Bayi} from './statusArrays/statusArray'\r\nimport {_PersonelList} from  './personelList'\r\n\r\nconst MainWrapper = styled.form`\r\ndisplay:flex;\r\nbackground:white;\r\nwidth:94%;\r\nmargin:0 auto;\r\nalign-items:center;\r\njustify-content:center;\r\nmargin-top:2%;\r\npadding:30px;\r\nborder-radius:3px;\r\nflex-flow:column;\r\n@media (max-width: 1030px) {\r\n  padding:10px;\r\n}\r\n`\r\n\r\nconst HiddenWrapper = styled.div`\r\nwidth:100%;\r\n@media (max-width: 900px) {  \r\n  min-width:900px;\r\n  max-width:900px;\r\n  position:absolute;\r\n  left:0;\r\n}\r\nflex-direction:column;\r\nalign-items:center;\r\nposition:relative;\r\ndisplay:flex;\r\njustify-content:center;\r\n`\r\n\r\n\r\nconst InnerItems = styled.div`\r\ndisplay:flex;\r\njustify-content:flex-end;\r\nwidth:100%;\r\nmargin-bottom:20px;\r\npadding:20px 0 5px 0;\r\ncolor:#30475e;\r\n`\r\n\r\nconst InnerContainer = styled.div`\r\ndisplay:flex;\r\nwidth:100%;\r\njustify-content:space-evenly;\r\nmargin:10px 0;\r\nalign-items:flex-start;\r\n@media (max-width: 1030px) {\r\n  justify-content:flex-start;\r\n  flex-flow:column;\r\n  align-items:stretch;\r\n}\r\n`\r\n\r\n//-------------------------------\r\n\r\nconst InputsWrapper = styled.div`\r\nflex:0.7;\r\ndisplay:flex;\r\nalign-items:center;\r\njustify-content:center;\r\nflex-flow:column;\r\npadding: 15px 5px;\r\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.03);\r\n@media (max-width: 1030px) {\r\n  width:100%;\r\n  overflow-x: scroll;\r\n  overflow-y: scroll;\r\n  min-height:500px;\r\n}\r\nposition:relative;\r\nmargin-bottom:5px;\r\n`\r\n\r\n//-------------------------------\r\n\r\n\r\n\r\nconst PermissionsWrapper = styled.div`\r\nflex:0.7;\r\ndisplay:flex;\r\nflex-flow:column;\r\npadding: 15px 8px;\r\njustify-content:space-evenly;\r\nalign-items:center;\r\nbox-shadow: 0 2px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.03);\r\n@media (max-width: 1030px) {\r\n  width:100%;\r\n  margin-top:30px;\r\n}\r\nmargin-bottom:10px;\r\n`\r\n\r\nconst InnerPermission  = styled.div`\r\nwidth:100%;\r\npadding:3px;\r\ndisplay:flex;\r\nalign-items:center;\r\njustify-content:space-evenly;\r\n`\r\n\r\nconst PermissionTopSpan = styled.span `\r\npadding:3px;\r\ncolor:black;\r\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\r\nborder-radius:10px;\r\n`\r\n\r\nconst RadioWrapper = styled.div`\r\ndisplay:flex;\r\njustify-content:space-between;\r\nflex:1;\r\n`\r\n\r\n//-------------------------------\r\nconst SubmitButton  = styled.button`\r\noutline:none; \r\nbackground:#00bdaa;\r\nborder:none;\r\ncolor:white;\r\npadding:10px 20px ;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\n\r\nconst ButtonWrapper = styled.div`\r\ndisplay:flex;\r\njustify-content:flex-end;\r\nwidth:100%;\r\n`\r\n\r\n\r\nconst Icon = styled.div`\r\nborder-radius:5px;\r\npadding:5px 10px;\r\ncolor:white;\r\nbackground:#0779e4;\r\nfont-size:15px;\r\nmargin-right:10px;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\n//--------------------------------------\r\n\r\nconst UserMenu = styled.div`\r\nflex:0.2;\r\nflex-flow:column;\r\ndisplay:flex;\r\njustify-content:center;\r\nposition:relative;\r\nalign-items:center;\r\npadding: 15px 5px;\r\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.03);\r\nmargin-bottom:10px;\r\n`\r\nconst UserMenuContainer = styled.ul`\r\nmin-width:200px;\r\npadding:0;\r\nmargin:0;\r\ndisplay:flex;\r\nflex-flow:column;\r\nmargin-top:10px;\r\n`\r\nconst UserMenuElement = styled.li`\r\nfont-size:14px;\r\nmargin-top:3px;\r\nopacity:${({selected})=>selected ? 1 : 0.5};\r\nborder-radius:3px;\r\n&:hover{\r\n  opacity:1;\r\n}\r\n`\r\n\r\n\r\n\r\nconst UserImage = styled.img`\r\nmax-width:110px;\r\n`\r\n//-------------------------------------\r\nconst SubPagesContainer = styled.div`\r\ndisplay:flex;\r\njustify-content:center;\r\nwidth:100%;\r\nmargin-top:20px;\r\nalign-items:center;\r\npadding:10px 0;\r\n`\r\n\r\nconst SubPageItem = styled.div`\r\nmargin-right:8px;\r\nborder-radius:100%;\r\ndisplay:flex;\r\nwidth:20px;\r\nheight:20px;\r\npadding:14px;\r\ncolor:${({selected}) => selected ? 'white' : 'grey'};\r\nalign-items:center;\r\njustify-content:center;\r\nbox-shadow:0 0px 4px  black;\r\nbackground:${({selected}) => selected ? '#f57170' : 'white'};\r\n&:hover{\r\ncursor:pointer;\r\n}\r\n`\r\n\r\nconst Capsule = styled.div`\r\nborder-radius:4px;\r\nmargin-top:10px;\r\nbackground:#f57170;\r\ncolor:white;\r\npadding:5px 8px;\r\nfont-size:12.5px;\r\n`\r\n\r\n//---------------------------------\r\n\r\n\r\n\r\n\r\nconst  initialUserInformations = {\r\n  firstName:'',\r\n  lastName:'',\r\n  userName:'',\r\n  password:'',\r\n  gender:'',\r\n  phoneNumber:'',\r\n  region:'',\r\n  mailAddress:'',\r\n  township:'',\r\n  contractDate:new Date(),\r\n  role:'',\r\n  permissions:{},\r\n}\r\n\r\nconst General_User_Info = ({match,...rest})=>{\r\n\r\n    const [userInformations , setUserInformations ] = useState(initialUserInformations);\r\n    const [reuseUser , setreuseUser ] = useState({});\r\n    const [rePermissions , setrePermissions ] = useState({});\r\n    const [disable , setDisable]  = useState(true);      \r\n    const [permissionsState  ,  setPermissions ]  = useState({});\r\n    const [alreadyInUse , setAlreadyInUse] = useState(false);\r\n    const [modalShow , setmodalShow]  = useState (false);\r\n    const [tabShow  , setTabShow] = useState(0);\r\n    const [deletePopUp , setDeletePopUP]  = useState(false);\r\n    const [date , setDate] = useState(new Date());\r\n    const [warning,setwarningPopUp]   = useState();\r\n    const [loading , setLoading ]  = useState(false);\r\n    const [isDeleted , setIsDeleted] = useState(false);\r\n    const [backStageOpen ,setbackStageOpen] = useState(false);\r\n    const [relatedAgencyLoading , setrelatedAgencyLoading]= useState(false);\r\n    const [relatedAgency , setRelatedAgency] = useState({});\r\n    \r\n  \r\n\r\n    const context =  useContext(Context);\r\n\r\n          const UserMenuLinks = useMemo(()=>{\r\n\r\n            switch(userInformations.role)\r\n            {\r\n              case 'Admin':\r\n\r\n              return Admin();\r\n\r\n              break;\r\n\r\n              case 'Temsilci':\r\n\r\n                return Temsilci();\r\n\r\n              break;\r\n\r\n              case 'Bayi':\r\n                return Bayi();\r\n              break;\r\n\r\n              default : \r\n                  return [];\r\n              break;\r\n            }\r\n        },[userInformations]);\r\n\r\n                  \r\n        const closeModal_1 = useCallback(event=>{\r\n            setbackStageOpen(false);\r\n            setmodalShow(false);\r\n        },[])\r\n       \r\n        const closeModal_2 =useCallback(event=>{\r\n          setbackStageOpen(false);\r\n            setAlreadyInUse(false);\r\n        },[])\r\n\r\n        const closeModal_3 =useCallback(event=>{\r\n          setbackStageOpen(false);\r\n          setwarningPopUp(false);\r\n        },[])\r\n\r\n        const closeModal_4 =useCallback(event=>{\r\n          setbackStageOpen(false);\r\n          setDeletePopUP(false);\r\n        },[])\r\n\r\n        const closeModal_5 =useCallback(event =>{\r\n          rest.history.push('/home/personel_listesi');\r\n        },[])\r\n        \r\n        const openModal  = useCallback(event =>{\r\n          setbackStageOpen(true);\r\n          setDeletePopUP(true);\r\n        },[])\r\n       \r\n       useEffect(()=>{ \r\n\r\n         const {id} = match.params;\r\n         makeSpecificPersonRequest('get',id,setLoading,setUserInformations,setPermissions,setreuseUser,setrePermissions);\r\n\r\n       },[match.params.id])\r\n\r\n       useEffect(()=>{\r\n         setDisable(true);\r\n       },[rest.history.location.pathname])\r\n\r\n       useEffect(()=>{\r\n\r\n          if(userInformations.relatedAgencyID) \r\n               makeRelatedAgencyRequest('get',userInformations.relatedAgencyID,setrelatedAgencyLoading,setRelatedAgency,context.isLoggedinf);\r\n\r\n       },[userInformations.relatedAgencyID])\r\n\r\n       useEffect(()=>{\r\n           //it is important  for date to work correctly\r\n          if(date)\r\n             setUserInformations( prevState => ({...prevState,contractDate:date}));\r\n\r\n       },[date]);\r\n\r\n  \r\n      const tabsHandle = useCallback((event, newValue) => {\r\n        setTabShow(newValue);\r\n      },[]);\r\n\r\n    \r\n    const subMenuIndex = React.useMemo(()=>{\r\n          return rest.history.location.pathname.split('/')[3];\r\n    },[rest.history.location.pathname]);\r\n\r\n    const removeUser = ()=>{\r\n        setDeletePopUP(false);\r\n        const person_id = match.params.id;\r\n        makeRemoveUserRequest('delete',person_id,context.isLoggedinf,setDeletePopUP,setIsDeleted);\r\n    }\r\n\r\n\r\n    const submitHandler =(e)=>{  \r\n        \r\n        setbackStageOpen(true);\r\n        console.log(userInformations)\r\n        const {permissions,...rest} =userInformations;  //here we seperates two obejects\r\n        const {role}= userInformations;\r\n\r\n        //__v comes from db\r\n        e.preventDefault();\r\n        for (const key in rest) \r\n        {  \r\n            const element = rest[key];   \r\n\r\n          if(role === 'Bayi')\r\n          {\r\n            \r\n             if(!element)\r\n             {\r\n              return setwarningPopUp(true);\r\n             }  \r\n\r\n          }\r\n          else if (role === 'Admin')\r\n          {\r\n              if(!element && key !== 'region' && key !=='township' )\r\n              {\r\n                return setwarningPopUp(true);\r\n              }\r\n          }\r\n          else\r\n          {\r\n              if(!element && key !=='township' && key !=='relatedAgencyID')\r\n              {\r\n                return setwarningPopUp(true);\r\n              } \r\n          }             \r\n        }\r\n\r\n        makeUpdateUserRequest('patch',match.params.id,{...rest,permissions:permissionsState},context.isLoggedinf,setAlreadyInUse,setmodalShow,setreuseUser,setrePermissions,setDisable,setUserInformations);\r\n    }\r\n\r\n   \r\n\r\n    const textChangeHandler = React.useCallback((Type) => event => {\r\n        let value = event.target.value;\r\n        const oldState = {...userInformations};\r\n        oldState[Type]=value \r\n    \r\n        if(Type==='region')\r\n        {\r\n          oldState['township']='';\r\n        }\r\n\r\n        if(value==='Admin' || value==='Temsilci' || value==='Bayi')\r\n        {\r\n          oldState['township']='';\r\n          oldState['region']='';\r\n        }\r\n        //we are doing override here;\r\n        setUserInformations(oldState);\r\n    },[userInformations]);\r\n\r\n    const permissionHandler =React.useCallback((Type,value)=>event=>{\r\n        const oldPermissions = {...permissionsState}; //we need to keep updated state;\r\n        oldPermissions[Type]=[...oldPermissions[Type]];\r\n        if(!event.target.checked)\r\n        {\r\n          oldPermissions[Type].splice( oldPermissions[Type].indexOf(value),1);\r\n        }\r\n        else\r\n        {\r\n          oldPermissions[Type].push(value);\r\n        }\r\n        setPermissions(oldPermissions);\r\n    },[permissionsState])\r\n  \r\n\r\n\r\n    const GeneratePassword = React.useCallback(()=> {\r\n        const oldState = {...userInformations}; //we need to get updated userInformations for password to  be created\r\n        const password = Generator.generate({\r\n          length: 8,\r\n          numbers: true\r\n        });\r\n        oldState['password']=password;\r\n        setUserInformations(oldState);\r\n      },[userInformations])\r\n\r\n    let townships = null ; \r\n\r\n    if(userInformations.region && userInformations['role'] === 'Bayi')\r\n    {\r\n      const City =Regions.find((item)=>item['il'] === userInformations.region) ;\r\n      townships = City.ilceleri;\r\n    }\r\n   \r\n     //\r\n    return <UpdateLoggedin page='PERSONEL_GENERAL_INFO'  {...rest}>\r\n        {\r\n           (Loading,user)=>Loading ? null : loading \r\n           ?  \r\n           <Circle  Load={loading} position='static' marginTop={50}/>\r\n           :\r\n           <React.Fragment>\r\n\r\n           <MainWrapper onSubmit={submitHandler}> \r\n           \r\n           <Stage backStage={backStageOpen} loading={!modalShow && !alreadyInUse && !warning &&  !deletePopUp && !isDeleted}   close={modalShow ? closeModal_1 : alreadyInUse? closeModal_2 : warning ? closeModal_3 : deletePopUp ? closeModal_4: isDeleted ? closeModal_5 : null}/>\r\n           <Modal backStage={modalShow} closeModal={closeModal_1} type='UPDATE_PERSONEL'/>\r\n           <Modal backStage={alreadyInUse} closeModal={closeModal_2} type='NOT_UNİQUE'/>\r\n           <Modal backStage={warning} closeModal={closeModal_3} type='EMPTY_FİELD'/>\r\n           <Modal backStage={deletePopUp} closeModal={closeModal_4}  deleteUser={removeUser}  type='DELETE_USER'/>\r\n           <Modal backStage={isDeleted} closeModal={closeModal_5} type='DELETED'/>\r\n\r\n                    \r\n                   \r\n                     {\r\n                         UserMenuLinks.map((item)=>{\r\n                                 return item.desc.toLowerCase() === subMenuIndex.split('_').join(' ').toLowerCase() \r\n                                 ? \r\n                                 <h1 key={item.desc} style={{width:'100%',textAlign:'center' , color:'#4cbbb9',fontWeight:'bolder',fontSize:15}}>\r\n                                   {item.Icon}\r\n                                   {item.desc}\r\n                                 </h1>    \r\n                                 :\r\n                                 null\r\n                         })\r\n                     }\r\n        \r\n           <InnerItems>  \r\n               <Icon onClick={()=>{setDisable((prev)=>false)}}>Düzenle <i className=\"fas fa-edit\"/></Icon>\r\n\r\n               {\r\n                 user.role === 'Admin' \r\n                  ?  \r\n                  <Icon style={{background:'#c70039'}} onClick={openModal}> Kullanıcıyı Sil <i className=\"fas fa-trash-alt\"></i></Icon>\r\n                  :\r\n                  null \r\n               }\r\n             \r\n            </InnerItems>\r\n\r\n         <InnerContainer>\r\n                        \r\n                   <UserMenu>\r\n                       \r\n                       <Capsule style={{position:'absolute',left:0,top:0,margin:0,borderRadius:0,fontSize:11.4,background:'#2fc4b2'}}>\r\n                          {userInformations.role}\r\n                       </Capsule>\r\n\r\n                       <UserImage  src={'/user.jpg'}></UserImage>\r\n\r\n                       <Capsule>\r\n\r\n                            <span style={{marginRight:5}}>{userInformations.firstName}</span> \r\n                            <span>{userInformations.lastName}</span>\r\n                      \r\n                       </Capsule>\r\n\r\n                       <UserMenuContainer>\r\n\r\n                            {\r\n                              UserMenuLinks.map((item,index)=>{\r\n\r\n\r\n                                return  <UserMenuElement key={index} selected={subMenuIndex === item.desc.split(' ').join('_').toLowerCase()} >\r\n\r\n                                  <Link   className='responsiveLink' style={{padding:5,textDecoration:'none' , display:'block'  , width:'100%' , height:'100%'}}  to={'/home/personel_listesi/' + item.desc.split(' ').join('_').toLowerCase() + '/' + match.params.id}>\r\n                                        {item.Icon} {item.desc} \r\n                                  </Link>\r\n\r\n                               </UserMenuElement>\r\n                               \r\n\r\n                               })\r\n\r\n                            }       \r\n                                \r\n                       </UserMenuContainer>\r\n                   </UserMenu>     \r\n\r\n          <Switch>\r\n              \r\n                   <Route path='/home/personel_listesi/yetkiler/:id' exact render={()=> <PermissionsWrapper>\r\n                         <span style={{textAlign:'center',color:'#fb7b6b',fontSize:20,marginBottom:'7px',flex:0.2}}>YETKİLER</span>\r\n                           <div style={{width:'100%',padding:'3px',flex:1}}>\r\n                           <PermissionsTabs value={tabShow} handler={tabsHandle} />  \r\n                               {\r\n                                 userInformations['role'] ? \r\n                                 <InnerPermission>\r\n                                   <span style={{flex:0.6}}></span>\r\n                                     <RadioWrapper style={{fontSize:'14px'}}>\r\n                                             <PermissionTopSpan >Silme</PermissionTopSpan >\r\n                                             <PermissionTopSpan >Düzenleme</PermissionTopSpan>\r\n                                             <PermissionTopSpan >Yazma</PermissionTopSpan>\r\n                                             <PermissionTopSpan >Okuma</PermissionTopSpan >\r\n                                     </RadioWrapper>\r\n                                 </InnerPermission>\r\n                               :\r\n                               <h6 style={{textAlign:'center',color:'#00909e',marginBottom:'7px',flex:0.2}}>LÜTFEN ROL SEÇİNİZ</h6>\r\n                               }  \r\n \r\n \r\n                               {\r\n                                     <ChecBoxes disabled={disable}  permissions={permissionsState} handler={permissionHandler} tabShow={tabShow}/>                  \r\n                               }\r\n                               \r\n                           </div> \r\n                         </PermissionsWrapper>\r\n                   }\r\n                   />\r\n              \r\n                  <Route path='/home/personel_listesi/genel_bilgiler/:id' exact   render={()=><InputsWrapper> \r\n                           \r\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\r\n                           <UserInputs \r\n\r\n                            user={user}\r\n                            townships={townships} \r\n                            disabled={disable} \r\n                            userInformations={userInformations} \r\n                            textChangeHandler={textChangeHandler} \r\n                            date={date} \r\n                            setDate={setDate}\r\n                            relatedAgency={relatedAgency} \r\n                            GeneratePassword={GeneratePassword}\r\n                            relatedAgencyLoading={relatedAgencyLoading}/>\r\n\r\n                    </MuiPickersUtilsProvider>\r\n                            \r\n                  </InputsWrapper>\r\n                   } />\r\n\r\n                  <Route path='/home/personel_listesi/raporlar/:id' exact render={()=><InputsWrapper style={{alignSelf:'stretch',justifyContent:'flex-start'}}>  \r\n                            <PersonelReports role={userInformations.role} id={match.params.id} setLoggedin={context.isLoggedinf} user={user}/>                \r\n                   </InputsWrapper> \r\n                  }\r\n                  />\r\n\r\n\r\n                  <Route path='/home/personel_listesi/bayiler/:id' exact render={()=><InputsWrapper style={{alignSelf:'stretch',justifyContent:'flex-start'}}>  \r\n                            <PersonelSubBranches role={userInformations.role} id={match.params.id} setLoggedin={context.isLoggedinf} user={user}/>                \r\n                   </InputsWrapper> \r\n                  }\r\n                  />\r\n                                                \r\n            </Switch>\r\n\r\n           </InnerContainer>   \r\n              { disable  ? null :\r\n              <ButtonWrapper>\r\n                <SubmitButton type='button' onClick={()=>{  //here we reset the all informations\r\n                setDisable((prev)=>true);\r\n                setUserInformations(reuseUser);\r\n                setPermissions(rePermissions);\r\n                window.scrollTo(0,0);\r\n                }}   style={{background:'#fa744f',marginRight:10}}>VAZGEÇ</SubmitButton> \r\n\r\n                <SubmitButton type='submit'>GÜNCELLE</SubmitButton> \r\n              \r\n              </ButtonWrapper>\r\n              }\r\n\r\n          \r\n          </MainWrapper>\r\n\r\n        </React.Fragment>     \r\n      }\r\n      \r\n    </UpdateLoggedin>\r\n\r\n}\r\n\r\nconst PersonelReports = ({id,setLoggedin,user,role})=>{\r\n    \r\n  const [reports, setReports] = useState([]);\r\n  const [ notFound , setNotFound ] = useState(null);\r\n  const [subPagesCount , setSubPagesCount] = useState(null);\r\n  const [selectedSubPage, setSelectedSubPage] = useState(0);\r\n  const [loading,setLoading] = useState(true);\r\n  const refs = useRef([]);\r\n  \r\n  let subPagesLength  = Math.ceil(subPagesCount/10);\r\n\r\n  refs.current = refs.current.slice(0, reports.length);\r\n\r\n  for (let step = refs.current.length; step < reports.length; step++) {\r\n    refs.current[step] = createRef(); //we can use useRef with createRef  ! ;\r\n  }\r\n  \r\n  const nextPage = (page) => {\r\n\r\n    setSelectedSubPage(page);\r\n    setLoading(true);\r\n\r\n    makeReportSearchRequest('post', {\r\n      personelReportID:id,\r\n      pageNumber: page\r\n    },setLoggedin , setReports, ()=>{}, setSubPagesCount, setLoading);\r\n\r\n  }\r\n\r\n  const SwitchRow = (Amount, ref) => event => {\r\n\r\n    ref.current.style.transform = `translateX(${Amount}%)`\r\n\r\n    if (Amount == -50)\r\n      for (let i = 0; i < refs.current.length; i++) {\r\n        if (i !== refs.current.indexOf(ref) && refs.current[i].current) //close all other list items ; \r\n        {\r\n          refs.current[i].current.style.transform = `translateX(0)`\r\n        }\r\n    }\r\n  }\r\n   \r\n  useEffect(()=>{\r\n    makeReportSearchRequest('post',{personelReportID:id},setLoggedin,setReports,()=>{},setSubPagesCount,setLoading,setNotFound);\r\n  },[])\r\n    \r\n  return loading ? \r\n   <Circle Load={loading}  position='static'/>\r\n  :\r\n  <HiddenWrapper>\r\n    {!notFound ? <h1 style={{marginBottom:20,color:'lightblue',fontSize:16,color:'#52de97'}}>({subPagesCount}) Sonuç Bulundu</h1> : null}\r\n    <ReportList user={user} width={775} refs={refs} reports={reports} role={role} notFound={notFound} SwitchRow={SwitchRow} userProfile={true}  notFoundText='Bu Kullanıcının Henüz Bir Raporu Bulunmamaktadır.'/>\r\n\r\n    <SubPagesContainer>\r\n      \r\n          {\r\n          subPagesLength > 1 && reports !== 0 && !notFound ?  new Array(subPagesLength).fill().map((item, index) => {\r\n          return <SubPageItem  key={index} selected={selectedSubPage === index}  onClick={() => nextPage(index)}>{index + 1}</SubPageItem>})\r\n          :\r\n          null\r\n          }\r\n\r\n    </SubPagesContainer>\r\n\r\n  </HiddenWrapper>\r\n\r\n}\r\n\r\n\r\nconst PersonelSubBranches = ({id,setLoggedin,user,role})=>{\r\n    \r\n\r\n  const [subBranches, setSubBranches] = useState([]);\r\n  const [ notFound , setNotFound ] = useState(null);\r\n  const [subPagesCount , setSubPagesCount] = useState(null);\r\n  const [selectedSubPage, setSelectedSubPage] = useState(0);\r\n  const [loading,setLoading] = useState(true);\r\n  const refs = useRef([]);\r\n \r\n  let subPagesLength = Math.ceil(subPagesCount/10);\r\n\r\n  refs.current = refs.current.slice(0, subBranches.length);\r\n\r\n  for (let step = refs.current.length; step < subBranches.length; step++) {\r\n    refs.current[step] = createRef(); //we can use useRef with createRef  ! ;\r\n  }\r\n  \r\n  const nextPage = (page) => {\r\n\r\n    setSelectedSubPage(page);\r\n    setLoading(true);\r\n\r\n    makePersonSearchRequest('post', {\r\n      relatedAgencyID:id,\r\n      pageNumber: page\r\n    },setLoggedin , setSubBranches, ()=>{}, setSubPagesCount, setLoading);\r\n\r\n  }\r\n\r\n  const SwitchRow = (Amount, ref) => event => {\r\n\r\n    ref.current.style.transform = `translateX(${Amount}%)`\r\n\r\n    if (Amount == -50)\r\n      for (let i = 0; i < refs.current.length; i++) {\r\n        if (i !== refs.current.indexOf(ref) && refs.current[i].current) //close all other list items ; \r\n        {\r\n          refs.current[i].current.style.transform = `translateX(0)`\r\n        }\r\n    }\r\n  }\r\n   \r\n  useEffect(()=>{\r\n    makePersonSearchRequest('post',{relatedAgencyID:id},setLoggedin,setSubBranches,()=>{},setSubPagesCount,setLoading,setNotFound);\r\n  },[])\r\n    \r\n  return loading ? \r\n   <Circle Load={loading}  position='static'/>\r\n  :\r\n  <HiddenWrapper>\r\n\r\n     {!notFound ? <h1 style={{marginBottom:20,color:'lightblue',fontSize:16,color:'#52de97'}}>({subPagesCount}) Sonuç Bulundu</h1> : null}\r\n    \r\n    <_PersonelList user={user} width={775} refs={refs} role={role} personels={subBranches}  notFound={notFound} SwitchRow={SwitchRow} userProfile={true}  />\r\n\r\n    <SubPagesContainer>\r\n      \r\n          {\r\n          subPagesLength > 1 && subBranches !== 0 && !notFound ?  new Array(subPagesLength).fill().map((item, index) => {\r\n          return <SubPageItem  key={index} selected={selectedSubPage === index}  onClick={() => nextPage(index)}>{index + 1}</SubPageItem>})\r\n          :\r\n          null\r\n          }\r\n\r\n    </SubPagesContainer>\r\n\r\n  </HiddenWrapper>\r\n}\r\n\r\n\r\nexport default  General_User_Info;"]},"metadata":{},"sourceType":"module"}