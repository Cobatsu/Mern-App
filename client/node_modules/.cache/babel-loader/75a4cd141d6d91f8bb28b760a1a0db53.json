{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectWithoutProperties from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject4(){var data=_taggedTemplateLiteral([\"\\noutline:none; \\nbackground:#00bdaa;\\nborder:none;\\nalign-self:flex-end;\\ncolor:white;\\nborder-radius:5px;\\npadding:7px 13px ;\\n&:hover{\\n    cursor:pointer;\\n}\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\ndisplay:flex;\\nflex-wrap:wrap;\\npadding:5px;\\nwidth:100%;\\nflex:1;\\nalign-content:space-evenly;\\njustify-content:space-around;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\nposition:absolute;\\nright:13px;\\ntop:5px;\\nfont-size:18px;\\ncolor:#f57170;\\n&:hover{\\n    cursor:pointer;\\n}\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\nposition:fixed;\\ndisplay:flex;\\njustify-content:space-around;\\nalign-items:center;\\nflex-flow:column;\\nwidth:50%;\\nheight:70%;\\nmargin:0 auto;\\nleft:0;\\nright:0;\\nborder-radius:6px;\\npadding:15px;\\nbox-sizing:border-box;\\ntop:12%;\\nz-index:7;\\nbackground:white;\\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\\n\\n@media (max-width: 600px) {\\n    width:95%;\\n    height:60%;\\n}\\n\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useContext,useEffect}from'react';import styled from'styled-components';import{Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec}from'@material-ui/core';import{makePersonSearchRequest}from'../../request/requset';import{Context}from'../../Context/Context';import DateFnsUtils from'@date-io/date-fns';import{MuiPickersUtilsProvider,KeyboardDatePicker}from'@material-ui/pickers';var SearchModalContainer=styled.form(_templateObject());var CloseIcon=styled.div(_templateObject2());var SearchFields=styled.div(_templateObject3());var SubmitButton=styled.button(_templateObject4());var initialSearchState={firstName:'',lastName:'',role:'',region:'',contractDateStart:'',contractDateEnd:'',gender:''};export var SearchPersonModal=React.memo(function(_ref){var isOpen=_ref.isOpen,close=_ref.close,role=_ref.role,closeModalOnly=_ref.closeModalOnly,setReports=_ref.setReports,setSubPagesCount=_ref.setSubPagesCount,setNotFound=_ref.setNotFound,setMainSearchData=_ref.setMainSearchData,setSelectedSubPage=_ref.setSelectedSubPage,isOnlySubBranch=_ref.isOnlySubBranch,id=_ref.id;var _useState=useState(initialSearchState),_useState2=_slicedToArray(_useState,2),searchData=_useState2[0],setSearchData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),date2=_useState6[0],setDate2=_useState6[1];var _useContext=useContext(Context),isLoggedinf=_useContext.isLoggedinf;useEffect(function(){setSearchData(function(prev){return _objectSpread({},prev,{contractDateStart:date});});},[date]);useEffect(function(){setSearchData(function(prev){return _objectSpread({},prev,{contractDateEnd:date2});});},[date2]);var searchSubmitHandler=function searchSubmitHandler(e){e.preventDefault();closeModalOnly(false);setSelectedSubPage(0);var searchMainData=_objectSpread({},searchData);for(var key in searchMainData){if(searchMainData[key]&&key!=='contractDateStart'&&key!=='contractDateEnd')searchMainData[key]=searchMainData[key].trim();}setMainSearchData(searchMainData);//we can also send trim data to parent component;\nif(isOnlySubBranch){var _role=searchData.role,updatedSearchData=_objectWithoutProperties(searchData,[\"role\"]);searchMainData=_objectSpread({},updatedSearchData,{relatedAgencyID:id});}makePersonSearchRequest('post',searchMainData,isLoggedinf,setReports,close,setSubPagesCount,function(){},setNotFound);};var submitChangeHandler=function submitChangeHandler(Type){return function(event){var value=event.target.value;setSearchData(function(prevState){return _objectSpread({},prevState,_defineProperty({},Type,value));});// react uses synthetic event istead of dom event\n};};return isOpen?/*#__PURE__*/React.createElement(SearchModalContainer,{onSubmit:searchSubmitHandler},/*#__PURE__*/React.createElement(CloseIcon,{onClick:close},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-times\"})),/*#__PURE__*/React.createElement(SearchFields,null,/*#__PURE__*/React.createElement(TextField,{style:{width:'45%'},inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},value:searchData['firstName'],onChange:submitChangeHandler('firstName'),id:\"standard-basic\",label:\"\\u0130sim\"}),/*#__PURE__*/React.createElement(TextField,{style:{width:'45%'},inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},value:searchData['lastName'],onChange:submitChangeHandler('lastName'),id:\"standard-basic\",label:\"Soy \\u0130sim\"}),!isOnlySubBranch?/*#__PURE__*/React.createElement(TextField,{style:{width:'45%',fontSize:14},inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},value:searchData['role'],onChange:submitChangeHandler('role'),id:\"select\",label:\"Rol\",select:true},/*#__PURE__*/React.createElement(MenuItem,{value:\"\",selected:true},/*#__PURE__*/React.createElement(\"em\",null,\"Rol\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"Admin\"},\"Admin\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"Temsilci\"},\"Temsilci\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"Bayi\"},\"Bayi\")):null,/*#__PURE__*/React.createElement(TextField,{style:{width:'45%',fontSize:14},inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},value:searchData['gender'],onChange:submitChangeHandler('gender'),id:\"select\",label:\"Cinsiyet\",select:true},/*#__PURE__*/React.createElement(MenuItem,{value:\"\",selected:true},/*#__PURE__*/React.createElement(\"em\",null,\"Cinsiyet\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"Male\"},\"Erkek\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"Female\"},\"Kad\\u0131n\")),/*#__PURE__*/React.createElement(TextField,{style:{width:'45%'},inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},value:searchData['region'],onChange:submitChangeHandler('region'),id:\"standard-basic\",label:\"B\\xF6lge\"}),/*#__PURE__*/React.createElement(MuiPickersUtilsProvider,{utils:DateFnsUtils},/*#__PURE__*/React.createElement(KeyboardDatePicker,{disableToolbar:true,inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},variant:\"inline\",format:\"dd/MM/yyyy\",margin:\"normal\",id:\"date-picker-inline\",label:\"Ba\\u015Flang\\u0131\\xE7 Tarih\",value:searchData['contractDateStart'],onChange:setDate,style:{width:'45%',margin:'10px 0'}}),/*#__PURE__*/React.createElement(KeyboardDatePicker,{disableToolbar:true,inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:14}},variant:\"inline\",format:\"dd/MM/yyyy\",margin:\"normal\",id:\"date-picker-inline\",label:\"Son Tarih\",value:searchData['contractDateEnd'],onChange:setDate2,style:{width:'45%',margin:'10px 0'}}))),/*#__PURE__*/React.createElement(SubmitButton,{type:\"submit\"},\" \",/*#__PURE__*/React.createElement(\"i\",{class:\"fas  fa-search\"}),\" ARA \")):null;});","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOŞ/Study-Online/frontend/src/UI/SearchModal/SearchPerson.js"],"names":["React","useState","useContext","useEffect","styled","Checkbox","TextField","Tab","Tabs","Paper","InputLabel","MenuItem","Selec","makePersonSearchRequest","Context","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","SearchModalContainer","form","CloseIcon","div","SearchFields","SubmitButton","button","initialSearchState","firstName","lastName","role","region","contractDateStart","contractDateEnd","gender","SearchPersonModal","memo","isOpen","close","closeModalOnly","setReports","setSubPagesCount","setNotFound","setMainSearchData","setSelectedSubPage","isOnlySubBranch","id","searchData","setSearchData","date","setDate","date2","setDate2","isLoggedinf","prev","searchSubmitHandler","e","preventDefault","searchMainData","key","trim","updatedSearchData","relatedAgencyID","submitChangeHandler","Type","event","value","target","prevState","width","style","fontSize","margin"],"mappings":"mxEAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,UAAvB,CAAkCC,SAAlC,KAAkD,OAAlD,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAAQC,QAAR,CAAiBC,SAAjB,CAA2BC,GAA3B,CAA+BC,IAA/B,CAAoCC,KAApC,CAA0CC,UAA1C,CAAqDC,QAArD,CAA8DC,KAA9D,KAA0E,mBAA1E,CACA,OAAQC,uBAAR,KAAuC,uBAAvC,CACA,OAAQC,OAAR,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,mBAAzB,CACA,OAAQC,uBAAR,CAAgCC,kBAAhC,KAAyD,sBAAzD,CAEA,GAAMC,CAAAA,oBAAoB,CAAGd,MAAM,CAACe,IAAV,mBAA1B,CAyBA,GAAMC,CAAAA,SAAS,CAAGhB,MAAM,CAACiB,GAAV,oBAAf,CAWA,GAAMC,CAAAA,YAAY,CAAGlB,MAAM,CAACiB,GAAV,oBAAlB,CAUA,GAAME,CAAAA,YAAY,CAAGnB,MAAM,CAACoB,MAAV,oBAAlB,CAYA,GAAMC,CAAAA,kBAAkB,CAAG,CAC1BC,SAAS,CAAC,EADgB,CAE1BC,QAAQ,CAAC,EAFiB,CAG1BC,IAAI,CAAC,EAHqB,CAI1BC,MAAM,CAAC,EAJmB,CAK1BC,iBAAiB,CAAC,EALQ,CAM1BC,eAAe,CAAC,EANU,CAO1BC,MAAM,CAAC,EAPmB,CAA3B,CAUA,MAAO,IAAOC,CAAAA,iBAAiB,CAAGjC,KAAK,CAACkC,IAAN,CAAW,cAAgJ,IAA9IC,CAAAA,MAA8I,MAA9IA,MAA8I,CAAvIC,KAAuI,MAAvIA,KAAuI,CAAjIR,IAAiI,MAAjIA,IAAiI,CAA5HS,cAA4H,MAA5HA,cAA4H,CAA7GC,UAA6G,MAA7GA,UAA6G,CAAjGC,gBAAiG,MAAjGA,gBAAiG,CAAhFC,WAAgF,MAAhFA,WAAgF,CAAnEC,iBAAmE,MAAnEA,iBAAmE,CAA/CC,kBAA+C,MAA/CA,kBAA+C,CAA1BC,eAA0B,MAA1BA,eAA0B,CAARC,EAAQ,MAARA,EAAQ,eAEtJ3C,QAAQ,CAAEwB,kBAAF,CAF8I,wCAElLoB,UAFkL,eAEvKC,aAFuK,8BAGlK7C,QAAQ,CAAC,IAAD,CAH0J,yCAGlL8C,IAHkL,eAG7KC,OAH6K,8BAIhK/C,QAAQ,CAAC,IAAD,CAJwJ,yCAIlLgD,KAJkL,eAI5KC,QAJ4K,+BAKlKhD,UAAU,CAACY,OAAD,CALwJ,CAKlLqC,WALkL,aAKlLA,WALkL,CAOzLhD,SAAS,CAAC,UAAM,CACZ2C,aAAa,CAAC,SAACM,IAAD,0BAAaA,IAAb,EAAkBtB,iBAAiB,CAACiB,IAApC,IAAD,CAAb,CACH,CAFQ,CAEN,CAACA,IAAD,CAFM,CAAT,CAIA5C,SAAS,CAAC,UAAM,CACZ2C,aAAa,CAAC,SAACM,IAAD,0BAAaA,IAAb,EAAkBrB,eAAe,CAACkB,KAAlC,IAAD,CAAb,CACH,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAKA,GAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,CAAD,CAAK,CAE7BA,CAAC,CAACC,cAAF,GAEAlB,cAAc,CAAC,KAAD,CAAd,CACAK,kBAAkB,CAAC,CAAD,CAAlB,CAGA,GAAKc,CAAAA,cAAc,kBAAOX,UAAP,CAAnB,CAEA,IAAK,GAAMY,CAAAA,GAAX,GAAkBD,CAAAA,cAAlB,CAAiC,CAC7B,GAAGA,cAAc,CAACC,GAAD,CAAd,EAAuBA,GAAG,GAAK,mBAA/B,EAAsDA,GAAG,GAAK,iBAAjE,CAAsFD,cAAc,CAACC,GAAD,CAAd,CAAuBD,cAAc,CAACC,GAAD,CAAd,CAAoBC,IAApB,EAAvB,CACzF,CAEDjB,iBAAiB,CAACe,cAAD,CAAjB,CAAoC;AAEpC,GAAGb,eAAH,CACA,IACSf,CAAAA,KADT,CACyCiB,UADzC,CACSjB,IADT,CACmB+B,iBADnB,0BACyCd,UADzC,WAEIW,cAAc,kBAAKG,iBAAL,EAAuBC,eAAe,CAAChB,EAAvC,EAAd,CACH,CAED/B,uBAAuB,CAAC,MAAD,CAAQ2C,cAAR,CAAwBL,WAAxB,CAAsCb,UAAtC,CAAmDF,KAAnD,CAA2DG,gBAA3D,CAA4E,UAAI,CAAE,CAAlF,CAAqFC,WAArF,CAAvB,CACH,CAvBD,CAyBA,GAAMqB,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAAC,IAAI,QAAI,UAAAC,KAAK,CAAI,CAC3C,GAAIC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,CAAaD,KAAzB,CACAlB,aAAa,CAAC,SAACoB,SAAD,0BAAkBA,SAAlB,oBAA6BJ,IAA7B,CAAmCE,KAAnC,IAAD,CAAb,CAA2D;AAC5D,CAH+B,EAAhC,CAKA,MAAO7B,CAAAA,MAAM,cAAG,oBAAC,oBAAD,EAAsB,QAAQ,CAAEkB,mBAAhC,eAEZ,oBAAC,SAAD,EAAW,OAAO,CAAEjB,KAApB,eACG,yBAAG,KAAK,CAAC,cAAT,EADH,CAFY,cAMZ,oBAAC,YAAD,mBAEI,oBAAC,SAAD,EAAa,KAAK,CAAE,CAAC+B,KAAK,CAAC,KAAP,CAApB,CAAoC,UAAU,CAAE,CAACC,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAhD,CAAwE,eAAe,CAAE,CAACD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAzF,CAAgH,KAAK,CAAExB,UAAU,CAAC,WAAD,CAAjI,CAAiJ,QAAQ,CAAEgB,mBAAmB,CAAC,WAAD,CAA9K,CAA8L,EAAE,CAAC,gBAAjM,CAAkN,KAAK,CAAC,WAAxN,EAFJ,cAII,oBAAC,SAAD,EAAa,KAAK,CAAE,CAACM,KAAK,CAAC,KAAP,CAApB,CAAoC,UAAU,CAAE,CAACC,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAhD,CAAuE,eAAe,CAAE,CAACD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAxF,CAA+G,KAAK,CAAExB,UAAU,CAAC,UAAD,CAAhI,CAA+I,QAAQ,CAAEgB,mBAAmB,CAAC,UAAD,CAA5K,CAA2L,EAAE,CAAC,gBAA9L,CAA+M,KAAK,CAAC,eAArN,EAJJ,CAOQ,CAAClB,eAAD,cAEI,oBAAC,SAAD,EAAW,KAAK,CAAE,CAACwB,KAAK,CAAC,KAAP,CAAaE,QAAQ,CAAC,EAAtB,CAAlB,CAA6C,UAAU,CAAE,CAACD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAzD,CAAiF,eAAe,CAAE,CAACD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAlG,CAA4H,KAAK,CAAExB,UAAU,CAAC,MAAD,CAA7I,CAAwJ,QAAQ,CAAEgB,mBAAmB,CAAC,MAAD,CAArL,CAAgM,EAAE,CAAC,QAAnM,CAA4M,KAAK,CAAC,KAAlN,CAAyN,MAAM,KAA/N,eACY,oBAAC,QAAD,EAAU,KAAK,CAAC,EAAhB,CAAmB,QAAQ,KAA3B,eAA4B,oCAA5B,CADZ,cAEY,oBAAC,QAAD,EAAU,KAAK,CAAC,OAAhB,UAFZ,cAGY,oBAAC,QAAD,EAAU,KAAK,CAAC,UAAhB,aAHZ,cAIY,oBAAC,QAAD,EAAU,KAAK,CAAC,MAAhB,SAJZ,CAFJ,CASE,IAhBV,cAkBI,oBAAC,SAAD,EAAW,KAAK,CAAE,CAACM,KAAK,CAAC,KAAP,CAAaE,QAAQ,CAAC,EAAtB,CAAlB,CAA6C,UAAU,CAAE,CAACD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAzD,CAAiF,eAAe,CAAE,CAACD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAlG,CAA4H,KAAK,CAAExB,UAAU,CAAC,QAAD,CAA7I,CAA0J,QAAQ,CAAEgB,mBAAmB,CAAC,QAAD,CAAvL,CAAoM,EAAE,CAAC,QAAvM,CAAgN,KAAK,CAAC,UAAtN,CAAkO,MAAM,KAAxO,eACY,oBAAC,QAAD,EAAU,KAAK,CAAC,EAAhB,CAAmB,QAAQ,KAA3B,eAA4B,yCAA5B,CADZ,cAEY,oBAAC,QAAD,EAAU,KAAK,CAAC,MAAhB,UAFZ,cAGY,oBAAC,QAAD,EAAU,KAAK,CAAC,QAAhB,eAHZ,CAlBJ,cAwBI,oBAAC,SAAD,EAAa,KAAK,CAAE,CAACM,KAAK,CAAC,KAAP,CAApB,CAAqC,UAAU,CAAE,CAACC,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAjD,CAAwE,eAAe,CAAE,CAACD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAAzF,CAAgH,KAAK,CAAExB,UAAU,CAAC,QAAD,CAAjI,CAA8I,QAAQ,CAAEgB,mBAAmB,CAAC,QAAD,CAA3K,CAAwL,EAAE,CAAC,gBAA3L,CAA4M,KAAK,CAAC,UAAlN,EAxBJ,cA4BC,oBAAC,uBAAD,EAAyB,KAAK,CAAE9C,YAAhC,eAEA,oBAAC,kBAAD,EAAoB,cAAc,KAAlC,CACA,UAAU,CAAE,CAACqD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CADZ,CAEA,eAAe,CAAE,CAACD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAFjB,CAGC,OAAO,CAAC,QAHT,CAIC,MAAM,CAAC,YAJR,CAKC,MAAM,CAAC,QALR,CAMC,EAAE,CAAC,oBANJ,CAOC,KAAK,CAAC,8BAPP,CAQC,KAAK,CAAExB,UAAU,CAAC,mBAAD,CARlB,CASC,QAAQ,CAAEG,OATX,CAUC,KAAK,CAAE,CAACmB,KAAK,CAAC,KAAP,CAAaG,MAAM,CAAC,QAApB,CAVR,EAFA,cAcD,oBAAC,kBAAD,EAAoB,cAAc,KAAlC,CACA,UAAU,CAAE,CAACF,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CADZ,CAEC,eAAe,CAAE,CAACD,KAAK,CAAC,CAACC,QAAQ,CAAC,EAAV,CAAP,CAFlB,CAGE,OAAO,CAAC,QAHV,CAIE,MAAM,CAAC,YAJT,CAKE,MAAM,CAAC,QALT,CAME,EAAE,CAAC,oBANL,CAOE,KAAK,CAAC,WAPR,CAQE,KAAK,CAAExB,UAAU,CAAC,iBAAD,CARnB,CASE,QAAQ,CAAEK,QATZ,CAUE,KAAK,CAAE,CAACiB,KAAK,CAAC,KAAP,CAAaG,MAAM,CAAC,QAApB,CAVT,EAdC,CA5BD,CANY,cAgEZ,oBAAC,YAAD,EAAc,IAAI,CAAC,QAAnB,mBAA6B,yBAAG,KAAK,CAAC,gBAAT,EAA7B,SAhEY,CAAH,CAkEW,IAlExB,CAqEH,CAnHiC,CAA3B","sourcesContent":["import React,{useState,useContext,useEffect} from 'react';\r\nimport styled from 'styled-components';\r\nimport {Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec} from '@material-ui/core'\r\nimport {makePersonSearchRequest}  from '../../request/requset'\r\nimport {Context} from '../../Context/Context';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider,KeyboardDatePicker} from '@material-ui/pickers'\r\n\r\nconst SearchModalContainer = styled.form`\r\nposition:fixed;\r\ndisplay:flex;\r\njustify-content:space-around;\r\nalign-items:center;\r\nflex-flow:column;\r\nwidth:50%;\r\nheight:70%;\r\nmargin:0 auto;\r\nleft:0;\r\nright:0;\r\nborder-radius:6px;\r\npadding:15px;\r\nbox-sizing:border-box;\r\ntop:12%;\r\nz-index:7;\r\nbackground:white;\r\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\r\n\r\n@media (max-width: 600px) {\r\n    width:95%;\r\n    height:60%;\r\n}\r\n\r\n`\r\nconst CloseIcon = styled.div`\r\nposition:absolute;\r\nright:13px;\r\ntop:5px;\r\nfont-size:18px;\r\ncolor:#f57170;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\n\r\nconst SearchFields = styled.div`\r\ndisplay:flex;\r\nflex-wrap:wrap;\r\npadding:5px;\r\nwidth:100%;\r\nflex:1;\r\nalign-content:space-evenly;\r\njustify-content:space-around;\r\n`\r\n\r\nconst SubmitButton = styled.button`\r\noutline:none; \r\nbackground:#00bdaa;\r\nborder:none;\r\nalign-self:flex-end;\r\ncolor:white;\r\nborder-radius:5px;\r\npadding:7px 13px ;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\nconst initialSearchState = {\r\n firstName:'',\r\n lastName:'',\r\n role:'',\r\n region:'',\r\n contractDateStart:'',\r\n contractDateEnd:'',\r\n gender:'',\r\n}\r\n\r\nexport const  SearchPersonModal = React.memo(({isOpen,close,role,closeModalOnly,setReports ,setSubPagesCount,setNotFound, setMainSearchData , setSelectedSubPage , isOnlySubBranch , id}) => {\r\n  \r\n    const [searchData,setSearchData] = useState (initialSearchState);\r\n    const [date,setDate] = useState(null);\r\n    const [date2,setDate2] = useState(null);\r\n    const {isLoggedinf}  = useContext(Context); \r\n\r\n    useEffect(() => {\r\n        setSearchData((prev)=>({...prev,contractDateStart:date}))\r\n    }, [date])\r\n\r\n    useEffect(() => {\r\n        setSearchData((prev)=>({...prev,contractDateEnd:date2}))\r\n    }, [date2])\r\n    \r\n\r\n    const searchSubmitHandler = (e)=>{\r\n\r\n        e.preventDefault();\r\n\r\n        closeModalOnly(false);\r\n        setSelectedSubPage(0);\r\n       \r\n\r\n        let  searchMainData = {...searchData};\r\n\r\n        for (const key in searchMainData){\r\n            if(searchMainData[key] && key !== 'contractDateStart' && key !== 'contractDateEnd')   searchMainData[key]  = searchMainData[key].trim();            \r\n        }\r\n        \r\n        setMainSearchData(searchMainData);  //we can also send trim data to parent component;\r\n\r\n        if(isOnlySubBranch) \r\n        {\r\n            let {role , ...updatedSearchData } = searchData;\r\n            searchMainData={...updatedSearchData,relatedAgencyID:id}\r\n        }\r\n        \r\n        makePersonSearchRequest('post',searchMainData, isLoggedinf , setReports , close , setSubPagesCount,()=>{} , setNotFound);      \r\n    }\r\n\r\n    const submitChangeHandler = Type => event => {\r\n      let value = event.target.value; \r\n      setSearchData((prevState)=>({...prevState,[Type]:value})); // react uses synthetic event istead of dom event\r\n    }      \r\n\r\n    return isOpen ? <SearchModalContainer onSubmit={searchSubmitHandler} >\r\n\r\n        <CloseIcon onClick={close}>\r\n           <i class=\"fas fa-times\"></i>\r\n        </CloseIcon>\r\n\r\n        <SearchFields>\r\n      \r\n            <TextField   style={{width:'45%'}}  inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}} value={searchData['firstName']}  onChange={submitChangeHandler('firstName')}  id=\"standard-basic\" label=\"İsim\" />\r\n\r\n            <TextField   style={{width:'45%'}}  inputProps={{style:{fontSize:14}}} InputLabelProps={{style:{fontSize:14}}} value={searchData['lastName']}  onChange={submitChangeHandler('lastName')}  id=\"standard-basic\" label=\"Soy İsim\" />\r\n\r\n            {\r\n                !isOnlySubBranch  ?\r\n\r\n                    <TextField style={{width:'45%',fontSize:14}} inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}}    value={searchData['role']}  onChange={submitChangeHandler('role')}  id=\"select\" label=\"Rol\"  select>\r\n                                <MenuItem value=\"\" selected><em>Rol</em></MenuItem>\r\n                                <MenuItem value=\"Admin\">Admin</MenuItem>\r\n                                <MenuItem value=\"Temsilci\">Temsilci</MenuItem>\r\n                                <MenuItem value=\"Bayi\">Bayi</MenuItem>\r\n                    </TextField>\r\n                 \r\n                : null\r\n            }\r\n            <TextField style={{width:'45%',fontSize:14}} inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}}    value={searchData['gender']}  onChange={submitChangeHandler('gender')}  id=\"select\" label=\"Cinsiyet\"  select>\r\n                        <MenuItem value=\"\" selected><em>Cinsiyet</em></MenuItem>\r\n                        <MenuItem value=\"Male\">Erkek</MenuItem>\r\n                        <MenuItem value=\"Female\">Kadın</MenuItem>\r\n            </TextField>\r\n\r\n            <TextField   style={{width:'45%'}}   inputProps={{style:{fontSize:14}}} InputLabelProps={{style:{fontSize:14}}} value={searchData['region']}  onChange={submitChangeHandler('region')}  id=\"standard-basic\" label=\"Bölge\" />\r\n\r\n    \r\n        \r\n         <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\r\n         <KeyboardDatePicker disableToolbar\r\n         inputProps={{style:{fontSize:14}}}\r\n         InputLabelProps={{style:{fontSize:14}}}\r\n          variant=\"inline\"\r\n          format=\"dd/MM/yyyy\"\r\n          margin=\"normal\"\r\n          id=\"date-picker-inline\"\r\n          label=\"Başlangıç Tarih\"   \r\n          value={searchData['contractDateStart']} \r\n          onChange={setDate} \r\n          style={{width:'45%',margin:'10px 0'}}/>\r\n\r\n        <KeyboardDatePicker disableToolbar\r\n        inputProps={{style:{fontSize:14}}}\r\n         InputLabelProps={{style:{fontSize:14}}}\r\n          variant=\"inline\"\r\n          format=\"dd/MM/yyyy\"\r\n          margin=\"normal\"\r\n          id=\"date-picker-inline\"\r\n          label=\"Son Tarih\"   \r\n          value={searchData['contractDateEnd']} \r\n          onChange={setDate2} \r\n          style={{width:'45%',margin:'10px 0'}}/>\r\n\r\n         </MuiPickersUtilsProvider>\r\n\r\n        </SearchFields>\r\n\r\n        <SubmitButton type='submit'> <i class=\"fas  fa-search\"></i> ARA </SubmitButton>\r\n             \r\n  </SearchModalContainer> : null;\r\n\r\n\r\n});\r\n"]},"metadata":{},"sourceType":"module"}