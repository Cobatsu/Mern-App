{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bexfg\\\\Desktop\\\\BO\\u015E\\\\Study-Online\\\\client\\\\src\\\\UI\\\\SearchModal\\\\SearchReport.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Checkbox, TextField, Tab, Tabs, Paper, InputLabel, MenuItem, Selec } from '@material-ui/core';\nimport { makeReportSearchRequest } from '../../request/requset';\nimport { Context } from '../../Context/Context';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nconst SearchModalContainer = styled.form`\nposition:fixed;\ndisplay:flex;\njustify-content:space-around;\nalign-items:center;\nflex-flow:column;\nwidth:50%;\nheight:70%;\nmargin:0 auto;\nleft:0;\nright:0;\nborder-radius:6px;\npadding:15px;\nbox-sizing:border-box;\ntop:12%;\nz-index:7;\nbackground:white;\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\n\n@media (max-width: 600px) {\n    width:95%;\n    height:60%;\n}\n\n`;\nconst CloseIcon = styled.div`\nposition:absolute;\nright:13px;\ntop:5px;\nfont-size:18px;\ncolor:#f57170;\n&:hover{\n    cursor:pointer;\n}\n`;\nconst SearchFields = styled.div`\ndisplay:flex;\nflex-wrap:wrap;\npadding:5px;\nwidth:100%;\nflex:1;\nalign-content:space-evenly;\njustify-content:space-around;\n`;\nconst SubmitButton = styled.button`\noutline:none; \nbackground:#00bdaa;\nborder:none;\nalign-self:flex-end;\ncolor:white;\nborder-radius:5px;\npadding:7px 13px ;\n&:hover{\n    cursor:pointer;\n}\n`;\nconst initialSearchState = {\n  reportType: '',\n  relatedPersonName: '',\n  relatedPersonPhoneNumber: '',\n  dateIntervalStart: '',\n  dateIntervalEnd: '',\n  schoolName: ''\n};\nconst initialSearchState2 = {\n  reportType: '',\n  relatedPersonName: '',\n  relatedPersonPhoneNumber: '',\n  dateIntervalStart: '',\n  dateIntervalEnd: '',\n  schoolName: '',\n  whoseDocument: ''\n};\nexport const SearchReportModal = React.memo(({\n  isOpen,\n  close,\n  role,\n  closeModalOnly,\n  setReports,\n  setSubPagesCount,\n  setNotFound,\n  setMainSearchData,\n  setSelectedSubPage\n}) => {\n  const [searchData, setSearchData] = useState(null);\n  const [date, setDate] = useState(null);\n  const [date2, setDate2] = useState(null);\n  const {\n    isLoggedinf\n  } = useContext(Context);\n  useEffect(() => {\n    role === 'Admin' ? setSearchData(initialSearchState2) : setSearchData(initialSearchState);\n  }, [role]);\n  useEffect(() => {\n    setSearchData(prev => ({ ...prev,\n      dateIntervalStart: date\n    }));\n  }, [date]);\n  useEffect(() => {\n    setSearchData(prev => ({ ...prev,\n      dateIntervalEnd: date2\n    }));\n  }, [date2]);\n\n  const searchSubmitHandler = e => {\n    e.preventDefault();\n    closeModalOnly(false);\n    setSelectedSubPage(0);\n    const searchMainData = { ...searchData\n    };\n\n    for (const key in searchMainData) {\n      if (searchMainData[key] && key !== 'dateIntervalStart' && key !== 'dateIntervalEnd') searchMainData[key] = searchMainData[key].trim();\n    }\n\n    setMainSearchData(searchMainData); //we can also send trimmed data to parent component;\n\n    makeReportSearchRequest('post', searchMainData, isLoggedinf, setReports, close, setSubPagesCount, () => {}, setNotFound);\n  };\n\n  const submitChangeHandler = Type => event => {\n    let value = event.target.value;\n    setSearchData(prevState => ({ ...prevState,\n      [Type]: value\n    })); // react uses synthetic event istead of dom event\n  };\n\n  return isOpen ? /*#__PURE__*/React.createElement(SearchModalContainer, {\n    onSubmit: searchSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-times\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(SearchFields, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '45%',\n      fontSize: 14\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    value: searchData['reportType'],\n    onChange: submitChangeHandler('reportType'),\n    id: \"select\",\n    label: \"G\\xF6r\\xFC\\u015Fme Tipi\",\n    select: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"schoolReport\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, \"Okul G\\xF6r\\xFC\\u015Fmesi\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"studentReport\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, \"Veli/\\xD6\\u011Frenci G\\xF6r\\xFC\\u015Fmesi\")), role === 'Admin' ? /*#__PURE__*/React.createElement(TextField, {\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    style: {\n      width: '45%'\n    },\n    value: searchData['whoseDocument'],\n    onChange: submitChangeHandler('whoseDocument'),\n    id: \"standard-basic\",\n    label: \"G\\xF6nderen  Ki\\u015Fi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 37\n    }\n  }) : null, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '45%'\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    value: searchData['relatedPersonName'],\n    onChange: submitChangeHandler('relatedPersonName'),\n    id: \"standard-basic\",\n    label: \"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Fi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '45%'\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    value: searchData['relatedPersonPhoneNumber'],\n    onChange: submitChangeHandler('relatedPersonPhoneNumber'),\n    id: \"standard-basic\",\n    label: \"G\\xF6r\\xFC\\u015F\\xFClen Ki\\u015Finin Telefon Numaras\\u0131\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: '45%'\n    },\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    value: searchData['schoolName'],\n    onChange: submitChangeHandler('schoolName'),\n    id: \"standard-basic\",\n    label: \"Okul \\u0130smi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n    utils: DateFnsUtils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n    disableToolbar: true,\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    variant: \"inline\",\n    format: \"dd/MM/yyyy\",\n    margin: \"normal\",\n    id: \"date-picker-inline\",\n    label: \"Ba\\u015Flang\\u0131\\xE7 Tarih\",\n    value: searchData['dateIntervalStart'],\n    onChange: setDate,\n    style: {\n      width: '45%',\n      margin: '10px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n    disableToolbar: true,\n    inputProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 14\n      }\n    },\n    variant: \"inline\",\n    format: \"dd/MM/yyyy\",\n    margin: \"normal\",\n    id: \"date-picker-inline\",\n    label: \"Son Tarih\",\n    value: searchData['dateIntervalEnd'],\n    onChange: setDate2,\n    style: {\n      width: '45%',\n      margin: '10px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas  fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 38\n    }\n  }), \" ARA \")) : null;\n});","map":{"version":3,"sources":["C:/Users/bexfg/Desktop/BOÅž/Study-Online/client/src/UI/SearchModal/SearchReport.js"],"names":["React","useState","useContext","useEffect","styled","Checkbox","TextField","Tab","Tabs","Paper","InputLabel","MenuItem","Selec","makeReportSearchRequest","Context","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","SearchModalContainer","form","CloseIcon","div","SearchFields","SubmitButton","button","initialSearchState","reportType","relatedPersonName","relatedPersonPhoneNumber","dateIntervalStart","dateIntervalEnd","schoolName","initialSearchState2","whoseDocument","SearchReportModal","memo","isOpen","close","role","closeModalOnly","setReports","setSubPagesCount","setNotFound","setMainSearchData","setSelectedSubPage","searchData","setSearchData","date","setDate","date2","setDate2","isLoggedinf","prev","searchSubmitHandler","e","preventDefault","searchMainData","key","trim","submitChangeHandler","Type","event","value","target","prevState","width","fontSize","style","margin"],"mappings":"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","sourcesContent":["import React,{useState,useContext,useEffect} from 'react';\r\nimport styled from 'styled-components';\r\nimport {Checkbox,TextField,Tab,Tabs,Paper,InputLabel,MenuItem,Selec} from '@material-ui/core'\r\nimport {makeReportSearchRequest}  from '../../request/requset'\r\nimport {Context} from '../../Context/Context';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider,KeyboardDatePicker} from '@material-ui/pickers'\r\n\r\nconst SearchModalContainer = styled.form`\r\nposition:fixed;\r\ndisplay:flex;\r\njustify-content:space-around;\r\nalign-items:center;\r\nflex-flow:column;\r\nwidth:50%;\r\nheight:70%;\r\nmargin:0 auto;\r\nleft:0;\r\nright:0;\r\nborder-radius:6px;\r\npadding:15px;\r\nbox-sizing:border-box;\r\ntop:12%;\r\nz-index:7;\r\nbackground:white;\r\nbox-shadow: 0 1px 6px -1px rgba(0, 0, 0,0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.02);\r\n\r\n@media (max-width: 600px) {\r\n    width:95%;\r\n    height:60%;\r\n}\r\n\r\n`\r\nconst CloseIcon = styled.div`\r\nposition:absolute;\r\nright:13px;\r\ntop:5px;\r\nfont-size:18px;\r\ncolor:#f57170;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\n\r\nconst SearchFields = styled.div`\r\ndisplay:flex;\r\nflex-wrap:wrap;\r\npadding:5px;\r\nwidth:100%;\r\nflex:1;\r\nalign-content:space-evenly;\r\njustify-content:space-around;\r\n`\r\n\r\nconst SubmitButton = styled.button`\r\noutline:none; \r\nbackground:#00bdaa;\r\nborder:none;\r\nalign-self:flex-end;\r\ncolor:white;\r\nborder-radius:5px;\r\npadding:7px 13px ;\r\n&:hover{\r\n    cursor:pointer;\r\n}\r\n`\r\nconst initialSearchState = {\r\n reportType:'',\r\n relatedPersonName:'',\r\n relatedPersonPhoneNumber:'',\r\n dateIntervalStart:'',\r\n dateIntervalEnd:'',\r\n schoolName:'',\r\n}\r\n\r\nconst initialSearchState2 = {\r\n reportType:'',\r\n relatedPersonName:'',\r\n relatedPersonPhoneNumber:'',\r\n dateIntervalStart:'',\r\n dateIntervalEnd:'',\r\n schoolName:'',\r\n whoseDocument:'',\r\n}\r\n\r\nexport const  SearchReportModal =React.memo(({isOpen,close,role,closeModalOnly,setReports ,setSubPagesCount,setNotFound, setMainSearchData , setSelectedSubPage }) => {\r\n  \r\n    const [searchData,setSearchData] = useState (null);\r\n    const [date,setDate] = useState(null);\r\n    const [date2,setDate2] = useState(null);\r\n    const {isLoggedinf}  = useContext(Context); \r\n    \r\n\r\n    useEffect(()=>{ \r\n        role === 'Admin' ? setSearchData(initialSearchState2) : setSearchData(initialSearchState);   \r\n    },[role])\r\n\r\n    useEffect(() => {\r\n        setSearchData((prev)=>({...prev,dateIntervalStart:date}))\r\n    }, [date])\r\n\r\n    useEffect(() => {\r\n        setSearchData((prev)=>({...prev,dateIntervalEnd:date2}))\r\n    }, [date2])\r\n  \r\n    const searchSubmitHandler = (e)=>{\r\n        e.preventDefault();\r\n\r\n        closeModalOnly(false);\r\n        setSelectedSubPage(0);\r\n        \r\n        const searchMainData = {...searchData};\r\n\r\n        for (const key in searchMainData){\r\n            if(searchMainData[key] && key !== 'dateIntervalStart' && key !== 'dateIntervalEnd')   searchMainData[key]  = searchMainData[key].trim();            \r\n        }\r\n\r\n        setMainSearchData(searchMainData);  //we can also send trimmed data to parent component;\r\n\r\n        makeReportSearchRequest('post',searchMainData, isLoggedinf , setReports , close , setSubPagesCount,()=>{},setNotFound);      \r\n        \r\n    }\r\n\r\n    const submitChangeHandler = Type => event => {\r\n      let value = event.target.value; \r\n      setSearchData((prevState)=>({...prevState,[Type]:value})); // react uses synthetic event istead of dom event\r\n    }      \r\n\r\n    return isOpen ? <SearchModalContainer onSubmit={searchSubmitHandler} >\r\n\r\n        <CloseIcon onClick={close}>\r\n           <i class=\"fas fa-times\"></i>\r\n        </CloseIcon>\r\n\r\n        <SearchFields>\r\n\r\n            <TextField style={{width:'45%',fontSize:14}} inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}}    value={searchData['reportType']}  onChange={submitChangeHandler('reportType')}  id=\"select\" label=\"GÃ¶rÃ¼ÅŸme Tipi\"  select>\r\n                        <MenuItem value=\"schoolReport\">Okul GÃ¶rÃ¼ÅŸmesi</MenuItem>\r\n                        <MenuItem value=\"studentReport\">Veli/Ã–ÄŸrenci GÃ¶rÃ¼ÅŸmesi</MenuItem>\r\n            </TextField>\r\n\r\n            \r\n            {\r\n                role === 'Admin' ?  <TextField  InputLabelProps={{style:{fontSize:14}}} inputProps={{style:{fontSize:14}}}   style={{width:'45%'}} value={searchData['whoseDocument']}  onChange={submitChangeHandler('whoseDocument')}  id=\"standard-basic\" label=\"GÃ¶nderen  KiÅŸi\"/> : null \r\n            }\r\n      \r\n            <TextField   style={{width:'45%'}}  inputProps={{style:{fontSize:14}}}  InputLabelProps={{style:{fontSize:14}}} value={searchData['relatedPersonName']}  onChange={submitChangeHandler('relatedPersonName')}  id=\"standard-basic\" label=\"GÃ¶rÃ¼ÅŸÃ¼len KiÅŸi\" />\r\n\r\n            <TextField   style={{width:'45%'}}  inputProps={{style:{fontSize:14}}} InputLabelProps={{style:{fontSize:14}}} value={searchData['relatedPersonPhoneNumber']}  onChange={submitChangeHandler('relatedPersonPhoneNumber')}  id=\"standard-basic\" label=\"GÃ¶rÃ¼ÅŸÃ¼len KiÅŸinin Telefon NumarasÄ±\" />\r\n\r\n            <TextField   style={{width:'45%'}}   inputProps={{style:{fontSize:14}}} InputLabelProps={{style:{fontSize:14}}} value={searchData['schoolName']}  onChange={submitChangeHandler('schoolName')}  id=\"standard-basic\" label=\"Okul Ä°smi\" />\r\n\r\n        \r\n         <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\r\n         <KeyboardDatePicker disableToolbar\r\n         inputProps={{style:{fontSize:14}}}\r\n         InputLabelProps={{style:{fontSize:14}}}\r\n          variant=\"inline\"\r\n          format=\"dd/MM/yyyy\"\r\n          margin=\"normal\"\r\n          id=\"date-picker-inline\"\r\n          label=\"BaÅŸlangÄ±Ã§ Tarih\"   \r\n          value={searchData['dateIntervalStart']} \r\n          onChange={setDate} \r\n          style={{width:'45%',margin:'10px 0'}}/>\r\n\r\n        <KeyboardDatePicker disableToolbar\r\n        inputProps={{style:{fontSize:14}}}\r\n         InputLabelProps={{style:{fontSize:14}}}\r\n          variant=\"inline\"\r\n          format=\"dd/MM/yyyy\"\r\n          margin=\"normal\"\r\n          id=\"date-picker-inline\"\r\n          label=\"Son Tarih\"   \r\n          value={searchData['dateIntervalEnd']} \r\n          onChange={setDate2} \r\n          style={{width:'45%',margin:'10px 0'}}/>\r\n\r\n         </MuiPickersUtilsProvider>\r\n\r\n        </SearchFields>\r\n\r\n        <SubmitButton type='submit'> <i class=\"fas  fa-search\"></i> ARA </SubmitButton>\r\n             \r\n  </SearchModalContainer> : null;\r\n\r\n\r\n});\r\n"]},"metadata":{},"sourceType":"module"}